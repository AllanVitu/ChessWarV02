import{d as T,j,k as ee,A as D,o as a,T as se,c as o,l as x,b as e,t as l,B as V,h as A,i as u,C as te,D as le,w as h,a as w,r as n,F as i,u as y,R as M,g as R,x as P,E}from"./index-0n7ZVvpq.js";import{_ as ae}from"./DashboardLayout.vue_vue_type_script_setup_true_lang-D7JSpCOr.js";import{b as oe,g as ne}from"./profileAnalysis-D7ewrLEi.js";import"./brand-icon-CfIn26ur.js";import"./auth-NbawEJAF.js";const ie={key:0,class:"app-modal",role:"dialog","aria-modal":"true"},re={class:"app-modal__card"},de={class:"app-modal__header"},ce={class:"app-modal__title"},ue={class:"app-modal__body"},pe={key:0,class:"app-modal__footer"},ve=T({__name:"AppModal",props:{modelValue:{type:Boolean},title:{}},emits:["update:modelValue"],setup(S,{emit:r}){const b=S,p=r,v=()=>{p("update:modelValue",!1)},m=d=>{d.key==="Escape"&&v()};return j(()=>{window.addEventListener("keydown",m)}),ee(()=>{window.removeEventListener("keydown",m)}),(d,$)=>(a(),D(se,{to:"body"},[b.modelValue?(a(),o("div",ie,[e("div",{class:"app-modal__backdrop",onClick:v}),e("div",re,[e("header",de,[e("h2",ce,l(b.title),1),e("button",{class:"icon-button",type:"button","aria-label":"Fermer",onClick:v},"x")]),e("div",ue,[V(d.$slots,"default")]),d.$slots.footer?(a(),o("footer",pe,[V(d.$slots,"footer")])):x("",!0)])])):x("",!0)]))}}),_e={class:"onboarding-list"},he={class:"onboarding-step__title"},be={class:"onboarding-step__text"},me={class:"content-grid"},ge={class:"left-column"},fe={class:"panel hero-card reveal"},ye={class:"hero-header"},ke={class:"hero-actions"},we={class:"hero-body"},Pe={class:"board","aria-hidden":"true"},xe={class:"hero-metrics"},Se={class:"metric-label"},$e={class:"metric-value"},Be={class:"metric-note"},Ce={class:"engine-card"},Le={class:"engine-bars"},Ve={class:"stats-grid"},Ae={class:"stat-label"},Me={class:"stat-value"},Re={class:"stat-meta"},Ee={class:"stat-change"},Ne={class:"stat-detail"},Te={class:"panel trend-card reveal delay-2"},je={class:"trend-chart",viewBox:"0 0 520 180","aria-hidden":"true"},De=["d"],Fe=["d"],qe={class:"trend-footer"},ze={class:"trend-label"},Ie={class:"trend-value"},Ge={class:"trend-note"},He={class:"panel table-card reveal delay-3"},Ke={class:"table-wrap"},Oe={class:"right-column"},Ue={class:"panel rating-card reveal"},Je={class:"rating-header"},Qe={class:"rating-meta"},We={class:"rating-ring"},Xe={class:"ring-center"},Ye={class:"ring-score"},Ze={class:"rating-footer"},es={class:"metric-value"},ss={class:"panel focus-card reveal delay-1"},ts={class:"progress-list"},ls={class:"progress-labels"},as={class:"progress-bar"},os={class:"panel session-card reveal delay-2"},ns={class:"session-list"},is={class:"session-title"},rs={class:"session-time"},ds={class:"session-length"},cs={class:"panel leaderboard-card reveal delay-3"},us={class:"leaderboard-list"},ps={class:"leaderboard-user"},vs={class:"leaderboard-avatar"},_s={class:"leaderboard-name"},hs={class:"leaderboard-meta"},bs={class:"leaderboard-delta"},N="warchess.onboarding.dismissed",ms="f7",Ps=T({__name:"HomeView",setup(S){const r=A(null),b={id:"",name:"Invite",title:"",rating:0,motto:"",location:"",lastSeen:"",email:"",avatarUrl:""},p=u(()=>r.value?.profile??b),v=u(()=>r.value?.games??[]),m=u(()=>r.value?.goals??[]),d=u(()=>r.value?`Bonjour, ${r.value.profile.name}`:"Bonjour"),$=u(()=>r.value?.profile.motto??"Analyse en cours."),c=A(!1),F=[{title:"Choisir un mode",text:"Local, invite ou match classe pour trouver le bon rythme."},{title:"Jouer la partie",text:"Lancez un duel rapide et suivez les coups en direct."},{title:"Analyser",text:"Revoyez vos coups et vos stats pour progresser."}];j(async()=>{r.value=await te(),typeof window<"u"&&!window.localStorage.getItem(N)&&(c.value=!0)});const B=()=>{c.value=!1};le(c,(g,t)=>{t&&!g&&typeof window<"u"&&window.localStorage.setItem(N,"1")});const q=[{label:"Taux de victoire",value:"62%",change:"+4,2%",detail:"30 dernieres parties"},{label:"Precision moyenne",value:"88%",change:"+1,6%",detail:"Tendance saison"},{label:"Serie d'entrainement",value:"12 jours",change:"+3",detail:"Rythme actuel"},{label:"Taux de gaffes",value:"1,8%",change:"-0,4%",detail:"Plus bas = mieux"}],z=[{label:"Evaluation",value:"+1,2",note:"Aux blancs de jouer"},{label:"Meilleure ligne",value:"e4 e5 Nf3",note:"Profondeur 3 demi-coups"},{label:"Menaces",value:"2 actives",note:"Securite du roi"}],I=[24,46,38,62,48,70,56,44],C=ne(),L=u(()=>oe(C.trend,520,180,20)),G=[{title:"Sprint tactique",time:"11:00",length:"15 min"},{title:"Laboratoire d'ouverture",time:"14:30",length:"30 min"},{title:"Revue de finale",time:"19:00",length:"40 min"}],H=[{name:"I. Alvarez",rating:2548,delta:"+12"},{name:"C. Russo",rating:2492,delta:"+8"},{name:"T. Holm",rating:2451,delta:"+5"},{name:"J. Park",rating:2422,delta:"+4"}],K={win:"Victoire",loss:"Defaite",draw:"Nul"},O=["a","b","c","d","e","f","g","h"],U=[8,7,6,5,4,3,2,1],J={p:"♟",r:"♜",n:"♞",b:"♝",q:"♛",k:"♚",P:"♙",R:"♖",N:"♘",B:"♗",Q:"♕",K:"♔"},Q=[["r","n","b","q","k","b","n","r"],["p","p","p","","","p","p","p"],["","","","p","","","",""],["","","","","p","","",""],["","","P","","P","","",""],["","","","N","","N","",""],["P","P","","P","","P","P","P"],["R","","B","Q","K","B","","R"]],W=new Set(["e2","e4"]),X=U.flatMap((g,t)=>O.map((s,f)=>{const _=Q[t]?.[f]??"",k=`${s}${g}`,Y=(t+f)%2===1,Z=_?_===_.toUpperCase()?"light":"dark":"";return{id:k,dark:Y,piece:_,tone:Z,symbol:J[_]??"",isLastMove:W.has(k),isFocus:k===ms}}));return(g,t)=>(a(),D(ae,{eyebrow:"Bon retour",title:d.value,subtitle:$.value},{default:h(()=>[w(ve,{modelValue:c.value,"onUpdate:modelValue":t[0]||(t[0]=s=>c.value=s),title:"Demarrage rapide"},{footer:h(()=>[e("button",{class:"button-ghost",type:"button",onClick:B},"Plus tard"),w(y(M),{class:"button-primary",to:"/play",onClick:B},{default:h(()=>[...t[2]||(t[2]=[R("Jouer maintenant",-1)])]),_:1})]),default:h(()=>[e("ol",_e,[(a(),o(i,null,n(F,s=>e("li",{key:s.title,class:"onboarding-step"},[e("p",he,l(s.title),1),e("p",be,l(s.text),1)])),64))])]),_:1},8,["modelValue"]),e("section",me,[e("div",ge,[e("div",fe,[e("div",ye,[t[4]||(t[4]=e("div",null,[e("p",{class:"panel-title"},"Salle de match"),e("h2",{class:"panel-headline"},"Analyse en direct du plateau"),e("p",{class:"panel-sub"}," Suivez l'evaluation, les lignes candidates et la pression tactique d'un coup d'oeil. ")],-1)),e("div",ke,[w(y(M),{class:"button-primary",to:"/play"},{default:h(()=>[...t[3]||(t[3]=[R("Nouvelle partie",-1)])]),_:1}),e("button",{class:"button-ghost",type:"button",onClick:t[1]||(t[1]=s=>c.value=!0)}," Mini tutoriel ")])]),e("div",we,[e("div",Pe,[(a(!0),o(i,null,n(y(X),s=>(a(),o("div",{key:s.id,class:P(["square",s.dark?"square--dark":"square--light",s.isLastMove?"square--last":"",s.isFocus?"square--focus":""])},[s.piece?(a(),o("span",{key:0,class:P(["piece",s.tone==="light"?"piece--light":"piece--dark"])},l(s.symbol),3)):x("",!0)],2))),128))]),e("div",xe,[(a(),o(i,null,n(z,s=>e("div",{key:s.label,class:"metric-card"},[e("p",Se,l(s.label),1),e("p",$e,l(s.value),1),e("p",Be,l(s.note),1)])),64)),e("div",Ce,[t[5]||(t[5]=e("div",{class:"engine-header"},[e("p",{class:"metric-label"},"Elan"),e("p",{class:"metric-value"},"68%")],-1)),e("div",Le,[(a(),o(i,null,n(I,(s,f)=>e("span",{key:`bar-${f}`,class:"engine-bar",style:E({height:`${s}%`})},null,4)),64))]),t[6]||(t[6]=e("p",{class:"metric-note"},"Courbe sur les 8 derniers demi-coups",-1))])])])]),e("div",Ve,[(a(),o(i,null,n(q,s=>e("div",{key:s.label,class:"panel stat-card reveal delay-1"},[e("p",Ae,l(s.label),1),e("p",Me,l(s.value),1),e("div",Re,[e("span",Ee,l(s.change),1),e("span",Ne,l(s.detail),1)])])),64))]),e("div",Te,[t[8]||(t[8]=e("div",{class:"panel-header"},[e("div",null,[e("p",{class:"panel-title"},"Analyse IA du profil"),e("h3",{class:"panel-headline"},"Vitesse de classement")]),e("button",{class:"range-pill",type:"button"},"Hebdomadaire")],-1)),(a(),o("svg",je,[t[7]||(t[7]=e("defs",null,[e("linearGradient",{id:"trendLine",x1:"0",y1:"0",x2:"1",y2:"0"},[e("stop",{offset:"0%","stop-color":"var(--analysis-blue)"}),e("stop",{offset:"33%","stop-color":"var(--analysis-green)"}),e("stop",{offset:"66%","stop-color":"var(--analysis-red)"}),e("stop",{offset:"100%","stop-color":"var(--analysis-orange)"})]),e("linearGradient",{id:"trendFill",x1:"0",y1:"0",x2:"0",y2:"1"},[e("stop",{offset:"0%","stop-color":"var(--analysis-blue)","stop-opacity":"0.3"}),e("stop",{offset:"45%","stop-color":"var(--analysis-green)","stop-opacity":"0.22"}),e("stop",{offset:"75%","stop-color":"var(--analysis-red)","stop-opacity":"0.16"}),e("stop",{offset:"92%","stop-color":"var(--analysis-orange)","stop-opacity":"0.1"}),e("stop",{offset:"100%","stop-color":"var(--analysis-orange)","stop-opacity":"0"})])],-1)),e("path",{d:L.value.line,fill:"none",stroke:"url(#trendLine)","stroke-width":"3","stroke-linecap":"round"},null,8,De),e("path",{d:L.value.area,fill:"url(#trendFill)"},null,8,Fe)])),e("div",qe,[(a(!0),o(i,null,n(y(C).trendHighlights,s=>(a(),o("div",{key:s.label,class:"trend-item"},[e("p",ze,l(s.label),1),e("p",Ie,l(s.value),1),e("p",Ge,l(s.note),1)]))),128))])]),e("div",He,[t[10]||(t[10]=e("div",{class:"panel-header"},[e("div",null,[e("p",{class:"panel-title"},"Parties recentes"),e("h3",{class:"panel-headline"},"Details des matchs")]),e("button",{class:"range-pill",type:"button"},"10 dernieres")],-1)),e("div",Ke,[e("table",null,[t[9]||(t[9]=e("thead",null,[e("tr",null,[e("th",null,"Partie"),e("th",null,"Adversaire"),e("th",null,"Resultat"),e("th",null,"Ouverture"),e("th",null,"Coups"),e("th",null,"Precision")])],-1)),e("tbody",null,[(a(!0),o(i,null,n(v.value,s=>(a(),o("tr",{key:s.id},[e("td",null,l(s.id),1),e("td",null,l(s.opponent),1),e("td",null,[e("span",{class:P(["result-pill",`result--${s.result}`])},l(K[s.result]),3)]),e("td",null,l(s.opening),1),e("td",null,l(s.moves),1),e("td",null,l(s.accuracy)+"%",1)]))),128))])])])])]),e("aside",Oe,[e("div",Ue,[e("div",Je,[t[11]||(t[11]=e("p",{class:"panel-title"},"Score Elo",-1)),e("p",Qe,l(p.value.location),1)]),e("div",We,[t[13]||(t[13]=e("svg",{viewBox:"0 0 120 120","aria-hidden":"true"},[e("defs",null,[e("linearGradient",{id:"ratingGradient",x1:"0",y1:"0",x2:"1",y2:"1"},[e("stop",{offset:"0%","stop-color":"#4ade80"}),e("stop",{offset:"100%","stop-color":"#22c55e"})])]),e("circle",{cx:"60",cy:"60",r:"46",pathLength:"100",class:"ring-track"}),e("circle",{cx:"60",cy:"60",r:"46",pathLength:"100",class:"ring-value",stroke:"url(#ratingGradient)"})],-1)),e("div",Xe,[e("p",Ye,l(p.value.rating),1),t[12]||(t[12]=e("p",{class:"ring-label"},"Classement rapide",-1))])]),e("div",Ze,[t[15]||(t[15]=e("div",null,[e("p",{class:"metric-label"},"Titre"),e("p",{class:"metric-value"},"Objectif MI")],-1)),e("div",null,[t[14]||(t[14]=e("p",{class:"metric-label"},"Derniere activite",-1)),e("p",es,l(p.value.lastSeen),1)])])]),e("div",ss,[t[16]||(t[16]=e("div",{class:"panel-header"},[e("div",null,[e("p",{class:"panel-title"},"Focus d'entrainement"),e("h3",{class:"panel-headline"},"Indicateurs de progression")]),e("button",{class:"range-pill",type:"button"},"Mensuel")],-1)),e("div",ts,[(a(!0),o(i,null,n(m.value,s=>(a(),o("div",{key:s.label,class:"progress-item"},[e("div",ls,[e("span",null,l(s.label),1),e("span",null,l(s.progress)+"%",1)]),e("div",as,[e("span",{class:"progress-fill",style:E({width:`${s.progress}%`})},null,4)])]))),128))])]),e("div",os,[t[17]||(t[17]=e("div",{class:"panel-header"},[e("div",null,[e("p",{class:"panel-title"},"Prochaines sessions"),e("h3",{class:"panel-headline"},"Plan du jour")]),e("button",{class:"range-pill",type:"button"},"Aujourd'hui")],-1)),e("div",ns,[(a(),o(i,null,n(G,s=>e("div",{key:s.title,class:"session-item"},[e("div",null,[e("p",is,l(s.title),1),e("p",rs,l(s.time),1)]),e("span",ds,l(s.length),1)])),64))])]),e("div",cs,[t[18]||(t[18]=e("div",{class:"panel-header"},[e("div",null,[e("p",{class:"panel-title"},"Meilleurs joueurs"),e("h3",{class:"panel-headline"},"Elite du classement")]),e("button",{class:"range-pill",type:"button"},"Region")],-1)),e("div",us,[(a(),o(i,null,n(H,s=>e("div",{key:s.name,class:"leaderboard-item"},[e("div",ps,[e("div",vs,l(s.name.slice(0,1)),1),e("div",null,[e("p",_s,l(s.name),1),e("p",hs,"Elo "+l(s.rating),1)])]),e("span",bs,l(s.delta),1)])),64))])])])])]),_:1},8,["title","subtitle"]))}});export{Ps as default};
