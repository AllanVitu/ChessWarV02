import{d as h,h as t,c as f,b as s,l as w,p as C,q as d,v as p,t as v,y as V,a as k,w as x,u as N,R,s as S,n as _,f as j,o as b,g as z,C as B,A as E,B as M}from"./index-vPvGcPAP.js";const U={class:"auth-page auth-page--solo"},D={class:"auth-orbit"},I={class:"panel auth-card auth-card--orbit"},G={class:"form-field"},L={class:"form-field"},T={class:"form-field"},q=["disabled","aria-busy"],A={class:"auth-links"},H=h({__name:"RegisterView",setup(J){const c=j(),n=t(""),u=t(""),i=t(""),r=t(""),m=t(!1),o=t(!1),g=async()=>{r.value="",m.value=!1,o.value=!0;const a=await B(u.value,i.value,n.value);if(o.value=!1,r.value=a.message,m.value=!a.ok,a.ok){E("Compte cree",a.message),await c.push("/dashboard");return}a.message&&M("Inscription refusee",a.message)},y=async()=>{S(),_("Mode invite","Vous jouez en local sans compte."),await c.push("/dashboard")};return(a,e)=>(b(),f("div",U,[s("div",D,[s("div",I,[e[7]||(e[7]=s("p",{class:"eyebrow"},"Inscription",-1)),e[8]||(e[8]=s("h1",null,"Creer votre compte",-1)),e[9]||(e[9]=s("p",{class:"subhead"},"Rejoignez l'arene et configurez votre profil de jeu.",-1)),s("form",{class:"form-stack",onSubmit:C(g,["prevent"])},[s("label",G,[e[3]||(e[3]=s("span",{class:"form-label"},"Nom d'affichage",-1)),d(s("input",{"onUpdate:modelValue":e[0]||(e[0]=l=>n.value=l),class:"form-input",type:"text",autocomplete:"name",placeholder:"Votre pseudo"},null,512),[[p,n.value]])]),s("label",L,[e[4]||(e[4]=s("span",{class:"form-label"},"Email",-1)),d(s("input",{"onUpdate:modelValue":e[1]||(e[1]=l=>u.value=l),class:"form-input",type:"email",autocomplete:"email",inputmode:"email",placeholder:"vous@exemple.com"},null,512),[[p,u.value]])]),s("label",T,[e[5]||(e[5]=s("span",{class:"form-label"},"Mot de passe",-1)),d(s("input",{"onUpdate:modelValue":e[2]||(e[2]=l=>i.value=l),class:"form-input",type:"password",autocomplete:"new-password",placeholder:"8 caracteres minimum"},null,512),[[p,i.value]])]),s("button",{class:"button-primary",type:"submit",disabled:o.value,"aria-busy":o.value},v(o.value?"Creation...":"Creer le compte"),9,q),s("button",{class:"button-ghost",type:"button",onClick:y},"Jouer en invite")],32),r.value?(b(),f("p",{key:0,class:V(["form-message",m.value?"form-message--error":"form-message--success"]),role:"status"},v(r.value),3)):w("",!0),s("div",A,[k(N(R),{to:"/auth"},{default:x(()=>[...e[6]||(e[6]=[z("Deja un compte ? Se connecter",-1)])]),_:1})])])])]))}});export{H as default};
