(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))n(l);new MutationObserver(l=>{for(const a of l)if(a.type==="childList")for(const i of a.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function s(l){const a={};return l.integrity&&(a.integrity=l.integrity),l.referrerPolicy&&(a.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?a.credentials="include":l.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(l){if(l.ep)return;l.ep=!0;const a=s(l);fetch(l.href,a)}})();function Mo(e){const t=Object.create(null);for(const s of e.split(","))t[s]=1;return s=>s in t}const ke={},gs=[],$t=()=>{},ra=()=>!1,In=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),Po=e=>e.startsWith("onUpdate:"),Ke=Object.assign,Io=(e,t)=>{const s=e.indexOf(t);s>-1&&e.splice(s,1)},fr=Object.prototype.hasOwnProperty,we=(e,t)=>fr.call(e,t),ce=Array.isArray,ys=e=>nn(e)==="[object Map]",Ms=e=>nn(e)==="[object Set]",rl=e=>nn(e)==="[object Date]",de=e=>typeof e=="function",Ne=e=>typeof e=="string",vt=e=>typeof e=="symbol",Ae=e=>e!==null&&typeof e=="object",ca=e=>(Ae(e)||de(e))&&de(e.then)&&de(e.catch),ua=Object.prototype.toString,nn=e=>ua.call(e),pr=e=>nn(e).slice(8,-1),da=e=>nn(e)==="[object Object]",Oo=e=>Ne(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,Bs=Mo(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),On=e=>{const t=Object.create(null);return(s=>t[s]||(t[s]=e(s)))},hr=/-\w/g,Kt=On(e=>e.replace(hr,t=>t.slice(1).toUpperCase())),vr=/\B([A-Z])/g,Yt=On(e=>e.replace(vr,"-$1").toLowerCase()),fa=On(e=>e.charAt(0).toUpperCase()+e.slice(1)),Wn=On(e=>e?`on${fa(e)}`:""),qt=(e,t)=>!Object.is(e,t),vn=(e,...t)=>{for(let s=0;s<e.length;s++)e[s](...t)},pa=(e,t,s,n=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:n,value:s})},Tn=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let cl;const Nn=()=>cl||(cl=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function ks(e){if(ce(e)){const t={};for(let s=0;s<e.length;s++){const n=e[s],l=Ne(n)?_r(n):ks(n);if(l)for(const a in l)t[a]=l[a]}return t}else if(Ne(e)||Ae(e))return e}const mr=/;(?![^(]*\))/g,gr=/:([^]+)/,yr=/\/\*[^]*?\*\//g;function _r(e){const t={};return e.replace(yr,"").split(mr).forEach(s=>{if(s){const n=s.split(gr);n.length>1&&(t[n[0].trim()]=n[1].trim())}}),t}function pe(e){let t="";if(Ne(e))t=e;else if(ce(e))for(let s=0;s<e.length;s++){const n=pe(e[s]);n&&(t+=n+" ")}else if(Ae(e))for(const s in e)e[s]&&(t+=s+" ");return t.trim()}const br="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",wr=Mo(br);function ha(e){return!!e||e===""}function $r(e,t){if(e.length!==t.length)return!1;let s=!0;for(let n=0;s&&n<e.length;n++)s=cs(e[n],t[n]);return s}function cs(e,t){if(e===t)return!0;let s=rl(e),n=rl(t);if(s||n)return s&&n?e.getTime()===t.getTime():!1;if(s=vt(e),n=vt(t),s||n)return e===t;if(s=ce(e),n=ce(t),s||n)return s&&n?$r(e,t):!1;if(s=Ae(e),n=Ae(t),s||n){if(!s||!n)return!1;const l=Object.keys(e).length,a=Object.keys(t).length;if(l!==a)return!1;for(const i in e){const c=e.hasOwnProperty(i),r=t.hasOwnProperty(i);if(c&&!r||!c&&r||!cs(e[i],t[i]))return!1}}return String(e)===String(t)}function To(e,t){return e.findIndex(s=>cs(s,t))}const va=e=>!!(e&&e.__v_isRef===!0),g=e=>Ne(e)?e:e==null?"":ce(e)||Ae(e)&&(e.toString===ua||!de(e.toString))?va(e)?g(e.value):JSON.stringify(e,ma,2):String(e),ma=(e,t)=>va(t)?ma(e,t.value):ys(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((s,[n,l],a)=>(s[zn(n,a)+" =>"]=l,s),{})}:Ms(t)?{[`Set(${t.size})`]:[...t.values()].map(s=>zn(s))}:vt(t)?zn(t):Ae(t)&&!ce(t)&&!da(t)?String(t):t,zn=(e,t="")=>{var s;return vt(e)?`Symbol(${(s=e.description)!=null?s:t})`:e};let tt;class ga{constructor(t=!1){this.detached=t,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=tt,!t&&tt&&(this.index=(tt.scopes||(tt.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,s;if(this.scopes)for(t=0,s=this.scopes.length;t<s;t++)this.scopes[t].pause();for(t=0,s=this.effects.length;t<s;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,s;if(this.scopes)for(t=0,s=this.scopes.length;t<s;t++)this.scopes[t].resume();for(t=0,s=this.effects.length;t<s;t++)this.effects[t].resume()}}run(t){if(this._active){const s=tt;try{return tt=this,t()}finally{tt=s}}}on(){++this._on===1&&(this.prevScope=tt,tt=this)}off(){this._on>0&&--this._on===0&&(tt=this.prevScope,this.prevScope=void 0)}stop(t){if(this._active){this._active=!1;let s,n;for(s=0,n=this.effects.length;s<n;s++)this.effects[s].stop();for(this.effects.length=0,s=0,n=this.cleanups.length;s<n;s++)this.cleanups[s]();if(this.cleanups.length=0,this.scopes){for(s=0,n=this.scopes.length;s<n;s++)this.scopes[s].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!t){const l=this.parent.scopes.pop();l&&l!==this&&(this.parent.scopes[this.index]=l,l.index=this.index)}this.parent=void 0}}}function Sr(e){return new ga(e)}function kr(){return tt}let xe;const Yn=new WeakSet;class ya{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,tt&&tt.active&&tt.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,Yn.has(this)&&(Yn.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||ba(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,ul(this),wa(this);const t=xe,s=pt;xe=this,pt=!0;try{return this.fn()}finally{$a(this),xe=t,pt=s,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)Do(t);this.deps=this.depsTail=void 0,ul(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?Yn.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){uo(this)&&this.run()}get dirty(){return uo(this)}}let _a=0,Hs,Gs;function ba(e,t=!1){if(e.flags|=8,t){e.next=Gs,Gs=e;return}e.next=Hs,Hs=e}function No(){_a++}function Lo(){if(--_a>0)return;if(Gs){let t=Gs;for(Gs=void 0;t;){const s=t.next;t.next=void 0,t.flags&=-9,t=s}}let e;for(;Hs;){let t=Hs;for(Hs=void 0;t;){const s=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(n){e||(e=n)}t=s}}if(e)throw e}function wa(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function $a(e){let t,s=e.depsTail,n=s;for(;n;){const l=n.prevDep;n.version===-1?(n===s&&(s=l),Do(n),Cr(n)):t=n,n.dep.activeLink=n.prevActiveLink,n.prevActiveLink=void 0,n=l}e.deps=t,e.depsTail=s}function uo(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(Sa(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function Sa(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===zs)||(e.globalVersion=zs,!e.isSSR&&e.flags&128&&(!e.deps&&!e._dirty||!uo(e))))return;e.flags|=2;const t=e.dep,s=xe,n=pt;xe=e,pt=!0;try{wa(e);const l=e.fn(e._value);(t.version===0||qt(l,e._value))&&(e.flags|=128,e._value=l,t.version++)}catch(l){throw t.version++,l}finally{xe=s,pt=n,$a(e),e.flags&=-3}}function Do(e,t=!1){const{dep:s,prevSub:n,nextSub:l}=e;if(n&&(n.nextSub=l,e.prevSub=void 0),l&&(l.prevSub=n,e.nextSub=void 0),s.subs===e&&(s.subs=n,!n&&s.computed)){s.computed.flags&=-5;for(let a=s.computed.deps;a;a=a.nextDep)Do(a,!0)}!t&&!--s.sc&&s.map&&s.map.delete(s.key)}function Cr(e){const{prevDep:t,nextDep:s}=e;t&&(t.nextDep=s,e.prevDep=void 0),s&&(s.prevDep=t,e.nextDep=void 0)}let pt=!0;const ka=[];function Pt(){ka.push(pt),pt=!1}function It(){const e=ka.pop();pt=e===void 0?!0:e}function ul(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const s=xe;xe=void 0;try{t()}finally{xe=s}}}let zs=0;class Ar{constructor(t,s){this.sub=t,this.dep=s,this.version=s.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class Vo{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(t){if(!xe||!pt||xe===this.computed)return;let s=this.activeLink;if(s===void 0||s.sub!==xe)s=this.activeLink=new Ar(xe,this),xe.deps?(s.prevDep=xe.depsTail,xe.depsTail.nextDep=s,xe.depsTail=s):xe.deps=xe.depsTail=s,Ca(s);else if(s.version===-1&&(s.version=this.version,s.nextDep)){const n=s.nextDep;n.prevDep=s.prevDep,s.prevDep&&(s.prevDep.nextDep=n),s.prevDep=xe.depsTail,s.nextDep=void 0,xe.depsTail.nextDep=s,xe.depsTail=s,xe.deps===s&&(xe.deps=n)}return s}trigger(t){this.version++,zs++,this.notify(t)}notify(t){No();try{for(let s=this.subs;s;s=s.prevSub)s.sub.notify()&&s.sub.dep.notify()}finally{Lo()}}}function Ca(e){if(e.dep.sc++,e.sub.flags&4){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let n=t.deps;n;n=n.nextDep)Ca(n)}const s=e.dep.subs;s!==e&&(e.prevSub=s,s&&(s.nextSub=e)),e.dep.subs=e}}const fo=new WeakMap,is=Symbol(""),po=Symbol(""),Ys=Symbol("");function He(e,t,s){if(pt&&xe){let n=fo.get(e);n||fo.set(e,n=new Map);let l=n.get(s);l||(n.set(s,l=new Vo),l.map=n,l.key=s),l.track()}}function Et(e,t,s,n,l,a){const i=fo.get(e);if(!i){zs++;return}const c=r=>{r&&r.trigger()};if(No(),t==="clear")i.forEach(c);else{const r=ce(e),f=r&&Oo(s);if(r&&s==="length"){const u=Number(n);i.forEach((d,h)=>{(h==="length"||h===Ys||!vt(h)&&h>=u)&&c(d)})}else switch((s!==void 0||i.has(void 0))&&c(i.get(s)),f&&c(i.get(Ys)),t){case"add":r?f&&c(i.get("length")):(c(i.get(is)),ys(e)&&c(i.get(po)));break;case"delete":r||(c(i.get(is)),ys(e)&&c(i.get(po)));break;case"set":ys(e)&&c(i.get(is));break}}Lo()}function ps(e){const t=be(e);return t===e?t:(He(t,"iterate",Ys),rt(e)?t:t.map(mt))}function Ln(e){return He(e=be(e),"iterate",Ys),e}function Ut(e,t){return Ot(e)?rs(e)?Cs(mt(t)):Cs(t):mt(t)}const xr={__proto__:null,[Symbol.iterator](){return Qn(this,Symbol.iterator,e=>Ut(this,e))},concat(...e){return ps(this).concat(...e.map(t=>ce(t)?ps(t):t))},entries(){return Qn(this,"entries",e=>(e[1]=Ut(this,e[1]),e))},every(e,t){return Ct(this,"every",e,t,void 0,arguments)},filter(e,t){return Ct(this,"filter",e,t,s=>s.map(n=>Ut(this,n)),arguments)},find(e,t){return Ct(this,"find",e,t,s=>Ut(this,s),arguments)},findIndex(e,t){return Ct(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return Ct(this,"findLast",e,t,s=>Ut(this,s),arguments)},findLastIndex(e,t){return Ct(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return Ct(this,"forEach",e,t,void 0,arguments)},includes(...e){return Xn(this,"includes",e)},indexOf(...e){return Xn(this,"indexOf",e)},join(e){return ps(this).join(e)},lastIndexOf(...e){return Xn(this,"lastIndexOf",e)},map(e,t){return Ct(this,"map",e,t,void 0,arguments)},pop(){return Ls(this,"pop")},push(...e){return Ls(this,"push",e)},reduce(e,...t){return dl(this,"reduce",e,t)},reduceRight(e,...t){return dl(this,"reduceRight",e,t)},shift(){return Ls(this,"shift")},some(e,t){return Ct(this,"some",e,t,void 0,arguments)},splice(...e){return Ls(this,"splice",e)},toReversed(){return ps(this).toReversed()},toSorted(e){return ps(this).toSorted(e)},toSpliced(...e){return ps(this).toSpliced(...e)},unshift(...e){return Ls(this,"unshift",e)},values(){return Qn(this,"values",e=>Ut(this,e))}};function Qn(e,t,s){const n=Ln(e),l=n[t]();return n!==e&&!rt(e)&&(l._next=l.next,l.next=()=>{const a=l._next();return a.done||(a.value=s(a.value)),a}),l}const Er=Array.prototype;function Ct(e,t,s,n,l,a){const i=Ln(e),c=i!==e&&!rt(e),r=i[t];if(r!==Er[t]){const d=r.apply(e,a);return c?mt(d):d}let f=s;i!==e&&(c?f=function(d,h){return s.call(this,Ut(e,d),h,e)}:s.length>2&&(f=function(d,h){return s.call(this,d,h,e)}));const u=r.call(i,f,n);return c&&l?l(u):u}function dl(e,t,s,n){const l=Ln(e);let a=s;return l!==e&&(rt(e)?s.length>3&&(a=function(i,c,r){return s.call(this,i,c,r,e)}):a=function(i,c,r){return s.call(this,i,Ut(e,c),r,e)}),l[t](a,...n)}function Xn(e,t,s){const n=be(e);He(n,"iterate",Ys);const l=n[t](...s);return(l===-1||l===!1)&&jo(s[0])?(s[0]=be(s[0]),n[t](...s)):l}function Ls(e,t,s=[]){Pt(),No();const n=be(e)[t].apply(e,s);return Lo(),It(),n}const Rr=Mo("__proto__,__v_isRef,__isVue"),Aa=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(vt));function Mr(e){vt(e)||(e=String(e));const t=be(this);return He(t,"has",e),t.hasOwnProperty(e)}class xa{constructor(t=!1,s=!1){this._isReadonly=t,this._isShallow=s}get(t,s,n){if(s==="__v_skip")return t.__v_skip;const l=this._isReadonly,a=this._isShallow;if(s==="__v_isReactive")return!l;if(s==="__v_isReadonly")return l;if(s==="__v_isShallow")return a;if(s==="__v_raw")return n===(l?a?Ur:Pa:a?Ma:Ra).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(n)?t:void 0;const i=ce(t);if(!l){let r;if(i&&(r=xr[s]))return r;if(s==="hasOwnProperty")return Mr}const c=Reflect.get(t,s,qe(t)?t:n);if((vt(s)?Aa.has(s):Rr(s))||(l||He(t,"get",s),a))return c;if(qe(c)){const r=i&&Oo(s)?c:c.value;return l&&Ae(r)?vo(r):r}return Ae(c)?l?vo(c):Jt(c):c}}class Ea extends xa{constructor(t=!1){super(!1,t)}set(t,s,n,l){let a=t[s];const i=ce(t)&&Oo(s);if(!this._isShallow){const f=Ot(a);if(!rt(n)&&!Ot(n)&&(a=be(a),n=be(n)),!i&&qe(a)&&!qe(n))return f||(a.value=n),!0}const c=i?Number(s)<t.length:we(t,s),r=Reflect.set(t,s,n,qe(t)?t:l);return t===be(l)&&(c?qt(n,a)&&Et(t,"set",s,n):Et(t,"add",s,n)),r}deleteProperty(t,s){const n=we(t,s);t[s];const l=Reflect.deleteProperty(t,s);return l&&n&&Et(t,"delete",s,void 0),l}has(t,s){const n=Reflect.has(t,s);return(!vt(s)||!Aa.has(s))&&He(t,"has",s),n}ownKeys(t){return He(t,"iterate",ce(t)?"length":is),Reflect.ownKeys(t)}}class Pr extends xa{constructor(t=!1){super(!0,t)}set(t,s){return!0}deleteProperty(t,s){return!0}}const Ir=new Ea,Or=new Pr,Tr=new Ea(!0);const ho=e=>e,cn=e=>Reflect.getPrototypeOf(e);function Nr(e,t,s){return function(...n){const l=this.__v_raw,a=be(l),i=ys(a),c=e==="entries"||e===Symbol.iterator&&i,r=e==="keys"&&i,f=l[e](...n),u=s?ho:t?Cs:mt;return!t&&He(a,"iterate",r?po:is),{next(){const{value:d,done:h}=f.next();return h?{value:d,done:h}:{value:c?[u(d[0]),u(d[1])]:u(d),done:h}},[Symbol.iterator](){return this}}}}function un(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function Lr(e,t){const s={get(l){const a=this.__v_raw,i=be(a),c=be(l);e||(qt(l,c)&&He(i,"get",l),He(i,"get",c));const{has:r}=cn(i),f=t?ho:e?Cs:mt;if(r.call(i,l))return f(a.get(l));if(r.call(i,c))return f(a.get(c));a!==i&&a.get(l)},get size(){const l=this.__v_raw;return!e&&He(be(l),"iterate",is),l.size},has(l){const a=this.__v_raw,i=be(a),c=be(l);return e||(qt(l,c)&&He(i,"has",l),He(i,"has",c)),l===c?a.has(l):a.has(l)||a.has(c)},forEach(l,a){const i=this,c=i.__v_raw,r=be(c),f=t?ho:e?Cs:mt;return!e&&He(r,"iterate",is),c.forEach((u,d)=>l.call(a,f(u),f(d),i))}};return Ke(s,e?{add:un("add"),set:un("set"),delete:un("delete"),clear:un("clear")}:{add(l){!t&&!rt(l)&&!Ot(l)&&(l=be(l));const a=be(this);return cn(a).has.call(a,l)||(a.add(l),Et(a,"add",l,l)),this},set(l,a){!t&&!rt(a)&&!Ot(a)&&(a=be(a));const i=be(this),{has:c,get:r}=cn(i);let f=c.call(i,l);f||(l=be(l),f=c.call(i,l));const u=r.call(i,l);return i.set(l,a),f?qt(a,u)&&Et(i,"set",l,a):Et(i,"add",l,a),this},delete(l){const a=be(this),{has:i,get:c}=cn(a);let r=i.call(a,l);r||(l=be(l),r=i.call(a,l)),c&&c.call(a,l);const f=a.delete(l);return r&&Et(a,"delete",l,void 0),f},clear(){const l=be(this),a=l.size!==0,i=l.clear();return a&&Et(l,"clear",void 0,void 0),i}}),["keys","values","entries",Symbol.iterator].forEach(l=>{s[l]=Nr(l,e,t)}),s}function Fo(e,t){const s=Lr(e,t);return(n,l,a)=>l==="__v_isReactive"?!e:l==="__v_isReadonly"?e:l==="__v_raw"?n:Reflect.get(we(s,l)&&l in n?s:n,l,a)}const Dr={get:Fo(!1,!1)},Vr={get:Fo(!1,!0)},Fr={get:Fo(!0,!1)};const Ra=new WeakMap,Ma=new WeakMap,Pa=new WeakMap,Ur=new WeakMap;function jr(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Br(e){return e.__v_skip||!Object.isExtensible(e)?0:jr(pr(e))}function Jt(e){return Ot(e)?e:Uo(e,!1,Ir,Dr,Ra)}function Ia(e){return Uo(e,!1,Tr,Vr,Ma)}function vo(e){return Uo(e,!0,Or,Fr,Pa)}function Uo(e,t,s,n,l){if(!Ae(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const a=Br(e);if(a===0)return e;const i=l.get(e);if(i)return i;const c=new Proxy(e,a===2?n:s);return l.set(e,c),c}function rs(e){return Ot(e)?rs(e.__v_raw):!!(e&&e.__v_isReactive)}function Ot(e){return!!(e&&e.__v_isReadonly)}function rt(e){return!!(e&&e.__v_isShallow)}function jo(e){return e?!!e.__v_raw:!1}function be(e){const t=e&&e.__v_raw;return t?be(t):e}function Oa(e){return!we(e,"__v_skip")&&Object.isExtensible(e)&&pa(e,"__v_skip",!0),e}const mt=e=>Ae(e)?Jt(e):e,Cs=e=>Ae(e)?vo(e):e;function qe(e){return e?e.__v_isRef===!0:!1}function O(e){return Ta(e,!1)}function Hr(e){return Ta(e,!0)}function Ta(e,t){return qe(e)?e:new Gr(e,t)}class Gr{constructor(t,s){this.dep=new Vo,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=s?t:be(t),this._value=s?t:mt(t),this.__v_isShallow=s}get value(){return this.dep.track(),this._value}set value(t){const s=this._rawValue,n=this.__v_isShallow||rt(t)||Ot(t);t=n?t:be(t),qt(t,s)&&(this._rawValue=t,this._value=n?t:mt(t),this.dep.trigger())}}function $e(e){return qe(e)?e.value:e}const qr={get:(e,t,s)=>t==="__v_raw"?e:$e(Reflect.get(e,t,s)),set:(e,t,s,n)=>{const l=e[t];return qe(l)&&!qe(s)?(l.value=s,!0):Reflect.set(e,t,s,n)}};function Na(e){return rs(e)?e:new Proxy(e,qr)}class Kr{constructor(t,s,n){this.fn=t,this.setter=s,this._value=void 0,this.dep=new Vo(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=zs-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!s,this.isSSR=n}notify(){if(this.flags|=16,!(this.flags&8)&&xe!==this)return ba(this,!0),!0}get value(){const t=this.dep.track();return Sa(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function Jr(e,t,s=!1){let n,l;return de(e)?n=e:(n=e.get,l=e.set),new Kr(n,l,s)}const dn={},kn=new WeakMap;let ns;function Wr(e,t=!1,s=ns){if(s){let n=kn.get(s);n||kn.set(s,n=[]),n.push(e)}}function zr(e,t,s=ke){const{immediate:n,deep:l,once:a,scheduler:i,augmentJob:c,call:r}=s,f=$=>l?$:rt($)||l===!1||l===0?Rt($,1):Rt($);let u,d,h,v,_=!1,k=!1;if(qe(e)?(d=()=>e.value,_=rt(e)):rs(e)?(d=()=>f(e),_=!0):ce(e)?(k=!0,_=e.some($=>rs($)||rt($)),d=()=>e.map($=>{if(qe($))return $.value;if(rs($))return f($);if(de($))return r?r($,2):$()})):de(e)?t?d=r?()=>r(e,2):e:d=()=>{if(h){Pt();try{h()}finally{It()}}const $=ns;ns=u;try{return r?r(e,3,[v]):e(v)}finally{ns=$}}:d=$t,t&&l){const $=d,M=l===!0?1/0:l;d=()=>Rt($(),M)}const j=kr(),E=()=>{u.stop(),j&&j.active&&Io(j.effects,u)};if(a&&t){const $=t;t=(...M)=>{$(...M),E()}}let C=k?new Array(e.length).fill(dn):dn;const b=$=>{if(!(!(u.flags&1)||!u.dirty&&!$))if(t){const M=u.run();if(l||_||(k?M.some((ae,U)=>qt(ae,C[U])):qt(M,C))){h&&h();const ae=ns;ns=u;try{const U=[M,C===dn?void 0:k&&C[0]===dn?[]:C,v];C=M,r?r(t,3,U):t(...U)}finally{ns=ae}}}else u.run()};return c&&c(b),u=new ya(d),u.scheduler=i?()=>i(b,!1):b,v=$=>Wr($,!1,u),h=u.onStop=()=>{const $=kn.get(u);if($){if(r)r($,4);else for(const M of $)M();kn.delete(u)}},t?n?b(!0):C=u.run():i?i(b.bind(null,!0),!0):u.run(),E.pause=u.pause.bind(u),E.resume=u.resume.bind(u),E.stop=E,E}function Rt(e,t=1/0,s){if(t<=0||!Ae(e)||e.__v_skip||(s=s||new Map,(s.get(e)||0)>=t))return e;if(s.set(e,t),t--,qe(e))Rt(e.value,t,s);else if(ce(e))for(let n=0;n<e.length;n++)Rt(e[n],t,s);else if(Ms(e)||ys(e))e.forEach(n=>{Rt(n,t,s)});else if(da(e)){for(const n in e)Rt(e[n],t,s);for(const n of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,n)&&Rt(e[n],t,s)}return e}function on(e,t,s,n){try{return n?e(...n):e()}catch(l){Dn(l,t,s)}}function kt(e,t,s,n){if(de(e)){const l=on(e,t,s,n);return l&&ca(l)&&l.catch(a=>{Dn(a,t,s)}),l}if(ce(e)){const l=[];for(let a=0;a<e.length;a++)l.push(kt(e[a],t,s,n));return l}}function Dn(e,t,s,n=!0){const l=t?t.vnode:null,{errorHandler:a,throwUnhandledErrorInProduction:i}=t&&t.appContext.config||ke;if(t){let c=t.parent;const r=t.proxy,f=`https://vuejs.org/error-reference/#runtime-${s}`;for(;c;){const u=c.ec;if(u){for(let d=0;d<u.length;d++)if(u[d](e,r,f)===!1)return}c=c.parent}if(a){Pt(),on(a,null,10,[e,r,f]),It();return}}Yr(e,s,l,n,i)}function Yr(e,t,s,n=!0,l=!1){if(l)throw e;console.error(e)}const Xe=[];let bt=-1;const _s=[];let jt=null,hs=0;const La=Promise.resolve();let Cn=null;function Qs(e){const t=Cn||La;return e?t.then(this?e.bind(this):e):t}function Qr(e){let t=bt+1,s=Xe.length;for(;t<s;){const n=t+s>>>1,l=Xe[n],a=Xs(l);a<e||a===e&&l.flags&2?t=n+1:s=n}return t}function Bo(e){if(!(e.flags&1)){const t=Xs(e),s=Xe[Xe.length-1];!s||!(e.flags&2)&&t>=Xs(s)?Xe.push(e):Xe.splice(Qr(t),0,e),e.flags|=1,Da()}}function Da(){Cn||(Cn=La.then(Fa))}function Xr(e){ce(e)?_s.push(...e):jt&&e.id===-1?jt.splice(hs+1,0,e):e.flags&1||(_s.push(e),e.flags|=1),Da()}function fl(e,t,s=bt+1){for(;s<Xe.length;s++){const n=Xe[s];if(n&&n.flags&2){if(e&&n.id!==e.uid)continue;Xe.splice(s,1),s--,n.flags&4&&(n.flags&=-2),n(),n.flags&4||(n.flags&=-2)}}}function Va(e){if(_s.length){const t=[...new Set(_s)].sort((s,n)=>Xs(s)-Xs(n));if(_s.length=0,jt){jt.push(...t);return}for(jt=t,hs=0;hs<jt.length;hs++){const s=jt[hs];s.flags&4&&(s.flags&=-2),s.flags&8||s(),s.flags&=-2}jt=null,hs=0}}const Xs=e=>e.id==null?e.flags&2?-1:1/0:e.id;function Fa(e){try{for(bt=0;bt<Xe.length;bt++){const t=Xe[bt];t&&!(t.flags&8)&&(t.flags&4&&(t.flags&=-2),on(t,t.i,t.i?15:14),t.flags&4||(t.flags&=-2))}}finally{for(;bt<Xe.length;bt++){const t=Xe[bt];t&&(t.flags&=-2)}bt=-1,Xe.length=0,Va(),Cn=null,(Xe.length||_s.length)&&Fa()}}let Ge=null,Ua=null;function An(e){const t=Ge;return Ge=e,Ua=e&&e.type.__scopeId||null,t}function Pe(e,t=Ge,s){if(!t||e._n)return e;const n=(...l)=>{n._d&&Rn(-1);const a=An(t);let i;try{i=e(...l)}finally{An(a),n._d&&Rn(1)}return i};return n._n=!0,n._c=!0,n._d=!0,n}function Ce(e,t){if(Ge===null)return e;const s=Bn(Ge),n=e.dirs||(e.dirs=[]);for(let l=0;l<t.length;l++){let[a,i,c,r=ke]=t[l];a&&(de(a)&&(a={mounted:a,updated:a}),a.deep&&Rt(i),n.push({dir:a,instance:s,value:i,oldValue:void 0,arg:c,modifiers:r}))}return e}function es(e,t,s,n){const l=e.dirs,a=t&&t.dirs;for(let i=0;i<l.length;i++){const c=l[i];a&&(c.oldValue=a[i].value);let r=c.dir[n];r&&(Pt(),kt(r,s,8,[e.el,c,e,t]),It())}}function mn(e,t){if(Ze){let s=Ze.provides;const n=Ze.parent&&Ze.parent.provides;n===s&&(s=Ze.provides=Object.create(n)),s[e]=t}}function ht(e,t,s=!1){const n=Yc();if(n||ws){let l=ws?ws._context.provides:n?n.parent==null||n.ce?n.vnode.appContext&&n.vnode.appContext.provides:n.parent.provides:void 0;if(l&&e in l)return l[e];if(arguments.length>1)return s&&de(t)?t.call(n&&n.proxy):t}}const Zr=Symbol.for("v-scx"),ec=()=>ht(Zr);function St(e,t,s){return ja(e,t,s)}function ja(e,t,s=ke){const{immediate:n,deep:l,flush:a,once:i}=s,c=Ke({},s),r=t&&n||!t&&a!=="post";let f;if(tn){if(a==="sync"){const v=ec();f=v.__watcherHandles||(v.__watcherHandles=[])}else if(!r){const v=()=>{};return v.stop=$t,v.resume=$t,v.pause=$t,v}}const u=Ze;c.call=(v,_,k)=>kt(v,u,_,k);let d=!1;a==="post"?c.scheduler=v=>{st(v,u&&u.suspense)}:a!=="sync"&&(d=!0,c.scheduler=(v,_)=>{_?v():Bo(v)}),c.augmentJob=v=>{t&&(v.flags|=4),d&&(v.flags|=2,u&&(v.id=u.uid,v.i=u))};const h=zr(e,t,c);return tn&&(f?f.push(h):r&&h()),h}function tc(e,t,s){const n=this.proxy,l=Ne(e)?e.includes(".")?Ba(n,e):()=>n[e]:e.bind(n,n);let a;de(t)?a=t:(a=t.handler,s=t);const i=ln(this),c=ja(l,a.bind(n),s);return i(),c}function Ba(e,t){const s=t.split(".");return()=>{let n=e;for(let l=0;l<s.length&&n;l++)n=n[s[l]];return n}}const sc=Symbol("_vte"),nc=e=>e.__isTeleport,oc=Symbol("_leaveCb");function Ho(e,t){e.shapeFlag&6&&e.component?(e.transition=t,Ho(e.component.subTree,t)):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function Je(e,t){return de(e)?Ke({name:e.name},t,{setup:e}):e}function Ha(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}const xn=new WeakMap;function qs(e,t,s,n,l=!1){if(ce(e)){e.forEach((_,k)=>qs(_,t&&(ce(t)?t[k]:t),s,n,l));return}if(bs(n)&&!l){n.shapeFlag&512&&n.type.__asyncResolved&&n.component.subTree.component&&qs(e,t,s,n.component.subTree);return}const a=n.shapeFlag&4?Bn(n.component):n.el,i=l?null:a,{i:c,r}=e,f=t&&t.r,u=c.refs===ke?c.refs={}:c.refs,d=c.setupState,h=be(d),v=d===ke?ra:_=>we(h,_);if(f!=null&&f!==r){if(pl(t),Ne(f))u[f]=null,v(f)&&(d[f]=null);else if(qe(f)){f.value=null;const _=t;_.k&&(u[_.k]=null)}}if(de(r))on(r,c,12,[i,u]);else{const _=Ne(r),k=qe(r);if(_||k){const j=()=>{if(e.f){const E=_?v(r)?d[r]:u[r]:r.value;if(l)ce(E)&&Io(E,a);else if(ce(E))E.includes(a)||E.push(a);else if(_)u[r]=[a],v(r)&&(d[r]=u[r]);else{const C=[a];r.value=C,e.k&&(u[e.k]=C)}}else _?(u[r]=i,v(r)&&(d[r]=i)):k&&(r.value=i,e.k&&(u[e.k]=i))};if(i){const E=()=>{j(),xn.delete(e)};E.id=-1,xn.set(e,E),st(E,s)}else pl(e),j()}}}function pl(e){const t=xn.get(e);t&&(t.flags|=8,xn.delete(e))}Nn().requestIdleCallback;Nn().cancelIdleCallback;const bs=e=>!!e.type.__asyncLoader,Ga=e=>e.type.__isKeepAlive;function lc(e,t){qa(e,"a",t)}function ac(e,t){qa(e,"da",t)}function qa(e,t,s=Ze){const n=e.__wdc||(e.__wdc=()=>{let l=s;for(;l;){if(l.isDeactivated)return;l=l.parent}return e()});if(Vn(t,n,s),s){let l=s.parent;for(;l&&l.parent;)Ga(l.parent.vnode)&&ic(n,t,s,l),l=l.parent}}function ic(e,t,s,n){const l=Vn(t,e,n,!0);Ka(()=>{Io(n[t],l)},s)}function Vn(e,t,s=Ze,n=!1){if(s){const l=s[e]||(s[e]=[]),a=t.__weh||(t.__weh=(...i)=>{Pt();const c=ln(s),r=kt(t,s,e,i);return c(),It(),r});return n?l.unshift(a):l.push(a),a}}const Lt=e=>(t,s=Ze)=>{(!tn||e==="sp")&&Vn(e,(...n)=>t(...n),s)},rc=Lt("bm"),Tt=Lt("m"),cc=Lt("bu"),uc=Lt("u"),Fn=Lt("bum"),Ka=Lt("um"),dc=Lt("sp"),fc=Lt("rtg"),pc=Lt("rtc");function hc(e,t=Ze){Vn("ec",e,t)}const vc=Symbol.for("v-ndc");function ve(e,t,s,n){let l;const a=s,i=ce(e);if(i||Ne(e)){const c=i&&rs(e);let r=!1,f=!1;c&&(r=!rt(e),f=Ot(e),e=Ln(e)),l=new Array(e.length);for(let u=0,d=e.length;u<d;u++)l[u]=t(r?f?Cs(mt(e[u])):mt(e[u]):e[u],u,void 0,a)}else if(typeof e=="number"){l=new Array(e);for(let c=0;c<e;c++)l[c]=t(c+1,c,void 0,a)}else if(Ae(e))if(e[Symbol.iterator])l=Array.from(e,(c,r)=>t(c,r,void 0,a));else{const c=Object.keys(e);l=new Array(c.length);for(let r=0,f=c.length;r<f;r++){const u=c[r];l[r]=t(e[u],u,r,a)}}else l=[];return l}function mc(e,t,s={},n,l){if(Ge.ce||Ge.parent&&bs(Ge.parent)&&Ge.parent.ce){const f=Object.keys(s).length>0;return w(),dt(re,null,[Se("slot",s,n)],f?-2:64)}let a=e[t];a&&a._c&&(a._d=!1),w();const i=a&&Ja(a(s)),c=s.key||i&&i.key,r=dt(re,{key:(c&&!vt(c)?c:`_${t}`)+(!i&&n?"_fb":"")},i||[],i&&e._===1?64:-2);return r.scopeId&&(r.slotScopeIds=[r.scopeId+"-s"]),a&&a._c&&(a._d=!0),r}function Ja(e){return e.some(t=>en(t)?!(t.type===Nt||t.type===re&&!Ja(t.children)):!0)?e:null}const mo=e=>e?pi(e)?Bn(e):mo(e.parent):null,Ks=Ke(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>mo(e.parent),$root:e=>mo(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>za(e),$forceUpdate:e=>e.f||(e.f=()=>{Bo(e.update)}),$nextTick:e=>e.n||(e.n=Qs.bind(e.proxy)),$watch:e=>tc.bind(e)}),Zn=(e,t)=>e!==ke&&!e.__isScriptSetup&&we(e,t),gc={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:s,setupState:n,data:l,props:a,accessCache:i,type:c,appContext:r}=e;if(t[0]!=="$"){const h=i[t];if(h!==void 0)switch(h){case 1:return n[t];case 2:return l[t];case 4:return s[t];case 3:return a[t]}else{if(Zn(n,t))return i[t]=1,n[t];if(l!==ke&&we(l,t))return i[t]=2,l[t];if(we(a,t))return i[t]=3,a[t];if(s!==ke&&we(s,t))return i[t]=4,s[t];go&&(i[t]=0)}}const f=Ks[t];let u,d;if(f)return t==="$attrs"&&He(e.attrs,"get",""),f(e);if((u=c.__cssModules)&&(u=u[t]))return u;if(s!==ke&&we(s,t))return i[t]=4,s[t];if(d=r.config.globalProperties,we(d,t))return d[t]},set({_:e},t,s){const{data:n,setupState:l,ctx:a}=e;return Zn(l,t)?(l[t]=s,!0):n!==ke&&we(n,t)?(n[t]=s,!0):we(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(a[t]=s,!0)},has({_:{data:e,setupState:t,accessCache:s,ctx:n,appContext:l,props:a,type:i}},c){let r;return!!(s[c]||e!==ke&&c[0]!=="$"&&we(e,c)||Zn(t,c)||we(a,c)||we(n,c)||we(Ks,c)||we(l.config.globalProperties,c)||(r=i.__cssModules)&&r[c])},defineProperty(e,t,s){return s.get!=null?e._.accessCache[t]=0:we(s,"value")&&this.set(e,t,s.value,null),Reflect.defineProperty(e,t,s)}};function hl(e){return ce(e)?e.reduce((t,s)=>(t[s]=null,t),{}):e}let go=!0;function yc(e){const t=za(e),s=e.proxy,n=e.ctx;go=!1,t.beforeCreate&&vl(t.beforeCreate,e,"bc");const{data:l,computed:a,methods:i,watch:c,provide:r,inject:f,created:u,beforeMount:d,mounted:h,beforeUpdate:v,updated:_,activated:k,deactivated:j,beforeDestroy:E,beforeUnmount:C,destroyed:b,unmounted:$,render:M,renderTracked:ae,renderTriggered:U,errorCaptured:B,serverPrefetch:ne,expose:X,inheritAttrs:W,components:K,directives:ue,filters:Fe}=t;if(f&&_c(f,n,null),i)for(const F in i){const Z=i[F];de(Z)&&(n[F]=Z.bind(s))}if(l){const F=l.call(s,s);Ae(F)&&(e.data=Jt(F))}if(go=!0,a)for(const F in a){const Z=a[F],me=de(Z)?Z.bind(s,s):de(Z.get)?Z.get.bind(s,s):$t,he=!de(Z)&&de(Z.set)?Z.set.bind(s):$t,Le=J({get:me,set:he});Object.defineProperty(n,F,{enumerable:!0,configurable:!0,get:()=>Le.value,set:Re=>Le.value=Re})}if(c)for(const F in c)Wa(c[F],n,s,F);if(r){const F=de(r)?r.call(s):r;Reflect.ownKeys(F).forEach(Z=>{mn(Z,F[Z])})}u&&vl(u,e,"c");function ye(F,Z){ce(Z)?Z.forEach(me=>F(me.bind(s))):Z&&F(Z.bind(s))}if(ye(rc,d),ye(Tt,h),ye(cc,v),ye(uc,_),ye(lc,k),ye(ac,j),ye(hc,B),ye(pc,ae),ye(fc,U),ye(Fn,C),ye(Ka,$),ye(dc,ne),ce(X))if(X.length){const F=e.exposed||(e.exposed={});X.forEach(Z=>{Object.defineProperty(F,Z,{get:()=>s[Z],set:me=>s[Z]=me,enumerable:!0})})}else e.exposed||(e.exposed={});M&&e.render===$t&&(e.render=M),W!=null&&(e.inheritAttrs=W),K&&(e.components=K),ue&&(e.directives=ue),ne&&Ha(e)}function _c(e,t,s=$t){ce(e)&&(e=yo(e));for(const n in e){const l=e[n];let a;Ae(l)?"default"in l?a=ht(l.from||n,l.default,!0):a=ht(l.from||n):a=ht(l),qe(a)?Object.defineProperty(t,n,{enumerable:!0,configurable:!0,get:()=>a.value,set:i=>a.value=i}):t[n]=a}}function vl(e,t,s){kt(ce(e)?e.map(n=>n.bind(t.proxy)):e.bind(t.proxy),t,s)}function Wa(e,t,s,n){let l=n.includes(".")?Ba(s,n):()=>s[n];if(Ne(e)){const a=t[e];de(a)&&St(l,a)}else if(de(e))St(l,e.bind(s));else if(Ae(e))if(ce(e))e.forEach(a=>Wa(a,t,s,n));else{const a=de(e.handler)?e.handler.bind(s):t[e.handler];de(a)&&St(l,a,e)}}function za(e){const t=e.type,{mixins:s,extends:n}=t,{mixins:l,optionsCache:a,config:{optionMergeStrategies:i}}=e.appContext,c=a.get(t);let r;return c?r=c:!l.length&&!s&&!n?r=t:(r={},l.length&&l.forEach(f=>En(r,f,i,!0)),En(r,t,i)),Ae(t)&&a.set(t,r),r}function En(e,t,s,n=!1){const{mixins:l,extends:a}=t;a&&En(e,a,s,!0),l&&l.forEach(i=>En(e,i,s,!0));for(const i in t)if(!(n&&i==="expose")){const c=bc[i]||s&&s[i];e[i]=c?c(e[i],t[i]):t[i]}return e}const bc={data:ml,props:gl,emits:gl,methods:Us,computed:Us,beforeCreate:ze,created:ze,beforeMount:ze,mounted:ze,beforeUpdate:ze,updated:ze,beforeDestroy:ze,beforeUnmount:ze,destroyed:ze,unmounted:ze,activated:ze,deactivated:ze,errorCaptured:ze,serverPrefetch:ze,components:Us,directives:Us,watch:$c,provide:ml,inject:wc};function ml(e,t){return t?e?function(){return Ke(de(e)?e.call(this,this):e,de(t)?t.call(this,this):t)}:t:e}function wc(e,t){return Us(yo(e),yo(t))}function yo(e){if(ce(e)){const t={};for(let s=0;s<e.length;s++)t[e[s]]=e[s];return t}return e}function ze(e,t){return e?[...new Set([].concat(e,t))]:t}function Us(e,t){return e?Ke(Object.create(null),e,t):t}function gl(e,t){return e?ce(e)&&ce(t)?[...new Set([...e,...t])]:Ke(Object.create(null),hl(e),hl(t??{})):t}function $c(e,t){if(!e)return t;if(!t)return e;const s=Ke(Object.create(null),e);for(const n in t)s[n]=ze(e[n],t[n]);return s}function Ya(){return{app:null,config:{isNativeTag:ra,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Sc=0;function kc(e,t){return function(n,l=null){de(n)||(n=Ke({},n)),l!=null&&!Ae(l)&&(l=null);const a=Ya(),i=new WeakSet,c=[];let r=!1;const f=a.app={_uid:Sc++,_component:n,_props:l,_container:null,_context:a,_instance:null,version:su,get config(){return a.config},set config(u){},use(u,...d){return i.has(u)||(u&&de(u.install)?(i.add(u),u.install(f,...d)):de(u)&&(i.add(u),u(f,...d))),f},mixin(u){return a.mixins.includes(u)||a.mixins.push(u),f},component(u,d){return d?(a.components[u]=d,f):a.components[u]},directive(u,d){return d?(a.directives[u]=d,f):a.directives[u]},mount(u,d,h){if(!r){const v=f._ceVNode||Se(n,l);return v.appContext=a,h===!0?h="svg":h===!1&&(h=void 0),e(v,u,h),r=!0,f._container=u,u.__vue_app__=f,Bn(v.component)}},onUnmount(u){c.push(u)},unmount(){r&&(kt(c,f._instance,16),e(null,f._container),delete f._container.__vue_app__)},provide(u,d){return a.provides[u]=d,f},runWithContext(u){const d=ws;ws=f;try{return u()}finally{ws=d}}};return f}}let ws=null;const Cc=(e,t)=>t==="modelValue"||t==="model-value"?e.modelModifiers:e[`${t}Modifiers`]||e[`${Kt(t)}Modifiers`]||e[`${Yt(t)}Modifiers`];function Ac(e,t,...s){if(e.isUnmounted)return;const n=e.vnode.props||ke;let l=s;const a=t.startsWith("update:"),i=a&&Cc(n,t.slice(7));i&&(i.trim&&(l=s.map(u=>Ne(u)?u.trim():u)),i.number&&(l=s.map(Tn)));let c,r=n[c=Wn(t)]||n[c=Wn(Kt(t))];!r&&a&&(r=n[c=Wn(Yt(t))]),r&&kt(r,e,6,l);const f=n[c+"Once"];if(f){if(!e.emitted)e.emitted={};else if(e.emitted[c])return;e.emitted[c]=!0,kt(f,e,6,l)}}const xc=new WeakMap;function Qa(e,t,s=!1){const n=s?xc:t.emitsCache,l=n.get(e);if(l!==void 0)return l;const a=e.emits;let i={},c=!1;if(!de(e)){const r=f=>{const u=Qa(f,t,!0);u&&(c=!0,Ke(i,u))};!s&&t.mixins.length&&t.mixins.forEach(r),e.extends&&r(e.extends),e.mixins&&e.mixins.forEach(r)}return!a&&!c?(Ae(e)&&n.set(e,null),null):(ce(a)?a.forEach(r=>i[r]=null):Ke(i,a),Ae(e)&&n.set(e,i),i)}function Un(e,t){return!e||!In(t)?!1:(t=t.slice(2).replace(/Once$/,""),we(e,t[0].toLowerCase()+t.slice(1))||we(e,Yt(t))||we(e,t))}function yl(e){const{type:t,vnode:s,proxy:n,withProxy:l,propsOptions:[a],slots:i,attrs:c,emit:r,render:f,renderCache:u,props:d,data:h,setupState:v,ctx:_,inheritAttrs:k}=e,j=An(e);let E,C;try{if(s.shapeFlag&4){const $=l||n,M=$;E=wt(f.call(M,$,u,d,v,h,_)),C=c}else{const $=t;E=wt($.length>1?$(d,{attrs:c,slots:i,emit:r}):$(d,null)),C=t.props?c:Ec(c)}}catch($){Js.length=0,Dn($,e,1),E=Se(Nt)}let b=E;if(C&&k!==!1){const $=Object.keys(C),{shapeFlag:M}=b;$.length&&M&7&&(a&&$.some(Po)&&(C=Rc(C,a)),b=As(b,C,!1,!0))}return s.dirs&&(b=As(b,null,!1,!0),b.dirs=b.dirs?b.dirs.concat(s.dirs):s.dirs),s.transition&&Ho(b,s.transition),E=b,An(j),E}const Ec=e=>{let t;for(const s in e)(s==="class"||s==="style"||In(s))&&((t||(t={}))[s]=e[s]);return t},Rc=(e,t)=>{const s={};for(const n in e)(!Po(n)||!(n.slice(9)in t))&&(s[n]=e[n]);return s};function Mc(e,t,s){const{props:n,children:l,component:a}=e,{props:i,children:c,patchFlag:r}=t,f=a.emitsOptions;if(t.dirs||t.transition)return!0;if(s&&r>=0){if(r&1024)return!0;if(r&16)return n?_l(n,i,f):!!i;if(r&8){const u=t.dynamicProps;for(let d=0;d<u.length;d++){const h=u[d];if(i[h]!==n[h]&&!Un(f,h))return!0}}}else return(l||c)&&(!c||!c.$stable)?!0:n===i?!1:n?i?_l(n,i,f):!0:!!i;return!1}function _l(e,t,s){const n=Object.keys(t);if(n.length!==Object.keys(e).length)return!0;for(let l=0;l<n.length;l++){const a=n[l];if(t[a]!==e[a]&&!Un(s,a))return!0}return!1}function Pc({vnode:e,parent:t},s){for(;t;){const n=t.subTree;if(n.suspense&&n.suspense.activeBranch===e&&(n.el=e.el),n===e)(e=t.vnode).el=s,t=t.parent;else break}}const Xa={},Za=()=>Object.create(Xa),ei=e=>Object.getPrototypeOf(e)===Xa;function Ic(e,t,s,n=!1){const l={},a=Za();e.propsDefaults=Object.create(null),ti(e,t,l,a);for(const i in e.propsOptions[0])i in l||(l[i]=void 0);s?e.props=n?l:Ia(l):e.type.props?e.props=l:e.props=a,e.attrs=a}function Oc(e,t,s,n){const{props:l,attrs:a,vnode:{patchFlag:i}}=e,c=be(l),[r]=e.propsOptions;let f=!1;if((n||i>0)&&!(i&16)){if(i&8){const u=e.vnode.dynamicProps;for(let d=0;d<u.length;d++){let h=u[d];if(Un(e.emitsOptions,h))continue;const v=t[h];if(r)if(we(a,h))v!==a[h]&&(a[h]=v,f=!0);else{const _=Kt(h);l[_]=_o(r,c,_,v,e,!1)}else v!==a[h]&&(a[h]=v,f=!0)}}}else{ti(e,t,l,a)&&(f=!0);let u;for(const d in c)(!t||!we(t,d)&&((u=Yt(d))===d||!we(t,u)))&&(r?s&&(s[d]!==void 0||s[u]!==void 0)&&(l[d]=_o(r,c,d,void 0,e,!0)):delete l[d]);if(a!==c)for(const d in a)(!t||!we(t,d))&&(delete a[d],f=!0)}f&&Et(e.attrs,"set","")}function ti(e,t,s,n){const[l,a]=e.propsOptions;let i=!1,c;if(t)for(let r in t){if(Bs(r))continue;const f=t[r];let u;l&&we(l,u=Kt(r))?!a||!a.includes(u)?s[u]=f:(c||(c={}))[u]=f:Un(e.emitsOptions,r)||(!(r in n)||f!==n[r])&&(n[r]=f,i=!0)}if(a){const r=be(s),f=c||ke;for(let u=0;u<a.length;u++){const d=a[u];s[d]=_o(l,r,d,f[d],e,!we(f,d))}}return i}function _o(e,t,s,n,l,a){const i=e[s];if(i!=null){const c=we(i,"default");if(c&&n===void 0){const r=i.default;if(i.type!==Function&&!i.skipFactory&&de(r)){const{propsDefaults:f}=l;if(s in f)n=f[s];else{const u=ln(l);n=f[s]=r.call(null,t),u()}}else n=r;l.ce&&l.ce._setProp(s,n)}i[0]&&(a&&!c?n=!1:i[1]&&(n===""||n===Yt(s))&&(n=!0))}return n}const Tc=new WeakMap;function si(e,t,s=!1){const n=s?Tc:t.propsCache,l=n.get(e);if(l)return l;const a=e.props,i={},c=[];let r=!1;if(!de(e)){const u=d=>{r=!0;const[h,v]=si(d,t,!0);Ke(i,h),v&&c.push(...v)};!s&&t.mixins.length&&t.mixins.forEach(u),e.extends&&u(e.extends),e.mixins&&e.mixins.forEach(u)}if(!a&&!r)return Ae(e)&&n.set(e,gs),gs;if(ce(a))for(let u=0;u<a.length;u++){const d=Kt(a[u]);bl(d)&&(i[d]=ke)}else if(a)for(const u in a){const d=Kt(u);if(bl(d)){const h=a[u],v=i[d]=ce(h)||de(h)?{type:h}:Ke({},h),_=v.type;let k=!1,j=!0;if(ce(_))for(let E=0;E<_.length;++E){const C=_[E],b=de(C)&&C.name;if(b==="Boolean"){k=!0;break}else b==="String"&&(j=!1)}else k=de(_)&&_.name==="Boolean";v[0]=k,v[1]=j,(k||we(v,"default"))&&c.push(d)}}const f=[i,c];return Ae(e)&&n.set(e,f),f}function bl(e){return e[0]!=="$"&&!Bs(e)}const Go=e=>e==="_"||e==="_ctx"||e==="$stable",qo=e=>ce(e)?e.map(wt):[wt(e)],Nc=(e,t,s)=>{if(t._n)return t;const n=Pe((...l)=>qo(t(...l)),s);return n._c=!1,n},ni=(e,t,s)=>{const n=e._ctx;for(const l in e){if(Go(l))continue;const a=e[l];if(de(a))t[l]=Nc(l,a,n);else if(a!=null){const i=qo(a);t[l]=()=>i}}},oi=(e,t)=>{const s=qo(t);e.slots.default=()=>s},li=(e,t,s)=>{for(const n in t)(s||!Go(n))&&(e[n]=t[n])},Lc=(e,t,s)=>{const n=e.slots=Za();if(e.vnode.shapeFlag&32){const l=t._;l?(li(n,t,s),s&&pa(n,"_",l,!0)):ni(t,n)}else t&&oi(e,t)},Dc=(e,t,s)=>{const{vnode:n,slots:l}=e;let a=!0,i=ke;if(n.shapeFlag&32){const c=t._;c?s&&c===1?a=!1:li(l,t,s):(a=!t.$stable,ni(t,l)),i=t}else t&&(oi(e,t),i={default:1});if(a)for(const c in l)!Go(c)&&i[c]==null&&delete l[c]},st=Bc;function Vc(e){return Fc(e)}function Fc(e,t){const s=Nn();s.__VUE__=!0;const{insert:n,remove:l,patchProp:a,createElement:i,createText:c,createComment:r,setText:f,setElementText:u,parentNode:d,nextSibling:h,setScopeId:v=$t,insertStaticContent:_}=e,k=(p,m,y,R=null,N=null,P=null,z=void 0,q=null,H=!!m.dynamicChildren)=>{if(p===m)return;p&&!Ds(p,m)&&(R=A(p),Re(p,N,P,!0),p=null),m.patchFlag===-2&&(H=!1,m.dynamicChildren=null);const{type:T,ref:Q,shapeFlag:G}=m;switch(T){case jn:j(p,m,y,R);break;case Nt:E(p,m,y,R);break;case gn:p==null&&C(m,y,R,z);break;case re:K(p,m,y,R,N,P,z,q,H);break;default:G&1?M(p,m,y,R,N,P,z,q,H):G&6?ue(p,m,y,R,N,P,z,q,H):(G&64||G&128)&&T.process(p,m,y,R,N,P,z,q,H,te)}Q!=null&&N?qs(Q,p&&p.ref,P,m||p,!m):Q==null&&p&&p.ref!=null&&qs(p.ref,null,P,p,!0)},j=(p,m,y,R)=>{if(p==null)n(m.el=c(m.children),y,R);else{const N=m.el=p.el;m.children!==p.children&&f(N,m.children)}},E=(p,m,y,R)=>{p==null?n(m.el=r(m.children||""),y,R):m.el=p.el},C=(p,m,y,R)=>{[p.el,p.anchor]=_(p.children,m,y,R,p.el,p.anchor)},b=({el:p,anchor:m},y,R)=>{let N;for(;p&&p!==m;)N=h(p),n(p,y,R),p=N;n(m,y,R)},$=({el:p,anchor:m})=>{let y;for(;p&&p!==m;)y=h(p),l(p),p=y;l(m)},M=(p,m,y,R,N,P,z,q,H)=>{if(m.type==="svg"?z="svg":m.type==="math"&&(z="mathml"),p==null)ae(m,y,R,N,P,z,q,H);else{const T=p.el&&p.el._isVueCE?p.el:null;try{T&&T._beginPatch(),ne(p,m,N,P,z,q,H)}finally{T&&T._endPatch()}}},ae=(p,m,y,R,N,P,z,q)=>{let H,T;const{props:Q,shapeFlag:G,transition:se,dirs:oe}=p;if(H=p.el=i(p.type,P,Q&&Q.is,Q),G&8?u(H,p.children):G&16&&B(p.children,H,null,R,N,eo(p,P),z,q),oe&&es(p,null,R,"created"),U(H,p,p.scopeId,z,R),Q){for(const x in Q)x!=="value"&&!Bs(x)&&a(H,x,null,Q[x],P,R);"value"in Q&&a(H,"value",null,Q.value,P),(T=Q.onVnodeBeforeMount)&&_t(T,R,p)}oe&&es(p,null,R,"beforeMount");const V=Uc(N,se);V&&se.beforeEnter(H),n(H,m,y),((T=Q&&Q.onVnodeMounted)||V||oe)&&st(()=>{T&&_t(T,R,p),V&&se.enter(H),oe&&es(p,null,R,"mounted")},N)},U=(p,m,y,R,N)=>{if(y&&v(p,y),R)for(let P=0;P<R.length;P++)v(p,R[P]);if(N){let P=N.subTree;if(m===P||ci(P.type)&&(P.ssContent===m||P.ssFallback===m)){const z=N.vnode;U(p,z,z.scopeId,z.slotScopeIds,N.parent)}}},B=(p,m,y,R,N,P,z,q,H=0)=>{for(let T=H;T<p.length;T++){const Q=p[T]=q?Bt(p[T]):wt(p[T]);k(null,Q,m,y,R,N,P,z,q)}},ne=(p,m,y,R,N,P,z)=>{const q=m.el=p.el;let{patchFlag:H,dynamicChildren:T,dirs:Q}=m;H|=p.patchFlag&16;const G=p.props||ke,se=m.props||ke;let oe;if(y&&ts(y,!1),(oe=se.onVnodeBeforeUpdate)&&_t(oe,y,m,p),Q&&es(m,p,y,"beforeUpdate"),y&&ts(y,!0),(G.innerHTML&&se.innerHTML==null||G.textContent&&se.textContent==null)&&u(q,""),T?X(p.dynamicChildren,T,q,y,R,eo(m,N),P):z||Z(p,m,q,null,y,R,eo(m,N),P,!1),H>0){if(H&16)W(q,G,se,y,N);else if(H&2&&G.class!==se.class&&a(q,"class",null,se.class,N),H&4&&a(q,"style",G.style,se.style,N),H&8){const V=m.dynamicProps;for(let x=0;x<V.length;x++){const L=V[x],ge=G[L],Be=se[L];(Be!==ge||L==="value")&&a(q,L,ge,Be,N,y)}}H&1&&p.children!==m.children&&u(q,m.children)}else!z&&T==null&&W(q,G,se,y,N);((oe=se.onVnodeUpdated)||Q)&&st(()=>{oe&&_t(oe,y,m,p),Q&&es(m,p,y,"updated")},R)},X=(p,m,y,R,N,P,z)=>{for(let q=0;q<m.length;q++){const H=p[q],T=m[q],Q=H.el&&(H.type===re||!Ds(H,T)||H.shapeFlag&198)?d(H.el):y;k(H,T,Q,null,R,N,P,z,!0)}},W=(p,m,y,R,N)=>{if(m!==y){if(m!==ke)for(const P in m)!Bs(P)&&!(P in y)&&a(p,P,m[P],null,N,R);for(const P in y){if(Bs(P))continue;const z=y[P],q=m[P];z!==q&&P!=="value"&&a(p,P,q,z,N,R)}"value"in y&&a(p,"value",m.value,y.value,N)}},K=(p,m,y,R,N,P,z,q,H)=>{const T=m.el=p?p.el:c(""),Q=m.anchor=p?p.anchor:c("");let{patchFlag:G,dynamicChildren:se,slotScopeIds:oe}=m;oe&&(q=q?q.concat(oe):oe),p==null?(n(T,y,R),n(Q,y,R),B(m.children||[],y,Q,N,P,z,q,H)):G>0&&G&64&&se&&p.dynamicChildren&&p.dynamicChildren.length===se.length?(X(p.dynamicChildren,se,y,N,P,z,q),(m.key!=null||N&&m===N.subTree)&&ai(p,m,!0)):Z(p,m,y,Q,N,P,z,q,H)},ue=(p,m,y,R,N,P,z,q,H)=>{m.slotScopeIds=q,p==null?m.shapeFlag&512?N.ctx.activate(m,y,R,z,H):Fe(m,y,R,N,P,z,H):Me(p,m,H)},Fe=(p,m,y,R,N,P,z)=>{const q=p.component=zc(p,R,N);if(Ga(p)&&(q.ctx.renderer=te),Qc(q,!1,z),q.asyncDep){if(N&&N.registerDep(q,ye,z),!p.el){const H=q.subTree=Se(Nt);E(null,H,m,y),p.placeholder=H.el}}else ye(q,p,m,y,N,P,z)},Me=(p,m,y)=>{const R=m.component=p.component;if(Mc(p,m,y))if(R.asyncDep&&!R.asyncResolved){F(R,m,y);return}else R.next=m,R.update();else m.el=p.el,R.vnode=m},ye=(p,m,y,R,N,P,z)=>{const q=()=>{if(p.isMounted){let{next:G,bu:se,u:oe,parent:V,vnode:x}=p;{const at=ii(p);if(at){G&&(G.el=x.el,F(p,G,z)),at.asyncDep.then(()=>{p.isUnmounted||q()});return}}let L=G,ge;ts(p,!1),G?(G.el=x.el,F(p,G,z)):G=x,se&&vn(se),(ge=G.props&&G.props.onVnodeBeforeUpdate)&&_t(ge,V,G,x),ts(p,!0);const Be=yl(p),lt=p.subTree;p.subTree=Be,k(lt,Be,d(lt.el),A(lt),p,N,P),G.el=Be.el,L===null&&Pc(p,Be.el),oe&&st(oe,N),(ge=G.props&&G.props.onVnodeUpdated)&&st(()=>_t(ge,V,G,x),N)}else{let G;const{el:se,props:oe}=m,{bm:V,m:x,parent:L,root:ge,type:Be}=p,lt=bs(m);ts(p,!1),V&&vn(V),!lt&&(G=oe&&oe.onVnodeBeforeMount)&&_t(G,L,m),ts(p,!0);{ge.ce&&ge.ce._def.shadowRoot!==!1&&ge.ce._injectChildStyle(Be);const at=p.subTree=yl(p);k(null,at,y,R,p,N,P),m.el=at.el}if(x&&st(x,N),!lt&&(G=oe&&oe.onVnodeMounted)){const at=m;st(()=>_t(G,L,at),N)}(m.shapeFlag&256||L&&bs(L.vnode)&&L.vnode.shapeFlag&256)&&p.a&&st(p.a,N),p.isMounted=!0,m=y=R=null}};p.scope.on();const H=p.effect=new ya(q);p.scope.off();const T=p.update=H.run.bind(H),Q=p.job=H.runIfDirty.bind(H);Q.i=p,Q.id=p.uid,H.scheduler=()=>Bo(Q),ts(p,!0),T()},F=(p,m,y)=>{m.component=p;const R=p.vnode.props;p.vnode=m,p.next=null,Oc(p,m.props,R,y),Dc(p,m.children,y),Pt(),fl(p),It()},Z=(p,m,y,R,N,P,z,q,H=!1)=>{const T=p&&p.children,Q=p?p.shapeFlag:0,G=m.children,{patchFlag:se,shapeFlag:oe}=m;if(se>0){if(se&128){he(T,G,y,R,N,P,z,q,H);return}else if(se&256){me(T,G,y,R,N,P,z,q,H);return}}oe&8?(Q&16&&De(T,N,P),G!==T&&u(y,G)):Q&16?oe&16?he(T,G,y,R,N,P,z,q,H):De(T,N,P,!0):(Q&8&&u(y,""),oe&16&&B(G,y,R,N,P,z,q,H))},me=(p,m,y,R,N,P,z,q,H)=>{p=p||gs,m=m||gs;const T=p.length,Q=m.length,G=Math.min(T,Q);let se;for(se=0;se<G;se++){const oe=m[se]=H?Bt(m[se]):wt(m[se]);k(p[se],oe,y,null,N,P,z,q,H)}T>Q?De(p,N,P,!0,!1,G):B(m,y,R,N,P,z,q,H,G)},he=(p,m,y,R,N,P,z,q,H)=>{let T=0;const Q=m.length;let G=p.length-1,se=Q-1;for(;T<=G&&T<=se;){const oe=p[T],V=m[T]=H?Bt(m[T]):wt(m[T]);if(Ds(oe,V))k(oe,V,y,null,N,P,z,q,H);else break;T++}for(;T<=G&&T<=se;){const oe=p[G],V=m[se]=H?Bt(m[se]):wt(m[se]);if(Ds(oe,V))k(oe,V,y,null,N,P,z,q,H);else break;G--,se--}if(T>G){if(T<=se){const oe=se+1,V=oe<Q?m[oe].el:R;for(;T<=se;)k(null,m[T]=H?Bt(m[T]):wt(m[T]),y,V,N,P,z,q,H),T++}}else if(T>se)for(;T<=G;)Re(p[T],N,P,!0),T++;else{const oe=T,V=T,x=new Map;for(T=V;T<=se;T++){const We=m[T]=H?Bt(m[T]):wt(m[T]);We.key!=null&&x.set(We.key,T)}let L,ge=0;const Be=se-V+1;let lt=!1,at=0;const Xt=new Array(Be);for(T=0;T<Be;T++)Xt[T]=0;for(T=oe;T<=G;T++){const We=p[T];if(ge>=Be){Re(We,N,P,!0);continue}let it;if(We.key!=null)it=x.get(We.key);else for(L=V;L<=se;L++)if(Xt[L-V]===0&&Ds(We,m[L])){it=L;break}it===void 0?Re(We,N,P,!0):(Xt[it-V]=T+1,it>=at?at=it:lt=!0,k(We,m[it],y,null,N,P,z,q,H),ge++)}const Ps=lt?jc(Xt):gs;for(L=Ps.length-1,T=Be-1;T>=0;T--){const We=V+T,it=m[We],Is=m[We+1],Os=We+1<Q?Is.el||ri(Is):R;Xt[T]===0?k(null,it,y,Os,N,P,z,q,H):lt&&(L<0||T!==Ps[L]?Le(it,y,Os,2):L--)}}},Le=(p,m,y,R,N=null)=>{const{el:P,type:z,transition:q,children:H,shapeFlag:T}=p;if(T&6){Le(p.component.subTree,m,y,R);return}if(T&128){p.suspense.move(m,y,R);return}if(T&64){z.move(p,m,y,te);return}if(z===re){n(P,m,y);for(let G=0;G<H.length;G++)Le(H[G],m,y,R);n(p.anchor,m,y);return}if(z===gn){b(p,m,y);return}if(R!==2&&T&1&&q)if(R===0)q.beforeEnter(P),n(P,m,y),st(()=>q.enter(P),N);else{const{leave:G,delayLeave:se,afterLeave:oe}=q,V=()=>{p.ctx.isUnmounted?l(P):n(P,m,y)},x=()=>{P._isLeaving&&P[oc](!0),G(P,()=>{V(),oe&&oe()})};se?se(P,V,x):x()}else n(P,m,y)},Re=(p,m,y,R=!1,N=!1)=>{const{type:P,props:z,ref:q,children:H,dynamicChildren:T,shapeFlag:Q,patchFlag:G,dirs:se,cacheIndex:oe}=p;if(G===-2&&(N=!1),q!=null&&(Pt(),qs(q,null,y,p,!0),It()),oe!=null&&(m.renderCache[oe]=void 0),Q&256){m.ctx.deactivate(p);return}const V=Q&1&&se,x=!bs(p);let L;if(x&&(L=z&&z.onVnodeBeforeUnmount)&&_t(L,m,p),Q&6)ot(p.component,y,R);else{if(Q&128){p.suspense.unmount(y,R);return}V&&es(p,null,m,"beforeUnmount"),Q&64?p.type.remove(p,m,y,te,R):T&&!T.hasOnce&&(P!==re||G>0&&G&64)?De(T,m,y,!1,!0):(P===re&&G&384||!N&&Q&16)&&De(H,m,y),R&&et(p)}(x&&(L=z&&z.onVnodeUnmounted)||V)&&st(()=>{L&&_t(L,m,p),V&&es(p,null,m,"unmounted")},y)},et=p=>{const{type:m,el:y,anchor:R,transition:N}=p;if(m===re){ft(y,R);return}if(m===gn){$(p);return}const P=()=>{l(y),N&&!N.persisted&&N.afterLeave&&N.afterLeave()};if(p.shapeFlag&1&&N&&!N.persisted){const{leave:z,delayLeave:q}=N,H=()=>z(y,P);q?q(p.el,P,H):H()}else P()},ft=(p,m)=>{let y;for(;p!==m;)y=h(p),l(p),p=y;l(m)},ot=(p,m,y)=>{const{bum:R,scope:N,job:P,subTree:z,um:q,m:H,a:T}=p;wl(H),wl(T),R&&vn(R),N.stop(),P&&(P.flags|=8,Re(z,p,m,y)),q&&st(q,m),st(()=>{p.isUnmounted=!0},m)},De=(p,m,y,R=!1,N=!1,P=0)=>{for(let z=P;z<p.length;z++)Re(p[z],m,y,R,N)},A=p=>{if(p.shapeFlag&6)return A(p.component.subTree);if(p.shapeFlag&128)return p.suspense.next();const m=h(p.anchor||p.el),y=m&&m[sc];return y?h(y):m};let ee=!1;const Y=(p,m,y)=>{let R;p==null?m._vnode&&(Re(m._vnode,null,null,!0),R=m._vnode.component):k(m._vnode||null,p,m,null,null,null,y),m._vnode=p,ee||(ee=!0,fl(R),Va(),ee=!1)},te={p:k,um:Re,m:Le,r:et,mt:Fe,mc:B,pc:Z,pbc:X,n:A,o:e};return{render:Y,hydrate:void 0,createApp:kc(Y)}}function eo({type:e,props:t},s){return s==="svg"&&e==="foreignObject"||s==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:s}function ts({effect:e,job:t},s){s?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function Uc(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function ai(e,t,s=!1){const n=e.children,l=t.children;if(ce(n)&&ce(l))for(let a=0;a<n.length;a++){const i=n[a];let c=l[a];c.shapeFlag&1&&!c.dynamicChildren&&((c.patchFlag<=0||c.patchFlag===32)&&(c=l[a]=Bt(l[a]),c.el=i.el),!s&&c.patchFlag!==-2&&ai(i,c)),c.type===jn&&(c.patchFlag!==-1?c.el=i.el:c.__elIndex=a+(e.type===re?1:0)),c.type===Nt&&!c.el&&(c.el=i.el)}}function jc(e){const t=e.slice(),s=[0];let n,l,a,i,c;const r=e.length;for(n=0;n<r;n++){const f=e[n];if(f!==0){if(l=s[s.length-1],e[l]<f){t[n]=l,s.push(n);continue}for(a=0,i=s.length-1;a<i;)c=a+i>>1,e[s[c]]<f?a=c+1:i=c;f<e[s[a]]&&(a>0&&(t[n]=s[a-1]),s[a]=n)}}for(a=s.length,i=s[a-1];a-- >0;)s[a]=i,i=t[i];return s}function ii(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:ii(t)}function wl(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}function ri(e){if(e.placeholder)return e.placeholder;const t=e.component;return t?ri(t.subTree):null}const ci=e=>e.__isSuspense;function Bc(e,t){t&&t.pendingBranch?ce(e)?t.effects.push(...e):t.effects.push(e):Xr(e)}const re=Symbol.for("v-fgt"),jn=Symbol.for("v-txt"),Nt=Symbol.for("v-cmt"),gn=Symbol.for("v-stc"),Js=[];let nt=null;function w(e=!1){Js.push(nt=e?null:[])}function Hc(){Js.pop(),nt=Js[Js.length-1]||null}let Zs=1;function Rn(e,t=!1){Zs+=e,e<0&&nt&&t&&(nt.hasOnce=!0)}function ui(e){return e.dynamicChildren=Zs>0?nt||gs:null,Hc(),Zs>0&&nt&&nt.push(e),e}function S(e,t,s,n,l,a){return ui(o(e,t,s,n,l,a,!0))}function dt(e,t,s,n,l){return ui(Se(e,t,s,n,l,!0))}function en(e){return e?e.__v_isVNode===!0:!1}function Ds(e,t){return e.type===t.type&&e.key===t.key}const di=({key:e})=>e??null,yn=({ref:e,ref_key:t,ref_for:s})=>(typeof e=="number"&&(e=""+e),e!=null?Ne(e)||qe(e)||de(e)?{i:Ge,r:e,k:t,f:!!s}:e:null);function o(e,t=null,s=null,n=0,l=null,a=e===re?0:1,i=!1,c=!1){const r={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&di(t),ref:t&&yn(t),scopeId:Ua,slotScopeIds:null,children:s,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:a,patchFlag:n,dynamicProps:l,dynamicChildren:null,appContext:null,ctx:Ge};return c?(Ko(r,s),a&128&&e.normalize(r)):s&&(r.shapeFlag|=Ne(s)?8:16),Zs>0&&!i&&nt&&(r.patchFlag>0||a&6)&&r.patchFlag!==32&&nt.push(r),r}const Se=Gc;function Gc(e,t=null,s=null,n=0,l=null,a=!1){if((!e||e===vc)&&(e=Nt),en(e)){const c=As(e,t,!0);return s&&Ko(c,s),Zs>0&&!a&&nt&&(c.shapeFlag&6?nt[nt.indexOf(e)]=c:nt.push(c)),c.patchFlag=-2,c}if(tu(e)&&(e=e.__vccOpts),t){t=qc(t);let{class:c,style:r}=t;c&&!Ne(c)&&(t.class=pe(c)),Ae(r)&&(jo(r)&&!ce(r)&&(r=Ke({},r)),t.style=ks(r))}const i=Ne(e)?1:ci(e)?128:nc(e)?64:Ae(e)?4:de(e)?2:0;return o(e,t,s,n,l,i,a,!0)}function qc(e){return e?jo(e)||ei(e)?Ke({},e):e:null}function As(e,t,s=!1,n=!1){const{props:l,ref:a,patchFlag:i,children:c,transition:r}=e,f=t?Kc(l||{},t):l,u={__v_isVNode:!0,__v_skip:!0,type:e.type,props:f,key:f&&di(f),ref:t&&t.ref?s&&a?ce(a)?a.concat(yn(t)):[a,yn(t)]:yn(t):a,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:c,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==re?i===-1?16:i|16:i,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:r,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&As(e.ssContent),ssFallback:e.ssFallback&&As(e.ssFallback),placeholder:e.placeholder,el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return r&&n&&Ho(u,r.clone(u)),u}function je(e=" ",t=0){return Se(jn,null,e,t)}function fi(e,t){const s=Se(gn,null,e);return s.staticCount=t,s}function le(e="",t=!1){return t?(w(),dt(Nt,null,e)):Se(Nt,null,e)}function wt(e){return e==null||typeof e=="boolean"?Se(Nt):ce(e)?Se(re,null,e.slice()):en(e)?Bt(e):Se(jn,null,String(e))}function Bt(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:As(e)}function Ko(e,t){let s=0;const{shapeFlag:n}=e;if(t==null)t=null;else if(ce(t))s=16;else if(typeof t=="object")if(n&65){const l=t.default;l&&(l._c&&(l._d=!1),Ko(e,l()),l._c&&(l._d=!0));return}else{s=32;const l=t._;!l&&!ei(t)?t._ctx=Ge:l===3&&Ge&&(Ge.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else de(t)?(t={default:t,_ctx:Ge},s=32):(t=String(t),n&64?(s=16,t=[je(t)]):s=8);e.children=t,e.shapeFlag|=s}function Kc(...e){const t={};for(let s=0;s<e.length;s++){const n=e[s];for(const l in n)if(l==="class")t.class!==n.class&&(t.class=pe([t.class,n.class]));else if(l==="style")t.style=ks([t.style,n.style]);else if(In(l)){const a=t[l],i=n[l];i&&a!==i&&!(ce(a)&&a.includes(i))&&(t[l]=a?[].concat(a,i):i)}else l!==""&&(t[l]=n[l])}return t}function _t(e,t,s,n=null){kt(e,t,7,[s,n])}const Jc=Ya();let Wc=0;function zc(e,t,s){const n=e.type,l=(t?t.appContext:e.appContext)||Jc,a={uid:Wc++,vnode:e,type:n,parent:t,appContext:l,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new ga(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(l.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:si(n,l),emitsOptions:Qa(n,l),emit:null,emitted:null,propsDefaults:ke,inheritAttrs:n.inheritAttrs,ctx:ke,data:ke,props:ke,attrs:ke,slots:ke,refs:ke,setupState:ke,setupContext:null,suspense:s,suspenseId:s?s.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return a.ctx={_:a},a.root=t?t.root:a,a.emit=Ac.bind(null,a),e.ce&&e.ce(a),a}let Ze=null;const Yc=()=>Ze||Ge;let Mn,bo;{const e=Nn(),t=(s,n)=>{let l;return(l=e[s])||(l=e[s]=[]),l.push(n),a=>{l.length>1?l.forEach(i=>i(a)):l[0](a)}};Mn=t("__VUE_INSTANCE_SETTERS__",s=>Ze=s),bo=t("__VUE_SSR_SETTERS__",s=>tn=s)}const ln=e=>{const t=Ze;return Mn(e),e.scope.on(),()=>{e.scope.off(),Mn(t)}},$l=()=>{Ze&&Ze.scope.off(),Mn(null)};function pi(e){return e.vnode.shapeFlag&4}let tn=!1;function Qc(e,t=!1,s=!1){t&&bo(t);const{props:n,children:l}=e.vnode,a=pi(e);Ic(e,n,a,t),Lc(e,l,s||t);const i=a?Xc(e,t):void 0;return t&&bo(!1),i}function Xc(e,t){const s=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,gc);const{setup:n}=s;if(n){Pt();const l=e.setupContext=n.length>1?eu(e):null,a=ln(e),i=on(n,e,0,[e.props,l]),c=ca(i);if(It(),a(),(c||e.sp)&&!bs(e)&&Ha(e),c){if(i.then($l,$l),t)return i.then(r=>{Sl(e,r)}).catch(r=>{Dn(r,e,0)});e.asyncDep=i}else Sl(e,i)}else hi(e)}function Sl(e,t,s){de(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:Ae(t)&&(e.setupState=Na(t)),hi(e)}function hi(e,t,s){const n=e.type;e.render||(e.render=n.render||$t);{const l=ln(e);Pt();try{yc(e)}finally{It(),l()}}}const Zc={get(e,t){return He(e,"get",""),e[t]}};function eu(e){const t=s=>{e.exposed=s||{}};return{attrs:new Proxy(e.attrs,Zc),slots:e.slots,emit:e.emit,expose:t}}function Bn(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(Na(Oa(e.exposed)),{get(t,s){if(s in t)return t[s];if(s in Ks)return Ks[s](e)},has(t,s){return s in t||s in Ks}})):e.proxy}function tu(e){return de(e)&&"__vccOpts"in e}const J=(e,t)=>Jr(e,t,tn);function vi(e,t,s){try{Rn(-1);const n=arguments.length;return n===2?Ae(t)&&!ce(t)?en(t)?Se(e,null,[t]):Se(e,t):Se(e,null,t):(n>3?s=Array.prototype.slice.call(arguments,2):n===3&&en(s)&&(s=[s]),Se(e,t,s))}finally{Rn(1)}}const su="3.5.26";let wo;const kl=typeof window<"u"&&window.trustedTypes;if(kl)try{wo=kl.createPolicy("vue",{createHTML:e=>e})}catch{}const mi=wo?e=>wo.createHTML(e):e=>e,nu="http://www.w3.org/2000/svg",ou="http://www.w3.org/1998/Math/MathML",xt=typeof document<"u"?document:null,Cl=xt&&xt.createElement("template"),lu={insert:(e,t,s)=>{t.insertBefore(e,s||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,s,n)=>{const l=t==="svg"?xt.createElementNS(nu,e):t==="mathml"?xt.createElementNS(ou,e):s?xt.createElement(e,{is:s}):xt.createElement(e);return e==="select"&&n&&n.multiple!=null&&l.setAttribute("multiple",n.multiple),l},createText:e=>xt.createTextNode(e),createComment:e=>xt.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>xt.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,s,n,l,a){const i=s?s.previousSibling:t.lastChild;if(l&&(l===a||l.nextSibling))for(;t.insertBefore(l.cloneNode(!0),s),!(l===a||!(l=l.nextSibling)););else{Cl.innerHTML=mi(n==="svg"?`<svg>${e}</svg>`:n==="mathml"?`<math>${e}</math>`:e);const c=Cl.content;if(n==="svg"||n==="mathml"){const r=c.firstChild;for(;r.firstChild;)c.appendChild(r.firstChild);c.removeChild(r)}t.insertBefore(c,s)}return[i?i.nextSibling:t.firstChild,s?s.previousSibling:t.lastChild]}},au=Symbol("_vtc");function iu(e,t,s){const n=e[au];n&&(t=(t?[t,...n]:[...n]).join(" ")),t==null?e.removeAttribute("class"):s?e.setAttribute("class",t):e.className=t}const Al=Symbol("_vod"),ru=Symbol("_vsh"),cu=Symbol(""),uu=/(?:^|;)\s*display\s*:/;function du(e,t,s){const n=e.style,l=Ne(s);let a=!1;if(s&&!l){if(t)if(Ne(t))for(const i of t.split(";")){const c=i.slice(0,i.indexOf(":")).trim();s[c]==null&&_n(n,c,"")}else for(const i in t)s[i]==null&&_n(n,i,"");for(const i in s)i==="display"&&(a=!0),_n(n,i,s[i])}else if(l){if(t!==s){const i=n[cu];i&&(s+=";"+i),n.cssText=s,a=uu.test(s)}}else t&&e.removeAttribute("style");Al in e&&(e[Al]=a?n.display:"",e[ru]&&(n.display="none"))}const xl=/\s*!important$/;function _n(e,t,s){if(ce(s))s.forEach(n=>_n(e,t,n));else if(s==null&&(s=""),t.startsWith("--"))e.setProperty(t,s);else{const n=fu(e,t);xl.test(s)?e.setProperty(Yt(n),s.replace(xl,""),"important"):e[n]=s}}const El=["Webkit","Moz","ms"],to={};function fu(e,t){const s=to[t];if(s)return s;let n=Kt(t);if(n!=="filter"&&n in e)return to[t]=n;n=fa(n);for(let l=0;l<El.length;l++){const a=El[l]+n;if(a in e)return to[t]=a}return t}const Rl="http://www.w3.org/1999/xlink";function Ml(e,t,s,n,l,a=wr(t)){n&&t.startsWith("xlink:")?s==null?e.removeAttributeNS(Rl,t.slice(6,t.length)):e.setAttributeNS(Rl,t,s):s==null||a&&!ha(s)?e.removeAttribute(t):e.setAttribute(t,a?"":vt(s)?String(s):s)}function Pl(e,t,s,n,l){if(t==="innerHTML"||t==="textContent"){s!=null&&(e[t]=t==="innerHTML"?mi(s):s);return}const a=e.tagName;if(t==="value"&&a!=="PROGRESS"&&!a.includes("-")){const c=a==="OPTION"?e.getAttribute("value")||"":e.value,r=s==null?e.type==="checkbox"?"on":"":String(s);(c!==r||!("_value"in e))&&(e.value=r),s==null&&e.removeAttribute(t),e._value=s;return}let i=!1;if(s===""||s==null){const c=typeof e[t];c==="boolean"?s=ha(s):s==null&&c==="string"?(s="",i=!0):c==="number"&&(s=0,i=!0)}try{e[t]=s}catch{}i&&e.removeAttribute(l||t)}function Mt(e,t,s,n){e.addEventListener(t,s,n)}function pu(e,t,s,n){e.removeEventListener(t,s,n)}const Il=Symbol("_vei");function hu(e,t,s,n,l=null){const a=e[Il]||(e[Il]={}),i=a[t];if(n&&i)i.value=n;else{const[c,r]=vu(t);if(n){const f=a[t]=yu(n,l);Mt(e,c,f,r)}else i&&(pu(e,c,i,r),a[t]=void 0)}}const Ol=/(?:Once|Passive|Capture)$/;function vu(e){let t;if(Ol.test(e)){t={};let n;for(;n=e.match(Ol);)e=e.slice(0,e.length-n[0].length),t[n[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):Yt(e.slice(2)),t]}let so=0;const mu=Promise.resolve(),gu=()=>so||(mu.then(()=>so=0),so=Date.now());function yu(e,t){const s=n=>{if(!n._vts)n._vts=Date.now();else if(n._vts<=s.attached)return;kt(_u(n,s.value),t,5,[n])};return s.value=e,s.attached=gu(),s}function _u(e,t){if(ce(t)){const s=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{s.call(e),e._stopped=!0},t.map(n=>l=>!l._stopped&&n&&n(l))}else return t}const Tl=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,bu=(e,t,s,n,l,a)=>{const i=l==="svg";t==="class"?iu(e,n,i):t==="style"?du(e,s,n):In(t)?Po(t)||hu(e,t,s,n,a):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):wu(e,t,n,i))?(Pl(e,t,n),!e.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&Ml(e,t,n,i,a,t!=="value")):e._isVueCE&&(/[A-Z]/.test(t)||!Ne(n))?Pl(e,Kt(t),n,a,t):(t==="true-value"?e._trueValue=n:t==="false-value"&&(e._falseValue=n),Ml(e,t,n,i))};function wu(e,t,s,n){if(n)return!!(t==="innerHTML"||t==="textContent"||t in e&&Tl(t)&&de(s));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="autocorrect"||t==="sandbox"&&e.tagName==="IFRAME"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const l=e.tagName;if(l==="IMG"||l==="VIDEO"||l==="CANVAS"||l==="SOURCE")return!1}return Tl(t)&&Ne(s)?!1:t in e}const Wt=e=>{const t=e.props["onUpdate:modelValue"]||!1;return ce(t)?s=>vn(t,s):t};function $u(e){e.target.composing=!0}function Nl(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const ct=Symbol("_assign");function Ll(e,t,s){return t&&(e=e.trim()),s&&(e=Tn(e)),e}const Ue={created(e,{modifiers:{lazy:t,trim:s,number:n}},l){e[ct]=Wt(l);const a=n||l.props&&l.props.type==="number";Mt(e,t?"change":"input",i=>{i.target.composing||e[ct](Ll(e.value,s,a))}),(s||a)&&Mt(e,"change",()=>{e.value=Ll(e.value,s,a)}),t||(Mt(e,"compositionstart",$u),Mt(e,"compositionend",Nl),Mt(e,"change",Nl))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,oldValue:s,modifiers:{lazy:n,trim:l,number:a}},i){if(e[ct]=Wt(i),e.composing)return;const c=(a||e.type==="number")&&!/^0\d/.test(e.value)?Tn(e.value):e.value,r=t??"";c!==r&&(document.activeElement===e&&e.type!=="range"&&(n&&t===s||l&&e.value.trim()===r)||(e.value=r))}},js={deep:!0,created(e,t,s){e[ct]=Wt(s),Mt(e,"change",()=>{const n=e._modelValue,l=xs(e),a=e.checked,i=e[ct];if(ce(n)){const c=To(n,l),r=c!==-1;if(a&&!r)i(n.concat(l));else if(!a&&r){const f=[...n];f.splice(c,1),i(f)}}else if(Ms(n)){const c=new Set(n);a?c.add(l):c.delete(l),i(c)}else i(gi(e,a))})},mounted:Dl,beforeUpdate(e,t,s){e[ct]=Wt(s),Dl(e,t,s)}};function Dl(e,{value:t,oldValue:s},n){e._modelValue=t;let l;if(ce(t))l=To(t,n.props.value)>-1;else if(Ms(t))l=t.has(n.props.value);else{if(t===s)return;l=cs(t,gi(e,!0))}e.checked!==l&&(e.checked=l)}const Su={created(e,{value:t},s){e.checked=cs(t,s.props.value),e[ct]=Wt(s),Mt(e,"change",()=>{e[ct](xs(e))})},beforeUpdate(e,{value:t,oldValue:s},n){e[ct]=Wt(n),t!==s&&(e.checked=cs(t,n.props.value))}},os={deep:!0,created(e,{value:t,modifiers:{number:s}},n){const l=Ms(t);Mt(e,"change",()=>{const a=Array.prototype.filter.call(e.options,i=>i.selected).map(i=>s?Tn(xs(i)):xs(i));e[ct](e.multiple?l?new Set(a):a:a[0]),e._assigning=!0,Qs(()=>{e._assigning=!1})}),e[ct]=Wt(n)},mounted(e,{value:t}){Vl(e,t)},beforeUpdate(e,t,s){e[ct]=Wt(s)},updated(e,{value:t}){e._assigning||Vl(e,t)}};function Vl(e,t){const s=e.multiple,n=ce(t);if(!(s&&!n&&!Ms(t))){for(let l=0,a=e.options.length;l<a;l++){const i=e.options[l],c=xs(i);if(s)if(n){const r=typeof c;r==="string"||r==="number"?i.selected=t.some(f=>String(f)===String(c)):i.selected=To(t,c)>-1}else i.selected=t.has(c);else if(cs(xs(i),t)){e.selectedIndex!==l&&(e.selectedIndex=l);return}}!s&&e.selectedIndex!==-1&&(e.selectedIndex=-1)}}function xs(e){return"_value"in e?e._value:e.value}function gi(e,t){const s=t?"_trueValue":"_falseValue";return s in e?e[s]:t}const ku={created(e,t,s){fn(e,t,s,null,"created")},mounted(e,t,s){fn(e,t,s,null,"mounted")},beforeUpdate(e,t,s,n){fn(e,t,s,n,"beforeUpdate")},updated(e,t,s,n){fn(e,t,s,n,"updated")}};function Cu(e,t){switch(e){case"SELECT":return os;case"TEXTAREA":return Ue;default:switch(t){case"checkbox":return js;case"radio":return Su;default:return Ue}}}function fn(e,t,s,n,l){const i=Cu(e.tagName,s.props&&s.props.type)[l];i&&i(e,t,s,n)}const Au=["ctrl","shift","alt","meta"],xu={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>Au.some(s=>e[`${s}Key`]&&!t.includes(s))},zt=(e,t)=>{const s=e._withMods||(e._withMods={}),n=t.join(".");return s[n]||(s[n]=((l,...a)=>{for(let i=0;i<t.length;i++){const c=xu[t[i]];if(c&&c(l,t))return}return e(l,...a)}))},Eu={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},yi=(e,t)=>{const s=e._withKeys||(e._withKeys={}),n=t.join(".");return s[n]||(s[n]=(l=>{if(!("key"in l))return;const a=Yt(l.key);if(t.some(i=>i===a||Eu[i]===a))return e(l)}))},Ru=Ke({patchProp:bu},lu);let Fl;function Mu(){return Fl||(Fl=Vc(Ru))}const Pu=((...e)=>{const t=Mu().createApp(...e),{mount:s}=t;return t.mount=n=>{const l=Ou(n);if(!l)return;const a=t._component;!de(a)&&!a.render&&!a.template&&(a.template=l.innerHTML),l.nodeType===1&&(l.textContent="");const i=s(l,!1,Iu(l));return l instanceof Element&&(l.removeAttribute("v-cloak"),l.setAttribute("data-v-app","")),i},t});function Iu(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function Ou(e){return Ne(e)?document.querySelector(e):e}const Tu=Symbol();var Ul;(function(e){e.direct="direct",e.patchObject="patch object",e.patchFunction="patch function"})(Ul||(Ul={}));function Nu(){const e=Sr(!0),t=e.run(()=>O({}));let s=[],n=[];const l=Oa({install(a){l._a=a,a.provide(Tu,l),a.config.globalProperties.$pinia=l,n.forEach(i=>s.push(i)),n=[]},use(a){return this._a?s.push(a):n.push(a),this},_p:s,_a:null,_e:e,_s:new Map,state:t});return l}const vs=typeof document<"u";function _i(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function Lu(e){return e.__esModule||e[Symbol.toStringTag]==="Module"||e.default&&_i(e.default)}const _e=Object.assign;function no(e,t){const s={};for(const n in t){const l=t[n];s[n]=gt(l)?l.map(e):e(l)}return s}const Ws=()=>{},gt=Array.isArray;function jl(e,t){const s={};for(const n in e)s[n]=n in t?t[n]:e[n];return s}const bi=/#/g,Du=/&/g,Vu=/\//g,Fu=/=/g,Uu=/\?/g,wi=/\+/g,ju=/%5B/g,Bu=/%5D/g,$i=/%5E/g,Hu=/%60/g,Si=/%7B/g,Gu=/%7C/g,ki=/%7D/g,qu=/%20/g;function Jo(e){return e==null?"":encodeURI(""+e).replace(Gu,"|").replace(ju,"[").replace(Bu,"]")}function Ku(e){return Jo(e).replace(Si,"{").replace(ki,"}").replace($i,"^")}function $o(e){return Jo(e).replace(wi,"%2B").replace(qu,"+").replace(bi,"%23").replace(Du,"%26").replace(Hu,"`").replace(Si,"{").replace(ki,"}").replace($i,"^")}function Ju(e){return $o(e).replace(Fu,"%3D")}function Wu(e){return Jo(e).replace(bi,"%23").replace(Uu,"%3F")}function zu(e){return Wu(e).replace(Vu,"%2F")}function sn(e){if(e==null)return null;try{return decodeURIComponent(""+e)}catch{}return""+e}const Yu=/\/$/,Qu=e=>e.replace(Yu,"");function oo(e,t,s="/"){let n,l={},a="",i="";const c=t.indexOf("#");let r=t.indexOf("?");return r=c>=0&&r>c?-1:r,r>=0&&(n=t.slice(0,r),a=t.slice(r,c>0?c:t.length),l=e(a.slice(1))),c>=0&&(n=n||t.slice(0,c),i=t.slice(c,t.length)),n=td(n??t,s),{fullPath:n+a+i,path:n,query:l,hash:sn(i)}}function Xu(e,t){const s=t.query?e(t.query):"";return t.path+(s&&"?")+s+(t.hash||"")}function Bl(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function Zu(e,t,s){const n=t.matched.length-1,l=s.matched.length-1;return n>-1&&n===l&&Es(t.matched[n],s.matched[l])&&Ci(t.params,s.params)&&e(t.query)===e(s.query)&&t.hash===s.hash}function Es(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function Ci(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(var s in e)if(!ed(e[s],t[s]))return!1;return!0}function ed(e,t){return gt(e)?Hl(e,t):gt(t)?Hl(t,e):e?.valueOf()===t?.valueOf()}function Hl(e,t){return gt(t)?e.length===t.length&&e.every((s,n)=>s===t[n]):e.length===1&&e[0]===t}function td(e,t){if(e.startsWith("/"))return e;if(!e)return t;const s=t.split("/"),n=e.split("/"),l=n[n.length-1];(l===".."||l===".")&&n.push("");let a=s.length-1,i,c;for(i=0;i<n.length;i++)if(c=n[i],c!==".")if(c==="..")a>1&&a--;else break;return s.slice(0,a).join("/")+"/"+n.slice(i).join("/")}const Vt={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};let So=(function(e){return e.pop="pop",e.push="push",e})({}),lo=(function(e){return e.back="back",e.forward="forward",e.unknown="",e})({});function sd(e){if(!e)if(vs){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),Qu(e)}const nd=/^[^#]+#/;function od(e,t){return e.replace(nd,"#")+t}function ld(e,t){const s=document.documentElement.getBoundingClientRect(),n=e.getBoundingClientRect();return{behavior:t.behavior,left:n.left-s.left-(t.left||0),top:n.top-s.top-(t.top||0)}}const Hn=()=>({left:window.scrollX,top:window.scrollY});function ad(e){let t;if("el"in e){const s=e.el,n=typeof s=="string"&&s.startsWith("#"),l=typeof s=="string"?n?document.getElementById(s.slice(1)):document.querySelector(s):s;if(!l)return;t=ld(l,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.scrollX,t.top!=null?t.top:window.scrollY)}function Gl(e,t){return(history.state?history.state.position-t:-1)+e}const ko=new Map;function id(e,t){ko.set(e,t)}function rd(e){const t=ko.get(e);return ko.delete(e),t}function cd(e){return typeof e=="string"||e&&typeof e=="object"}function Ai(e){return typeof e=="string"||typeof e=="symbol"}let Oe=(function(e){return e[e.MATCHER_NOT_FOUND=1]="MATCHER_NOT_FOUND",e[e.NAVIGATION_GUARD_REDIRECT=2]="NAVIGATION_GUARD_REDIRECT",e[e.NAVIGATION_ABORTED=4]="NAVIGATION_ABORTED",e[e.NAVIGATION_CANCELLED=8]="NAVIGATION_CANCELLED",e[e.NAVIGATION_DUPLICATED=16]="NAVIGATION_DUPLICATED",e})({});const xi=Symbol("");Oe.MATCHER_NOT_FOUND+"",Oe.NAVIGATION_GUARD_REDIRECT+"",Oe.NAVIGATION_ABORTED+"",Oe.NAVIGATION_CANCELLED+"",Oe.NAVIGATION_DUPLICATED+"";function Rs(e,t){return _e(new Error,{type:e,[xi]:!0},t)}function At(e,t){return e instanceof Error&&xi in e&&(t==null||!!(e.type&t))}const ud=["params","query","hash"];function dd(e){if(typeof e=="string")return e;if(e.path!=null)return e.path;const t={};for(const s of ud)s in e&&(t[s]=e[s]);return JSON.stringify(t,null,2)}function fd(e){const t={};if(e===""||e==="?")return t;const s=(e[0]==="?"?e.slice(1):e).split("&");for(let n=0;n<s.length;++n){const l=s[n].replace(wi," "),a=l.indexOf("="),i=sn(a<0?l:l.slice(0,a)),c=a<0?null:sn(l.slice(a+1));if(i in t){let r=t[i];gt(r)||(r=t[i]=[r]),r.push(c)}else t[i]=c}return t}function ql(e){let t="";for(let s in e){const n=e[s];if(s=Ju(s),n==null){n!==void 0&&(t+=(t.length?"&":"")+s);continue}(gt(n)?n.map(l=>l&&$o(l)):[n&&$o(n)]).forEach(l=>{l!==void 0&&(t+=(t.length?"&":"")+s,l!=null&&(t+="="+l))})}return t}function pd(e){const t={};for(const s in e){const n=e[s];n!==void 0&&(t[s]=gt(n)?n.map(l=>l==null?null:""+l):n==null?n:""+n)}return t}const hd=Symbol(""),Kl=Symbol(""),Gn=Symbol(""),Wo=Symbol(""),Co=Symbol("");function Vs(){let e=[];function t(n){return e.push(n),()=>{const l=e.indexOf(n);l>-1&&e.splice(l,1)}}function s(){e=[]}return{add:t,list:()=>e.slice(),reset:s}}function Ht(e,t,s,n,l,a=i=>i()){const i=n&&(n.enterCallbacks[l]=n.enterCallbacks[l]||[]);return()=>new Promise((c,r)=>{const f=h=>{h===!1?r(Rs(Oe.NAVIGATION_ABORTED,{from:s,to:t})):h instanceof Error?r(h):cd(h)?r(Rs(Oe.NAVIGATION_GUARD_REDIRECT,{from:t,to:h})):(i&&n.enterCallbacks[l]===i&&typeof h=="function"&&i.push(h),c())},u=a(()=>e.call(n&&n.instances[l],t,s,f));let d=Promise.resolve(u);e.length<3&&(d=d.then(f)),d.catch(h=>r(h))})}function ao(e,t,s,n,l=a=>a()){const a=[];for(const i of e)for(const c in i.components){let r=i.components[c];if(!(t!=="beforeRouteEnter"&&!i.instances[c]))if(_i(r)){const f=(r.__vccOpts||r)[t];f&&a.push(Ht(f,s,n,i,c,l))}else{let f=r();a.push(()=>f.then(u=>{if(!u)throw new Error(`Couldn't resolve component "${c}" at "${i.path}"`);const d=Lu(u)?u.default:u;i.mods[c]=u,i.components[c]=d;const h=(d.__vccOpts||d)[t];return h&&Ht(h,s,n,i,c,l)()}))}}return a}function vd(e,t){const s=[],n=[],l=[],a=Math.max(t.matched.length,e.matched.length);for(let i=0;i<a;i++){const c=t.matched[i];c&&(e.matched.find(f=>Es(f,c))?n.push(c):s.push(c));const r=e.matched[i];r&&(t.matched.find(f=>Es(f,r))||l.push(r))}return[s,n,l]}let md=()=>location.protocol+"//"+location.host;function Ei(e,t){const{pathname:s,search:n,hash:l}=t,a=e.indexOf("#");if(a>-1){let i=l.includes(e.slice(a))?e.slice(a).length:1,c=l.slice(i);return c[0]!=="/"&&(c="/"+c),Bl(c,"")}return Bl(s,e)+n+l}function gd(e,t,s,n){let l=[],a=[],i=null;const c=({state:h})=>{const v=Ei(e,location),_=s.value,k=t.value;let j=0;if(h){if(s.value=v,t.value=h,i&&i===_){i=null;return}j=k?h.position-k.position:0}else n(v);l.forEach(E=>{E(s.value,_,{delta:j,type:So.pop,direction:j?j>0?lo.forward:lo.back:lo.unknown})})};function r(){i=s.value}function f(h){l.push(h);const v=()=>{const _=l.indexOf(h);_>-1&&l.splice(_,1)};return a.push(v),v}function u(){if(document.visibilityState==="hidden"){const{history:h}=window;if(!h.state)return;h.replaceState(_e({},h.state,{scroll:Hn()}),"")}}function d(){for(const h of a)h();a=[],window.removeEventListener("popstate",c),window.removeEventListener("pagehide",u),document.removeEventListener("visibilitychange",u)}return window.addEventListener("popstate",c),window.addEventListener("pagehide",u),document.addEventListener("visibilitychange",u),{pauseListeners:r,listen:f,destroy:d}}function Jl(e,t,s,n=!1,l=!1){return{back:e,current:t,forward:s,replaced:n,position:window.history.length,scroll:l?Hn():null}}function yd(e){const{history:t,location:s}=window,n={value:Ei(e,s)},l={value:t.state};l.value||a(n.value,{back:null,current:n.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function a(r,f,u){const d=e.indexOf("#"),h=d>-1?(s.host&&document.querySelector("base")?e:e.slice(d))+r:md()+e+r;try{t[u?"replaceState":"pushState"](f,"",h),l.value=f}catch(v){console.error(v),s[u?"replace":"assign"](h)}}function i(r,f){a(r,_e({},t.state,Jl(l.value.back,r,l.value.forward,!0),f,{position:l.value.position}),!0),n.value=r}function c(r,f){const u=_e({},l.value,t.state,{forward:r,scroll:Hn()});a(u.current,u,!0),a(r,_e({},Jl(n.value,r,null),{position:u.position+1},f),!1),n.value=r}return{location:n,state:l,push:c,replace:i}}function _d(e){e=sd(e);const t=yd(e),s=gd(e,t.state,t.location,t.replace);function n(a,i=!0){i||s.pauseListeners(),history.go(a)}const l=_e({location:"",base:e,go:n,createHref:od.bind(null,e)},t,s);return Object.defineProperty(l,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(l,"state",{enumerable:!0,get:()=>t.state.value}),l}function bd(e){return e=location.host?e||location.pathname+location.search:"",e.includes("#")||(e+="#"),_d(e)}let ls=(function(e){return e[e.Static=0]="Static",e[e.Param=1]="Param",e[e.Group=2]="Group",e})({});var Ve=(function(e){return e[e.Static=0]="Static",e[e.Param=1]="Param",e[e.ParamRegExp=2]="ParamRegExp",e[e.ParamRegExpEnd=3]="ParamRegExpEnd",e[e.EscapeNext=4]="EscapeNext",e})(Ve||{});const wd={type:ls.Static,value:""},$d=/[a-zA-Z0-9_]/;function Sd(e){if(!e)return[[]];if(e==="/")return[[wd]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(v){throw new Error(`ERR (${s})/"${f}": ${v}`)}let s=Ve.Static,n=s;const l=[];let a;function i(){a&&l.push(a),a=[]}let c=0,r,f="",u="";function d(){f&&(s===Ve.Static?a.push({type:ls.Static,value:f}):s===Ve.Param||s===Ve.ParamRegExp||s===Ve.ParamRegExpEnd?(a.length>1&&(r==="*"||r==="+")&&t(`A repeatable param (${f}) must be alone in its segment. eg: '/:ids+.`),a.push({type:ls.Param,value:f,regexp:u,repeatable:r==="*"||r==="+",optional:r==="*"||r==="?"})):t("Invalid state to consume buffer"),f="")}function h(){f+=r}for(;c<e.length;){if(r=e[c++],r==="\\"&&s!==Ve.ParamRegExp){n=s,s=Ve.EscapeNext;continue}switch(s){case Ve.Static:r==="/"?(f&&d(),i()):r===":"?(d(),s=Ve.Param):h();break;case Ve.EscapeNext:h(),s=n;break;case Ve.Param:r==="("?s=Ve.ParamRegExp:$d.test(r)?h():(d(),s=Ve.Static,r!=="*"&&r!=="?"&&r!=="+"&&c--);break;case Ve.ParamRegExp:r===")"?u[u.length-1]=="\\"?u=u.slice(0,-1)+r:s=Ve.ParamRegExpEnd:u+=r;break;case Ve.ParamRegExpEnd:d(),s=Ve.Static,r!=="*"&&r!=="?"&&r!=="+"&&c--,u="";break;default:t("Unknown state");break}}return s===Ve.ParamRegExp&&t(`Unfinished custom RegExp for param "${f}"`),d(),i(),l}const Wl="[^/]+?",kd={sensitive:!1,strict:!1,start:!0,end:!0};var Ye=(function(e){return e[e._multiplier=10]="_multiplier",e[e.Root=90]="Root",e[e.Segment=40]="Segment",e[e.SubSegment=30]="SubSegment",e[e.Static=40]="Static",e[e.Dynamic=20]="Dynamic",e[e.BonusCustomRegExp=10]="BonusCustomRegExp",e[e.BonusWildcard=-50]="BonusWildcard",e[e.BonusRepeatable=-20]="BonusRepeatable",e[e.BonusOptional=-8]="BonusOptional",e[e.BonusStrict=.7000000000000001]="BonusStrict",e[e.BonusCaseSensitive=.25]="BonusCaseSensitive",e})(Ye||{});const Cd=/[.+*?^${}()[\]/\\]/g;function Ad(e,t){const s=_e({},kd,t),n=[];let l=s.start?"^":"";const a=[];for(const f of e){const u=f.length?[]:[Ye.Root];s.strict&&!f.length&&(l+="/");for(let d=0;d<f.length;d++){const h=f[d];let v=Ye.Segment+(s.sensitive?Ye.BonusCaseSensitive:0);if(h.type===ls.Static)d||(l+="/"),l+=h.value.replace(Cd,"\\$&"),v+=Ye.Static;else if(h.type===ls.Param){const{value:_,repeatable:k,optional:j,regexp:E}=h;a.push({name:_,repeatable:k,optional:j});const C=E||Wl;if(C!==Wl){v+=Ye.BonusCustomRegExp;try{`${C}`}catch($){throw new Error(`Invalid custom RegExp for param "${_}" (${C}): `+$.message)}}let b=k?`((?:${C})(?:/(?:${C}))*)`:`(${C})`;d||(b=j&&f.length<2?`(?:/${b})`:"/"+b),j&&(b+="?"),l+=b,v+=Ye.Dynamic,j&&(v+=Ye.BonusOptional),k&&(v+=Ye.BonusRepeatable),C===".*"&&(v+=Ye.BonusWildcard)}u.push(v)}n.push(u)}if(s.strict&&s.end){const f=n.length-1;n[f][n[f].length-1]+=Ye.BonusStrict}s.strict||(l+="/?"),s.end?l+="$":s.strict&&!l.endsWith("/")&&(l+="(?:/|$)");const i=new RegExp(l,s.sensitive?"":"i");function c(f){const u=f.match(i),d={};if(!u)return null;for(let h=1;h<u.length;h++){const v=u[h]||"",_=a[h-1];d[_.name]=v&&_.repeatable?v.split("/"):v}return d}function r(f){let u="",d=!1;for(const h of e){(!d||!u.endsWith("/"))&&(u+="/"),d=!1;for(const v of h)if(v.type===ls.Static)u+=v.value;else if(v.type===ls.Param){const{value:_,repeatable:k,optional:j}=v,E=_ in f?f[_]:"";if(gt(E)&&!k)throw new Error(`Provided param "${_}" is an array but it is not repeatable (* or + modifiers)`);const C=gt(E)?E.join("/"):E;if(!C)if(j)h.length<2&&(u.endsWith("/")?u=u.slice(0,-1):d=!0);else throw new Error(`Missing required param "${_}"`);u+=C}}return u||"/"}return{re:i,score:n,keys:a,parse:c,stringify:r}}function xd(e,t){let s=0;for(;s<e.length&&s<t.length;){const n=t[s]-e[s];if(n)return n;s++}return e.length<t.length?e.length===1&&e[0]===Ye.Static+Ye.Segment?-1:1:e.length>t.length?t.length===1&&t[0]===Ye.Static+Ye.Segment?1:-1:0}function Ri(e,t){let s=0;const n=e.score,l=t.score;for(;s<n.length&&s<l.length;){const a=xd(n[s],l[s]);if(a)return a;s++}if(Math.abs(l.length-n.length)===1){if(zl(n))return 1;if(zl(l))return-1}return l.length-n.length}function zl(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const Ed={strict:!1,end:!0,sensitive:!1};function Rd(e,t,s){const n=Ad(Sd(e.path),s),l=_e(n,{record:e,parent:t,children:[],alias:[]});return t&&!l.record.aliasOf==!t.record.aliasOf&&t.children.push(l),l}function Md(e,t){const s=[],n=new Map;t=jl(Ed,t);function l(d){return n.get(d)}function a(d,h,v){const _=!v,k=Ql(d);k.aliasOf=v&&v.record;const j=jl(t,d),E=[k];if("alias"in d){const $=typeof d.alias=="string"?[d.alias]:d.alias;for(const M of $)E.push(Ql(_e({},k,{components:v?v.record.components:k.components,path:M,aliasOf:v?v.record:k})))}let C,b;for(const $ of E){const{path:M}=$;if(h&&M[0]!=="/"){const ae=h.record.path,U=ae[ae.length-1]==="/"?"":"/";$.path=h.record.path+(M&&U+M)}if(C=Rd($,h,j),v?v.alias.push(C):(b=b||C,b!==C&&b.alias.push(C),_&&d.name&&!Xl(C)&&i(d.name)),Mi(C)&&r(C),k.children){const ae=k.children;for(let U=0;U<ae.length;U++)a(ae[U],C,v&&v.children[U])}v=v||C}return b?()=>{i(b)}:Ws}function i(d){if(Ai(d)){const h=n.get(d);h&&(n.delete(d),s.splice(s.indexOf(h),1),h.children.forEach(i),h.alias.forEach(i))}else{const h=s.indexOf(d);h>-1&&(s.splice(h,1),d.record.name&&n.delete(d.record.name),d.children.forEach(i),d.alias.forEach(i))}}function c(){return s}function r(d){const h=Od(d,s);s.splice(h,0,d),d.record.name&&!Xl(d)&&n.set(d.record.name,d)}function f(d,h){let v,_={},k,j;if("name"in d&&d.name){if(v=n.get(d.name),!v)throw Rs(Oe.MATCHER_NOT_FOUND,{location:d});j=v.record.name,_=_e(Yl(h.params,v.keys.filter(b=>!b.optional).concat(v.parent?v.parent.keys.filter(b=>b.optional):[]).map(b=>b.name)),d.params&&Yl(d.params,v.keys.map(b=>b.name))),k=v.stringify(_)}else if(d.path!=null)k=d.path,v=s.find(b=>b.re.test(k)),v&&(_=v.parse(k),j=v.record.name);else{if(v=h.name?n.get(h.name):s.find(b=>b.re.test(h.path)),!v)throw Rs(Oe.MATCHER_NOT_FOUND,{location:d,currentLocation:h});j=v.record.name,_=_e({},h.params,d.params),k=v.stringify(_)}const E=[];let C=v;for(;C;)E.unshift(C.record),C=C.parent;return{name:j,path:k,params:_,matched:E,meta:Id(E)}}e.forEach(d=>a(d));function u(){s.length=0,n.clear()}return{addRoute:a,resolve:f,removeRoute:i,clearRoutes:u,getRoutes:c,getRecordMatcher:l}}function Yl(e,t){const s={};for(const n of t)n in e&&(s[n]=e[n]);return s}function Ql(e){const t={path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:e.aliasOf,beforeEnter:e.beforeEnter,props:Pd(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}};return Object.defineProperty(t,"mods",{value:{}}),t}function Pd(e){const t={},s=e.props||!1;if("component"in e)t.default=s;else for(const n in e.components)t[n]=typeof s=="object"?s[n]:s;return t}function Xl(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function Id(e){return e.reduce((t,s)=>_e(t,s.meta),{})}function Od(e,t){let s=0,n=t.length;for(;s!==n;){const a=s+n>>1;Ri(e,t[a])<0?n=a:s=a+1}const l=Td(e);return l&&(n=t.lastIndexOf(l,n-1)),n}function Td(e){let t=e;for(;t=t.parent;)if(Mi(t)&&Ri(e,t)===0)return t}function Mi({record:e}){return!!(e.name||e.components&&Object.keys(e.components).length||e.redirect)}function Zl(e){const t=ht(Gn),s=ht(Wo),n=J(()=>{const r=$e(e.to);return t.resolve(r)}),l=J(()=>{const{matched:r}=n.value,{length:f}=r,u=r[f-1],d=s.matched;if(!u||!d.length)return-1;const h=d.findIndex(Es.bind(null,u));if(h>-1)return h;const v=ea(r[f-2]);return f>1&&ea(u)===v&&d[d.length-1].path!==v?d.findIndex(Es.bind(null,r[f-2])):h}),a=J(()=>l.value>-1&&Vd(s.params,n.value.params)),i=J(()=>l.value>-1&&l.value===s.matched.length-1&&Ci(s.params,n.value.params));function c(r={}){if(Dd(r)){const f=t[$e(e.replace)?"replace":"push"]($e(e.to)).catch(Ws);return e.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>f),f}return Promise.resolve()}return{route:n,href:J(()=>n.value.href),isActive:a,isExactActive:i,navigate:c}}function Nd(e){return e.length===1?e[0]:e}const Ld=Je({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"},viewTransition:Boolean},useLink:Zl,setup(e,{slots:t}){const s=Jt(Zl(e)),{options:n}=ht(Gn),l=J(()=>({[ta(e.activeClass,n.linkActiveClass,"router-link-active")]:s.isActive,[ta(e.exactActiveClass,n.linkExactActiveClass,"router-link-exact-active")]:s.isExactActive}));return()=>{const a=t.default&&Nd(t.default(s));return e.custom?a:vi("a",{"aria-current":s.isExactActive?e.ariaCurrentValue:null,href:s.href,onClick:s.navigate,class:l.value},a)}}}),Qe=Ld;function Dd(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function Vd(e,t){for(const s in t){const n=t[s],l=e[s];if(typeof n=="string"){if(n!==l)return!1}else if(!gt(l)||l.length!==n.length||n.some((a,i)=>a.valueOf()!==l[i].valueOf()))return!1}return!0}function ea(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const ta=(e,t,s)=>e??t??s,Fd=Je({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:s}){const n=ht(Co),l=J(()=>e.route||n.value),a=ht(Kl,0),i=J(()=>{let f=$e(a);const{matched:u}=l.value;let d;for(;(d=u[f])&&!d.components;)f++;return f}),c=J(()=>l.value.matched[i.value]);mn(Kl,J(()=>i.value+1)),mn(hd,c),mn(Co,l);const r=O();return St(()=>[r.value,c.value,e.name],([f,u,d],[h,v,_])=>{u&&(u.instances[d]=f,v&&v!==u&&f&&f===h&&(u.leaveGuards.size||(u.leaveGuards=v.leaveGuards),u.updateGuards.size||(u.updateGuards=v.updateGuards))),f&&u&&(!v||!Es(u,v)||!h)&&(u.enterCallbacks[d]||[]).forEach(k=>k(f))},{flush:"post"}),()=>{const f=l.value,u=e.name,d=c.value,h=d&&d.components[u];if(!h)return sa(s.default,{Component:h,route:f});const v=d.props[u],_=v?v===!0?f.params:typeof v=="function"?v(f):v:null,j=vi(h,_e({},_,t,{onVnodeUnmounted:E=>{E.component.isUnmounted&&(d.instances[u]=null)},ref:r}));return sa(s.default,{Component:j,route:f})||j}}});function sa(e,t){if(!e)return null;const s=e(t);return s.length===1?s[0]:s}const Pi=Fd;function Ud(e){const t=Md(e.routes,e),s=e.parseQuery||fd,n=e.stringifyQuery||ql,l=e.history,a=Vs(),i=Vs(),c=Vs(),r=Hr(Vt);let f=Vt;vs&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const u=no.bind(null,A=>""+A),d=no.bind(null,zu),h=no.bind(null,sn);function v(A,ee){let Y,te;return Ai(A)?(Y=t.getRecordMatcher(A),te=ee):te=A,t.addRoute(te,Y)}function _(A){const ee=t.getRecordMatcher(A);ee&&t.removeRoute(ee)}function k(){return t.getRoutes().map(A=>A.record)}function j(A){return!!t.getRecordMatcher(A)}function E(A,ee){if(ee=_e({},ee||r.value),typeof A=="string"){const y=oo(s,A,ee.path),R=t.resolve({path:y.path},ee),N=l.createHref(y.fullPath);return _e(y,R,{params:h(R.params),hash:sn(y.hash),redirectedFrom:void 0,href:N})}let Y;if(A.path!=null)Y=_e({},A,{path:oo(s,A.path,ee.path).path});else{const y=_e({},A.params);for(const R in y)y[R]==null&&delete y[R];Y=_e({},A,{params:d(y)}),ee.params=d(ee.params)}const te=t.resolve(Y,ee),fe=A.hash||"";te.params=u(h(te.params));const p=Xu(n,_e({},A,{hash:Ku(fe),path:te.path})),m=l.createHref(p);return _e({fullPath:p,hash:fe,query:n===ql?pd(A.query):A.query||{}},te,{redirectedFrom:void 0,href:m})}function C(A){return typeof A=="string"?oo(s,A,r.value.path):_e({},A)}function b(A,ee){if(f!==A)return Rs(Oe.NAVIGATION_CANCELLED,{from:ee,to:A})}function $(A){return U(A)}function M(A){return $(_e(C(A),{replace:!0}))}function ae(A,ee){const Y=A.matched[A.matched.length-1];if(Y&&Y.redirect){const{redirect:te}=Y;let fe=typeof te=="function"?te(A,ee):te;return typeof fe=="string"&&(fe=fe.includes("?")||fe.includes("#")?fe=C(fe):{path:fe},fe.params={}),_e({query:A.query,hash:A.hash,params:fe.path!=null?{}:A.params},fe)}}function U(A,ee){const Y=f=E(A),te=r.value,fe=A.state,p=A.force,m=A.replace===!0,y=ae(Y,te);if(y)return U(_e(C(y),{state:typeof y=="object"?_e({},fe,y.state):fe,force:p,replace:m}),ee||Y);const R=Y;R.redirectedFrom=ee;let N;return!p&&Zu(n,te,Y)&&(N=Rs(Oe.NAVIGATION_DUPLICATED,{to:R,from:te}),Le(te,te,!0,!1)),(N?Promise.resolve(N):X(R,te)).catch(P=>At(P)?At(P,Oe.NAVIGATION_GUARD_REDIRECT)?P:he(P):Z(P,R,te)).then(P=>{if(P){if(At(P,Oe.NAVIGATION_GUARD_REDIRECT))return U(_e({replace:m},C(P.to),{state:typeof P.to=="object"?_e({},fe,P.to.state):fe,force:p}),ee||R)}else P=K(R,te,!0,m,fe);return W(R,te,P),P})}function B(A,ee){const Y=b(A,ee);return Y?Promise.reject(Y):Promise.resolve()}function ne(A){const ee=ft.values().next().value;return ee&&typeof ee.runWithContext=="function"?ee.runWithContext(A):A()}function X(A,ee){let Y;const[te,fe,p]=vd(A,ee);Y=ao(te.reverse(),"beforeRouteLeave",A,ee);for(const y of te)y.leaveGuards.forEach(R=>{Y.push(Ht(R,A,ee))});const m=B.bind(null,A,ee);return Y.push(m),De(Y).then(()=>{Y=[];for(const y of a.list())Y.push(Ht(y,A,ee));return Y.push(m),De(Y)}).then(()=>{Y=ao(fe,"beforeRouteUpdate",A,ee);for(const y of fe)y.updateGuards.forEach(R=>{Y.push(Ht(R,A,ee))});return Y.push(m),De(Y)}).then(()=>{Y=[];for(const y of p)if(y.beforeEnter)if(gt(y.beforeEnter))for(const R of y.beforeEnter)Y.push(Ht(R,A,ee));else Y.push(Ht(y.beforeEnter,A,ee));return Y.push(m),De(Y)}).then(()=>(A.matched.forEach(y=>y.enterCallbacks={}),Y=ao(p,"beforeRouteEnter",A,ee,ne),Y.push(m),De(Y))).then(()=>{Y=[];for(const y of i.list())Y.push(Ht(y,A,ee));return Y.push(m),De(Y)}).catch(y=>At(y,Oe.NAVIGATION_CANCELLED)?y:Promise.reject(y))}function W(A,ee,Y){c.list().forEach(te=>ne(()=>te(A,ee,Y)))}function K(A,ee,Y,te,fe){const p=b(A,ee);if(p)return p;const m=ee===Vt,y=vs?history.state:{};Y&&(te||m?l.replace(A.fullPath,_e({scroll:m&&y&&y.scroll},fe)):l.push(A.fullPath,fe)),r.value=A,Le(A,ee,Y,m),he()}let ue;function Fe(){ue||(ue=l.listen((A,ee,Y)=>{if(!ot.listening)return;const te=E(A),fe=ae(te,ot.currentRoute.value);if(fe){U(_e(fe,{replace:!0,force:!0}),te).catch(Ws);return}f=te;const p=r.value;vs&&id(Gl(p.fullPath,Y.delta),Hn()),X(te,p).catch(m=>At(m,Oe.NAVIGATION_ABORTED|Oe.NAVIGATION_CANCELLED)?m:At(m,Oe.NAVIGATION_GUARD_REDIRECT)?(U(_e(C(m.to),{force:!0}),te).then(y=>{At(y,Oe.NAVIGATION_ABORTED|Oe.NAVIGATION_DUPLICATED)&&!Y.delta&&Y.type===So.pop&&l.go(-1,!1)}).catch(Ws),Promise.reject()):(Y.delta&&l.go(-Y.delta,!1),Z(m,te,p))).then(m=>{m=m||K(te,p,!1),m&&(Y.delta&&!At(m,Oe.NAVIGATION_CANCELLED)?l.go(-Y.delta,!1):Y.type===So.pop&&At(m,Oe.NAVIGATION_ABORTED|Oe.NAVIGATION_DUPLICATED)&&l.go(-1,!1)),W(te,p,m)}).catch(Ws)}))}let Me=Vs(),ye=Vs(),F;function Z(A,ee,Y){he(A);const te=ye.list();return te.length?te.forEach(fe=>fe(A,ee,Y)):console.error(A),Promise.reject(A)}function me(){return F&&r.value!==Vt?Promise.resolve():new Promise((A,ee)=>{Me.add([A,ee])})}function he(A){return F||(F=!A,Fe(),Me.list().forEach(([ee,Y])=>A?Y(A):ee()),Me.reset()),A}function Le(A,ee,Y,te){const{scrollBehavior:fe}=e;if(!vs||!fe)return Promise.resolve();const p=!Y&&rd(Gl(A.fullPath,0))||(te||!Y)&&history.state&&history.state.scroll||null;return Qs().then(()=>fe(A,ee,p)).then(m=>m&&ad(m)).catch(m=>Z(m,A,ee))}const Re=A=>l.go(A);let et;const ft=new Set,ot={currentRoute:r,listening:!0,addRoute:v,removeRoute:_,clearRoutes:t.clearRoutes,hasRoute:j,getRoutes:k,resolve:E,options:e,push:$,replace:M,go:Re,back:()=>Re(-1),forward:()=>Re(1),beforeEach:a.add,beforeResolve:i.add,afterEach:c.add,onError:ye.add,isReady:me,install(A){A.component("RouterLink",Qe),A.component("RouterView",Pi),A.config.globalProperties.$router=ot,Object.defineProperty(A.config.globalProperties,"$route",{enumerable:!0,get:()=>$e(r)}),vs&&!et&&r.value===Vt&&(et=!0,$(l.location).catch(te=>{}));const ee={};for(const te in Vt)Object.defineProperty(ee,te,{get:()=>r.value[te],enumerable:!0});A.provide(Gn,ot),A.provide(Wo,Ia(ee)),A.provide(Co,r);const Y=A.unmount;ft.add(A),A.unmount=function(){ft.delete(A),ft.size<1&&(f=Vt,ue&&ue(),ue=null,r.value=Vt,et=!1,F=!1),Y()}}};function De(A){return A.reduce((ee,Y)=>ee.then(()=>ne(Y)),Promise.resolve())}return ot}function ds(){return ht(Gn)}function Ii(e){return ht(Wo)}const jd=Je({__name:"App",setup(e){return(t,s)=>(w(),dt($e(Pi)))}}),Bd=""+new URL("brand-icon-CThbv9w8.png",import.meta.url).href,Hd="/api",Ao="warchess.session.token",ut=()=>typeof window>"u"||typeof localStorage>"u"?null:localStorage.getItem(Ao),zo=e=>{if(!(typeof window>"u"||typeof localStorage>"u")){if(!e){localStorage.removeItem(Ao);return}localStorage.setItem(Ao,e)}},Ee=async(e,t={})=>{const s=new Headers(t.headers);s.has("Content-Type")||s.set("Content-Type","application/json");const n=ut();n&&s.set("Authorization",`Bearer ${n}`);const l=await fetch(`${Hd}/${e}`,{...t,headers:s}),a=await l.text(),i=a?JSON.parse(a):{};if(!l.ok)throw new Error(i.message||"Erreur serveur.");return i},Oi="warchess.dashboard",pn={profile:{id:"player-01",name:"Katherine Murphy",title:"Capitaine d'arene",rating:2142,motto:"Chaque coup ecrit l'histoire.",location:"Paris, FR",lastSeen:"Aujourd'hui 09:42",email:"k.murphy@warchess.app",avatarUrl:""},games:[{id:"G-1042",opponent:"M. Zhou",result:"win",opening:"Defense sicilienne",date:"24 Jan",moves:38,accuracy:91},{id:"G-1041",opponent:"L. Martinez",result:"draw",opening:"Gambit dame",date:"23 Jan",moves:52,accuracy:87},{id:"G-1038",opponent:"H. Nordin",result:"loss",opening:"Caro-Kann",date:"21 Jan",moves:44,accuracy:82},{id:"G-1034",opponent:"I. Patel",result:"win",opening:"Ruy Lopez",date:"18 Jan",moves:33,accuracy:93}],goals:[{label:"Conversion en finale",progress:72},{label:"Vision tactique",progress:65},{label:"Preparation d'ouverture",progress:58}]};let as=null,bn=null;const Gd=()=>{if(typeof window>"u")return null;try{const e=window.localStorage.getItem(Oi);return e?JSON.parse(e):null}catch{return null}},na=e=>{if(!(typeof window>"u"))try{window.localStorage.setItem(Oi,JSON.stringify(e))}catch{}},xo=e=>e?{profile:{...pn.profile,...e.profile},games:e.games?.length?e.games:pn.games,goals:e.goals?.length?e.goals:pn.goals}:pn,qd=()=>{as=null,bn=null},an=async()=>{if(as)return as;const e=Gd(),t=xo(e),s=e?.profile?.avatarUrl??"";return ut()?(bn||(bn=Ee("dashboard-get").then(n=>{if(!n.ok)return t;const l=xo(n.dashboard);return s&&!l.profile.avatarUrl&&(l.profile.avatarUrl=s),l}).catch(()=>t).then(n=>(as=n,n))),bn):(as=t,t)},Kd=async e=>{if(as=e,na(e),!ut())return e;try{const t=await Ee("dashboard-save",{method:"POST",body:JSON.stringify({profile:e.profile})}),s=t.ok?xo(t.dashboard):e;return t.ok&&e.profile.avatarUrl&&!s.profile.avatarUrl&&(s.profile.avatarUrl=e.profile.avatarUrl),as=s,na(s),s}catch{return e}},hn=[{id:"M-1042",mode:"IA",opponent:"IA Atlas",status:"en_cours",createdAt:"09 Jan 19:10",lastMove:"Cg1-f3",timeControl:"10+0",side:"Blancs",difficulty:"intermediaire"},{id:"M-1038",mode:"Local",opponent:"L. Vernet",status:"planifie",createdAt:"09 Jan 21:00",lastMove:"-",timeControl:"5+0",side:"Noirs"},{id:"M-1029",mode:"IA",opponent:"IA Nova",status:"termine",createdAt:"07 Jan 18:35",lastMove:"Dd1-e2",timeControl:"15+10",side:"Blancs",difficulty:"difficile"}];let Gt=null,wn=null;const us=()=>{Gt=null,wn=null},$s=async()=>Gt||(ut()?(wn||(wn=Ee("matches-get").then(e=>e.ok&&e.matches?.length?e.matches:hn).catch(()=>hn).then(e=>(Gt=e,e))),wn):(Gt=hn,hn)),Jd=async e=>{if(!ut()){const t=[...await $s(),e];return Gt=t,t}try{const t=await Ee("matches-add",{method:"POST",body:JSON.stringify({match:e})}),s=t.ok&&t.matches?.length?t.matches:[...await $s(),e];return Gt=s,s}catch{const t=[...await $s(),e];return Gt=t,t}},Wd=async e=>(await $s()).find(s=>s.id===e)??null,Yo=()=>{qd(),us()},zd=async()=>{try{ut()&&await Ee("auth-logout",{method:"POST"})}catch{}finally{zo(null),Yo()}},Yd=async()=>{if(!ut())return null;try{const e=await Ee("auth-session");return e.ok?e.user??null:null}catch{return null}},Qd=async(e,t,s)=>{if(!e||!t||!s)return{ok:!1,message:"Veuillez remplir tous les champs."};try{const n=await Ee("auth-register",{method:"POST",body:JSON.stringify({email:e.trim(),password:t,displayName:s.trim()})});return n.ok&&n.token&&(zo(n.token),Yo()),{ok:n.ok,message:n.message,user:n.user}}catch(n){return{ok:!1,message:n.message}}},Xd=async(e,t)=>{if(!e||!t)return{ok:!1,message:"Veuillez remplir tous les champs."};try{const s=await Ee("auth-login",{method:"POST",body:JSON.stringify({email:e.trim(),password:t})});return s.ok&&s.token&&(zo(s.token),Yo()),{ok:s.ok,message:s.message,user:s.user}}catch(s){return{ok:!1,message:s.message}}},Zd=e=>e.trim().toLowerCase()?{ok:!0,message:"Si un compte existe, un lien de reinitialisation a ete envoye."}:{ok:!1,message:"Veuillez saisir un email."},ef=async(e,t)=>{if(!e||!t)return{ok:!1,message:"Veuillez remplir tous les champs."};try{const s=await Ee("auth-password",{method:"POST",body:JSON.stringify({currentPassword:e,nextPassword:t})});return{ok:s.ok,message:s.message}}catch(s){return{ok:!1,message:s.message}}},tf=async e=>{const t=await Ee(`users-search?q=${encodeURIComponent(e)}`);return t.ok?t.users??[]:[]},sf=async e=>{const t=await Ee(`users-profile?id=${encodeURIComponent(e)}`);return!t.ok||!t.profile?null:{...t.profile,friendStatus:t.friendStatus??"none"}},nf=async e=>{const t=await Ee(`users-badges?id=${encodeURIComponent(e)}`);return t.ok?t.badges??[]:[]},of=async e=>Ee("friends-request",{method:"POST",body:JSON.stringify({userId:e})}),Pn=async(e,t)=>Ee("friends-respond",{method:"POST",body:JSON.stringify({userId:e,action:t})}),Ti=async e=>Ee("friends-cancel",{method:"POST",body:JSON.stringify({userId:e})}),Ni=async e=>Ee("friends-remove",{method:"POST",body:JSON.stringify({userId:e})}),lf="/api",Li=async()=>{const e=await Ee("notifications-get");return{friendRequests:(e.friendRequests??[]).map(t=>({...t,isNew:t.isNew??!1})),matchInvites:(e.matchInvites??[]).map(t=>({...t,isNew:t.isNew??!1})),matchReady:(e.matchReady??[]).map(t=>({...t,isNew:t.isNew??!1}))}},Qo=async(e,t="10+0",s="Aleatoire")=>Ee("match-invite-create",{method:"POST",body:JSON.stringify({userId:e,timeControl:t,requesterSide:s})}),Di=async(e,t)=>Ee("match-invite-respond",{method:"POST",body:JSON.stringify({inviteId:e,action:t})}),$n=async(e="all")=>Ee("notifications-read",{method:"POST",body:JSON.stringify({type:e})}),af=(e,t,s)=>{const n=new EventSource(`${lf}/notifications-stream?token=${encodeURIComponent(e)}`);return n.addEventListener("notifications",l=>{try{const a=JSON.parse(l.data);t({friendRequests:(a.friendRequests??[]).map(i=>({...i,isNew:i.isNew??!1})),matchInvites:(a.matchInvites??[]).map(i=>({...i,isNew:i.isNew??!1})),matchReady:(a.matchReady??[]).map(i=>({...i,isNew:i.isNew??!1}))})}catch{}}),s&&n.addEventListener("error",s),n},rf={class:"app-shell"},cf={class:"toast-stack","aria-live":"polite","aria-atomic":"true"},uf={key:0,class:"toast-card"},df={class:"toast-main"},ff={class:"toast-sub"},pf={class:"toast-timer"},hf={class:"sidebar reveal"},vf={class:"brand"},mf={class:"brand-mark"},gf=["src"],yf={class:"nav-group"},_f={class:"nav-group"},bf={class:"nav-group"},wf={class:"nav-group"},$f={class:"main"},Sf={class:"topbar"},kf={class:"welcome"},Cf={class:"eyebrow"},Af={class:"headline"},xf={key:0,class:"subhead"},Ef={class:"top-actions"},Rf={class:"search"},Mf={key:0,class:"search-panel"},Pf={key:0,class:"search-status"},If=["onMousedown"],Of={class:"search-avatar"},Tf={class:"search-main"},Nf={class:"search-name"},Lf={class:"search-sub"},Df={class:"search-meta"},Vf={key:1,class:"search-status"},Ff={class:"top-buttons"},Uf={key:0,class:"notify-badge"},jf={key:1,class:"notify-dot"},Bf={key:0,class:"notify-panel"},Hf={key:0,class:"notify-status"},Gf={key:1,class:"notify-status notify-status--error"},qf={class:"notify-avatar"},Kf={class:"notify-main"},Jf={class:"notify-name"},Wf={class:"notify-sub"},zf={class:"notify-actions"},Yf=["onClick"],Qf=["onClick"],Xf={key:2,class:"notify-status"},Zf={key:0,class:"notify-badge"},ep={key:1,class:"notify-dot"},tp={key:0,class:"notify-panel"},sp={key:0,class:"notify-status"},np={key:1,class:"notify-status notify-status--error"},op={class:"notify-avatar"},lp={class:"notify-main"},ap={class:"notify-name"},ip={class:"notify-actions"},rp=["onClick"],cp=["onClick"],up={key:2,class:"notify-status"},dp={class:"user-pill"},fp={class:"avatar"},pp=["src"],hp={key:1},vp={class:"user-name"},mp={class:"user-meta"},oa=2,gp=5,Qt=Je({__name:"DashboardLayout",props:{eyebrow:{default:"Bon retour"},title:{},subtitle:{default:""}},setup(e){const t=e,s=ds(),n=O(null),l=J(()=>n.value?.profile.name??"Invite"),a=J(()=>n.value?.profile.title??"Compte local"),i=J(()=>n.value?.profile.avatarUrl??""),c=J(()=>{const V=l.value.trim();return V&&V.split(" ").filter(Boolean).slice(0,2).map(ge=>ge[0]?.toUpperCase()??"").join("")||"??"}),r=O(""),f=O([]),u=O(!1),d=O(""),h=O(!1),v=O(null);let _=null,k=0;const j=O([]),E=O([]),C=O([]),b=O(!1),$=O(""),M=O(""),ae=O(!1),U=O(""),B=O(!1),ne=O(!1),X=O(!1),W=O(null),K=O(null);let ue=null;const Fe=J(()=>j.value.length),Me=J(()=>E.value.length),ye=J(()=>j.value.some(V=>V.isNew)),F=J(()=>E.value.some(V=>V.isNew)),Z=new Set;let me=!1;const he=O(null),Le=O(0);let Re=null;const et=()=>{f.value=[],u.value=!1,d.value=""},ft=()=>{M.value="",ae.value=!1},ot=()=>{U.value="",B.value=!1},De=V=>{const x=V.trim();return x&&x.split(" ").filter(Boolean).slice(0,2).map(L=>L[0]?.toUpperCase()??"").join("")||"?"},A=V=>V.isOnline===!0?"En ligne":V.isOnline===!1?"Hors ligne":"Statut inconnu",ee=V=>V.isOnline===!0?"presence-dot--online":V.isOnline===!1?"presence-dot--offline":"presence-dot--unknown",Y=async V=>{if(!ut()){d.value="Connectez-vous pour rechercher.",f.value=[],u.value=!1;return}const x=k+=1;u.value=!0,d.value="";try{const L=await tf(V);if(x!==k)return;f.value=L,L.length||(d.value="Aucun joueur trouve.")}catch(L){if(x!==k)return;d.value=L.message,f.value=[]}finally{x===k&&(u.value=!1)}},te=async V=>{h.value=!1,r.value="",et(),await s.push(`/joueur/${V.id}`)},fe=async(V=!1)=>{if(V||($.value=""),!ut()){j.value=[],E.value=[],C.value=[];return}V||(b.value=!0);try{const x=await Li();j.value=x.friendRequests,E.value=x.matchInvites,C.value=x.matchReady,z(x.matchReady)}catch(x){V||($.value=x.message)}finally{V||(b.value=!1)}},p=async()=>{try{await $n("friends"),j.value=j.value.map(V=>({...V,isNew:!1}))}catch{}},m=async()=>{try{await $n("matches"),E.value=E.value.map(V=>({...V,isNew:!1}))}catch{}},y=()=>{Re&&(clearInterval(Re),Re=null)},R=()=>{try{"vibrate"in navigator&&navigator.vibrate([120,60,120])}catch{}try{const V=window.AudioContext||window.webkitAudioContext;if(!V)return;const x=new V,L=x.createOscillator(),ge=x.createGain();L.type="triangle",L.frequency.value=880,ge.gain.value=.06,L.connect(ge),ge.connect(x.destination),L.start(),setTimeout(()=>{L.stop(),x.close().catch(()=>{})},200)}catch{}},N=()=>{y(),he.value=null,Le.value=0,me=!1},P=async()=>{if(!he.value||me)return;const V=he.value.matchId;y(),he.value=null,Le.value=0,me=!0;const x=s.currentRoute.value,L=typeof x.params.id=="string"?x.params.id:"";x.name==="jeu"&&L===V||(us(),X.value=!1,await s.push(`/jeu/${V}`)),me=!1},z=async V=>{if(!V.length||me)return;const x=V.find(L=>!Z.has(L.matchId));if(x){Z.add(x.matchId),he.value=x,Le.value=gp,R();try{await $n("match-ready")}catch{}y(),Re=setInterval(()=>{if(Le.value<=1){P();return}Le.value-=1},1e3)}},q=async()=>{ne.value=!ne.value,ne.value&&(X.value=!1,ft(),await fe(),await p())},H=async()=>{X.value=!X.value,X.value&&(ne.value=!1,ot(),await fe(),await m())},T=async(V,x)=>{ft();try{const L=await Pn(V.user.id,x);M.value=L.message,ae.value=!L.ok,L.ok&&(j.value=j.value.filter(ge=>ge.id!==V.id))}catch(L){M.value=L.message,ae.value=!0}},Q=async(V,x)=>{ot();try{const L=await Di(V.id,x);U.value=L.message,B.value=!L.ok,L.ok&&(E.value=E.value.filter(ge=>ge.id!==V.id),x==="accept"&&L.matchId&&(us(),X.value=!1,await s.push(`/jeu/${L.matchId}`)))}catch(L){U.value=L.message,B.value=!0}},G=V=>{const x=V.target;x&&(v.value&&!v.value.contains(x)&&(h.value=!1),W.value&&!W.value.contains(x)&&(ne.value=!1),K.value&&!K.value.contains(x)&&(X.value=!1))},se=J(()=>{const V=r.value.trim().length>=oa;return h.value&&(V||u.value||!!d.value)});Tt(async()=>{n.value=await an(),await fe();const V=ut();V&&(ue=af(V,x=>{j.value=x.friendRequests,E.value=x.matchInvites,C.value=x.matchReady,z(x.matchReady),$.value&&($.value="")},()=>{(ne.value||X.value)&&($.value="Connexion temps reel interrompue.")}))}),Tt(()=>{document.addEventListener("mousedown",G)}),Fn(()=>{_&&clearTimeout(_),y(),ue&&(ue.close(),ue=null),document.removeEventListener("mousedown",G)}),St(r,V=>{_&&clearTimeout(_);const x=V.trim();if(!x){et();return}if(x.length<oa){f.value=[],u.value=!1,d.value="Entrez au moins 2 caracteres.";return}_=setTimeout(()=>{Y(x)},300)});const oe=async()=>{ue&&(ue.close(),ue=null),y(),await zd(),await s.push("/connexion")};return(V,x)=>(w(),S("div",rf,[o("div",cf,[he.value?(w(),S("div",uf,[o("div",df,[x[3]||(x[3]=o("p",{class:"toast-title"},"Match accepte",-1)),o("p",ff,g(he.value.from.name)+" a accepte votre invitation - "+g(he.value.timeControl)+". ",1),o("p",pf,"Redirection dans "+g(Le.value)+"s",1)]),o("div",{class:"toast-actions"},[o("button",{class:"button-primary",type:"button",onClick:P},"Rejoindre"),o("button",{class:"button-ghost",type:"button",onClick:N},"Annuler")])])):le("",!0)]),o("aside",hf,[o("div",vf,[o("div",mf,[o("img",{class:"brand-logo",src:$e(Bd),alt:"WarChess"},null,8,gf)]),x[4]||(x[4]=o("div",null,[o("p",{class:"brand-title"},"WarChess"),o("p",{class:"brand-sub"},"Operations Arena")],-1))]),o("div",yf,[x[8]||(x[8]=o("p",{class:"nav-title"},"General",-1)),Se($e(Qe),{to:"/tableau-de-bord",class:"nav-link","exact-active-class":"nav-link--active"},{default:Pe(()=>[...x[5]||(x[5]=[o("span",{class:"nav-dot"},null,-1),je(" Vue d'ensemble ",-1)])]),_:1}),Se($e(Qe),{to:"/matchs",class:"nav-link","active-class":"nav-link--active"},{default:Pe(()=>[...x[6]||(x[6]=[o("span",{class:"nav-dot"},null,-1),je(" Matchs ",-1)])]),_:1}),Se($e(Qe),{to:"/jeu",class:"nav-link","active-class":"nav-link--active"},{default:Pe(()=>[...x[7]||(x[7]=[o("span",{class:"nav-dot"},null,-1),je(" Partie ",-1)])]),_:1})]),o("div",_f,[x[10]||(x[10]=o("p",{class:"nav-title"},"Rapports",-1)),Se($e(Qe),{to:"/profil/analyse",class:"nav-link","active-class":"nav-link--active"},{default:Pe(()=>[...x[9]||(x[9]=[o("span",{class:"nav-dot"},null,-1),je(" Analyse du profil ",-1)])]),_:1})]),o("div",bf,[x[12]||(x[12]=o("p",{class:"nav-title"},"Social",-1)),Se($e(Qe),{to:"/amis",class:"nav-link","active-class":"nav-link--active"},{default:Pe(()=>[...x[11]||(x[11]=[o("span",{class:"nav-dot"},null,-1),je(" Amis ",-1)])]),_:1})]),o("div",wf,[x[15]||(x[15]=o("p",{class:"nav-title"},"Parametres",-1)),Se($e(Qe),{to:"/parametres",class:"nav-link","active-class":"nav-link--active"},{default:Pe(()=>[...x[13]||(x[13]=[o("span",{class:"nav-dot"},null,-1),je(" Parametres ",-1)])]),_:1}),Se($e(Qe),{to:"/profil",class:"nav-link","active-class":"nav-link--active"},{default:Pe(()=>[...x[14]||(x[14]=[o("span",{class:"nav-dot"},null,-1),je(" Profil & securite ",-1)])]),_:1}),x[16]||(x[16]=o("button",{class:"nav-link nav-link--disabled",type:"button",disabled:""},[o("span",{class:"nav-dot"}),je(" Support ")],-1))]),o("button",{class:"logout",type:"button",onClick:oe},"Se deconnecter")]),o("main",$f,[o("header",Sf,[o("div",kf,[o("p",Cf,g(t.eyebrow),1),o("h1",Af,g(t.title),1),t.subtitle?(w(),S("p",xf,g(t.subtitle),1)):le("",!0)]),o("div",Ef,[o("div",{ref_key:"searchGroup",ref:v,class:"search-group"},[o("label",Rf,[x[17]||(x[17]=o("svg",{viewBox:"0 0 24 24","aria-hidden":"true"},[o("circle",{cx:"11",cy:"11",r:"7",stroke:"currentColor","stroke-width":"1.6",fill:"none"}),o("path",{d:"M16.5 16.5L21 21",stroke:"currentColor","stroke-width":"1.6","stroke-linecap":"round"})],-1)),Ce(o("input",{"onUpdate:modelValue":x[0]||(x[0]=L=>r.value=L),type:"text",placeholder:"Rechercher joueurs, parties, ouvertures",onFocus:x[1]||(x[1]=L=>h.value=!0),onKeydown:x[2]||(x[2]=yi(L=>h.value=!1,["escape"]))},null,544),[[Ue,r.value]])]),se.value?(w(),S("div",Mf,[x[18]||(x[18]=o("p",{class:"search-title"},"Joueurs",-1)),u.value?(w(),S("p",Pf,"Recherche en cours...")):le("",!0),(w(!0),S(re,null,ve(f.value,L=>(w(),S("button",{key:L.id,class:"search-item",type:"button",onMousedown:zt(ge=>te(L),["prevent"])},[o("span",Of,g(De(L.name)),1),o("span",Tf,[o("span",Nf,g(L.name),1),o("span",Lf,g(L.title||"Profil public"),1)]),o("span",Df,[o("span",{class:pe(["presence-dot",ee(L)]),"aria-hidden":"true"},null,2),je(" "+g(A(L))+"  Elo "+g(L.rating),1)])],40,If))),128)),!u.value&&d.value?(w(),S("p",Vf,g(d.value),1)):le("",!0)])):le("",!0)],512),o("div",Ff,[o("div",{ref_key:"matchGroup",ref:K,class:"notify-group"},[o("button",{class:"icon-button notify-button",type:"button","aria-label":"Notifications de match",onClick:H},[x[19]||(x[19]=o("svg",{viewBox:"0 0 24 24","aria-hidden":"true"},[o("path",{d:"M12 4a5 5 0 0 0-5 5v2.8l-1.4 2.2h12.8L17 11.8V9a5 5 0 0 0-5-5z",stroke:"currentColor","stroke-width":"1.6",fill:"none"}),o("path",{d:"M9.5 18a2.5 2.5 0 0 0 5 0",stroke:"currentColor","stroke-width":"1.6",fill:"none"})],-1)),Me.value?(w(),S("span",Uf,g(Me.value),1)):le("",!0),F.value?(w(),S("span",jf)):le("",!0)]),X.value?(w(),S("div",Bf,[x[20]||(x[20]=o("p",{class:"notify-title"},"Invitations de match",-1)),b.value?(w(),S("p",Hf,"Chargement...")):le("",!0),!b.value&&$.value?(w(),S("p",Gf,g($.value),1)):le("",!0),(w(!0),S(re,null,ve(E.value,L=>(w(),S("div",{key:L.id,class:"notify-item"},[o("span",qf,g(De(L.from.name)),1),o("span",Kf,[o("span",Jf,g(L.from.name),1),o("span",Wf,"Invitation de match - "+g(L.timeControl),1)]),o("span",zf,[o("button",{class:"notify-action button-primary",type:"button",onClick:ge=>Q(L,"accept")}," Accepter ",8,Yf),o("button",{class:"notify-action button-ghost",type:"button",onClick:ge=>Q(L,"decline")}," Refuser ",8,Qf)])]))),128)),!b.value&&!E.value.length&&!$.value?(w(),S("p",Xf," Aucune invitation. ")):le("",!0),U.value?(w(),S("p",{key:3,class:pe(["notify-status",B.value?"notify-status--error":"notify-status--success"])},g(U.value),3)):le("",!0)])):le("",!0)],512),o("div",{ref_key:"friendGroup",ref:W,class:"notify-group"},[o("button",{class:"icon-button notify-button",type:"button","aria-label":"Demandes d'amis",onClick:q},[x[21]||(x[21]=o("svg",{viewBox:"0 0 24 24","aria-hidden":"true"},[o("path",{d:"M4 6h16v9H7l-3 3V6z",stroke:"currentColor","stroke-width":"1.6",fill:"none","stroke-linejoin":"round"})],-1)),Fe.value?(w(),S("span",Zf,g(Fe.value),1)):le("",!0),ye.value?(w(),S("span",ep)):le("",!0)]),ne.value?(w(),S("div",tp,[x[23]||(x[23]=o("p",{class:"notify-title"},"Demandes d'amis",-1)),b.value?(w(),S("p",sp,"Chargement...")):le("",!0),!b.value&&$.value?(w(),S("p",np,g($.value),1)):le("",!0),(w(!0),S(re,null,ve(j.value,L=>(w(),S("div",{key:L.id,class:"notify-item"},[o("span",op,g(De(L.user.name)),1),o("span",lp,[o("span",ap,g(L.user.name),1),x[22]||(x[22]=o("span",{class:"notify-sub"},"Demande d'ami",-1))]),o("span",ip,[o("button",{class:"notify-action button-primary",type:"button",onClick:ge=>T(L,"accept")}," Accepter ",8,rp),o("button",{class:"notify-action button-ghost",type:"button",onClick:ge=>T(L,"decline")}," Refuser ",8,cp)])]))),128)),!b.value&&!j.value.length&&!$.value?(w(),S("p",up," Aucune demande. ")):le("",!0),M.value?(w(),S("p",{key:3,class:pe(["notify-status",ae.value?"notify-status--error":"notify-status--success"])},g(M.value),3)):le("",!0)])):le("",!0)],512)]),o("div",dp,[o("div",fp,[i.value?(w(),S("img",{key:0,src:i.value,alt:"Avatar"},null,8,pp)):(w(),S("span",hp,g(c.value),1))]),o("div",null,[o("p",vp,g(l.value),1),o("p",mp,g(a.value),1)])])])]),mc(V.$slots,"default")])]))}}),Vi=()=>({keyMetrics:[{label:"Indice IA",value:"84%",detail:"Fiabilite sur 30 jours"},{label:"Precision",value:"86%",detail:"+3.1% recent"},{label:"Ouvertures jouees",value:"14",detail:"Top 3 stables"},{label:"Stabilite",value:"78%",detail:"Moins de gaffes"}],focusAreas:[{label:"Finales techniques",progress:68},{label:"Conversions tactiques",progress:74},{label:"Gestion du temps",progress:52},{label:"Preparation d'ouverture",progress:61}],highlights:[{title:"Ouvertures solides",detail:"74% sur Ruy Lopez",tag:"Fort"},{title:"Pression au centre",detail:"62% de controle",tag:"Stable"},{title:"Finales propres",detail:"1.2 gaffe / 10",tag:"Regulier"}],alerts:[{title:"Zeitnot recurrent",detail:"Pic sous 2 min",tag:"A corriger"},{title:"Defenses passives",detail:"Pieces en retard",tag:"Vigilance"},{title:"Echanges precipites",detail:"Taux 38%",tag:"A surveiller"}],rivals:[{name:"I. Alvarez",note:"Tactique agressive",delta:"+12"},{name:"C. Russo",note:"Jeu positionnel",delta:"+8"},{name:"T. Holm",note:"Finales solides",delta:"+5"}],aiSignals:[{label:"Style dominant",value:"Positionnel",note:"IA 0.81"},{label:"Risque moyen",value:"Modere",note:"0.9 gaffe / 10"},{label:"Tempo",value:"Stable",note:"+4% sur blitz"}],trend:[32,46,40,58,52,68,60,66],trendHighlights:[{label:"Pic IA",value:"2188",note:"+46 ce mois"},{label:"Meilleure ouverture",value:"Ruy Lopez",note:"71% de score"},{label:"Indice de risque",value:"Faible",note:"0,9 gaffes"}]}),yp=(e,t,s,n)=>{const l=e.length?e:[0],a=Math.max(1,l.length-1),i=(t-n*2)/a,c=s-n*2,r=l.map((h,v)=>{const _=Math.max(0,Math.min(100,h)),k=n+i*v,j=s-n-_/100*c;return{x:k,y:j}}),f=r.map((h,v)=>`${v===0?"M":"L"}${h.x} ${h.y}`).join(" "),u=r[r.length-1]??{x:n},d=`${f} L${u.x} ${s-n} L${n} ${s-n} Z`;return{line:f,area:d}},_p={class:"content-grid"},bp={class:"left-column"},wp={class:"panel hero-card reveal"},$p={class:"hero-header"},Sp={class:"hero-actions"},kp={class:"hero-body"},Cp={class:"board"},Ap={class:"hero-metrics"},xp={class:"metric-label"},Ep={class:"metric-value"},Rp={class:"metric-note"},Mp={class:"engine-card"},Pp={class:"engine-bars"},Ip={class:"stats-grid"},Op={class:"stat-label"},Tp={class:"stat-value"},Np={class:"stat-meta"},Lp={class:"stat-change"},Dp={class:"stat-detail"},Vp={class:"panel trend-card reveal delay-2"},Fp={class:"trend-chart",viewBox:"0 0 520 180","aria-hidden":"true"},Up=["d"],jp=["d"],Bp={class:"trend-footer"},Hp={class:"trend-label"},Gp={class:"trend-value"},qp={class:"trend-note"},Kp={class:"panel table-card reveal delay-3"},Jp={class:"table-wrap"},Wp={class:"right-column"},zp={class:"panel rating-card reveal"},Yp={class:"rating-header"},Qp={class:"rating-meta"},Xp={class:"rating-ring"},Zp={class:"ring-center"},eh={class:"ring-score"},th={class:"rating-footer"},sh={class:"metric-value"},nh={class:"panel focus-card reveal delay-1"},oh={class:"progress-list"},lh={class:"progress-labels"},ah={class:"progress-bar"},ih={class:"panel session-card reveal delay-2"},rh={class:"session-list"},ch={class:"session-title"},uh={class:"session-time"},dh={class:"session-length"},fh={class:"panel leaderboard-card reveal delay-3"},ph={class:"leaderboard-list"},hh={class:"leaderboard-user"},vh={class:"leaderboard-avatar"},mh={class:"leaderboard-name"},gh={class:"leaderboard-meta"},yh={class:"leaderboard-delta"},_h="f7",bh=Je({__name:"HomeView",setup(e){const t=O(null),s={id:"",name:"Invite",title:"",rating:0,motto:"",location:"",lastSeen:"",email:"",avatarUrl:""},n=J(()=>t.value?.profile??s),l=J(()=>t.value?.games??[]),a=J(()=>t.value?.goals??[]),i=J(()=>t.value?`Bonjour, ${t.value.profile.name}`:"Bonjour"),c=J(()=>t.value?.profile.motto??"Analyse en cours.");Tt(async()=>{t.value=await an()});const r=[{label:"Taux de victoire",value:"62%",change:"+4,2%",detail:"30 dernieres parties"},{label:"Precision moyenne",value:"88%",change:"+1,6%",detail:"Tendance saison"},{label:"Serie d'entrainement",value:"12 jours",change:"+3",detail:"Rythme actuel"},{label:"Taux de gaffes",value:"1,8%",change:"-0,4%",detail:"Plus bas = mieux"}],f=[{label:"Evaluation",value:"+1,2",note:"Aux blancs de jouer"},{label:"Meilleure ligne",value:"e4 e5 Nf3",note:"Profondeur 3 demi-coups"},{label:"Menaces",value:"2 actives",note:"Securite du roi"}],u=[24,46,38,62,48,70,56,44],d=Vi(),h=J(()=>yp(d.trend,520,180,20)),v=[{title:"Sprint tactique",time:"11:00",length:"15 min"},{title:"Laboratoire d'ouverture",time:"14:30",length:"30 min"},{title:"Revue de finale",time:"19:00",length:"40 min"}],_=[{name:"I. Alvarez",rating:2548,delta:"+12"},{name:"C. Russo",rating:2492,delta:"+8"},{name:"T. Holm",rating:2451,delta:"+5"},{name:"J. Park",rating:2422,delta:"+4"}],k={win:"Victoire",loss:"Defaite",draw:"Nul"},j=["a","b","c","d","e","f","g","h"],E=[8,7,6,5,4,3,2,1],C={p:"",r:"",n:"",b:"",q:"",k:"",P:"",R:"",N:"",B:"",Q:"",K:""},b=[["r","n","b","q","k","b","n","r"],["p","p","p","","","p","p","p"],["","","","p","","","",""],["","","","","p","","",""],["","","P","","P","","",""],["","","","N","","N","",""],["P","P","","P","","P","P","P"],["R","","B","Q","K","B","","R"]],$=new Set(["e2","e4"]),M=E.flatMap((ae,U)=>j.map((B,ne)=>{const X=b[U]?.[ne]??"",W=`${B}${ae}`,K=(U+ne)%2===1,ue=X?X===X.toUpperCase()?"light":"dark":"";return{id:W,dark:K,piece:X,tone:ue,symbol:C[X]??"",isLastMove:$.has(W),isFocus:W===_h}}));return(ae,U)=>(w(),dt(Qt,{eyebrow:"Bon retour",title:i.value,subtitle:c.value},{default:Pe(()=>[o("section",_p,[o("div",bp,[o("div",wp,[o("div",$p,[U[2]||(U[2]=o("div",null,[o("p",{class:"panel-title"},"Salle de match"),o("h2",{class:"panel-headline"},"Analyse en direct du plateau"),o("p",{class:"panel-sub"}," Suivez l'evaluation, les lignes candidates et la pression tactique d'un coup d'oeil. ")],-1)),o("div",Sp,[Se($e(Qe),{class:"button-primary",to:"/matchs"},{default:Pe(()=>[...U[0]||(U[0]=[je("Nouvelle partie",-1)])]),_:1}),U[1]||(U[1]=o("button",{class:"button-ghost",type:"button"},"Analyser",-1))])]),o("div",kp,[o("div",Cp,[(w(!0),S(re,null,ve($e(M),B=>(w(),S("div",{key:B.id,class:pe(["square",B.dark?"square--dark":"square--light",B.isLastMove?"square--last":"",B.isFocus?"square--focus":""])},[B.piece?(w(),S("span",{key:0,class:pe(["piece",B.tone==="light"?"piece--light":"piece--dark"])},g(B.symbol),3)):le("",!0)],2))),128))]),o("div",Ap,[(w(),S(re,null,ve(f,B=>o("div",{key:B.label,class:"metric-card"},[o("p",xp,g(B.label),1),o("p",Ep,g(B.value),1),o("p",Rp,g(B.note),1)])),64)),o("div",Mp,[U[3]||(U[3]=o("div",{class:"engine-header"},[o("p",{class:"metric-label"},"Elan"),o("p",{class:"metric-value"},"68%")],-1)),o("div",Pp,[(w(),S(re,null,ve(u,(B,ne)=>o("span",{key:`bar-${ne}`,class:"engine-bar",style:ks({height:`${B}%`})},null,4)),64))]),U[4]||(U[4]=o("p",{class:"metric-note"},"Courbe sur les 8 derniers demi-coups",-1))])])])]),o("div",Ip,[(w(),S(re,null,ve(r,B=>o("div",{key:B.label,class:"panel stat-card reveal delay-1"},[o("p",Op,g(B.label),1),o("p",Tp,g(B.value),1),o("div",Np,[o("span",Lp,g(B.change),1),o("span",Dp,g(B.detail),1)])])),64))]),o("div",Vp,[U[6]||(U[6]=o("div",{class:"panel-header"},[o("div",null,[o("p",{class:"panel-title"},"Analyse IA du profil"),o("h3",{class:"panel-headline"},"Vitesse de classement")]),o("button",{class:"range-pill",type:"button"},"Hebdomadaire")],-1)),(w(),S("svg",Fp,[U[5]||(U[5]=o("defs",null,[o("linearGradient",{id:"trendLine",x1:"0",y1:"0",x2:"1",y2:"0"},[o("stop",{offset:"0%","stop-color":"var(--analysis-blue)"}),o("stop",{offset:"33%","stop-color":"var(--analysis-green)"}),o("stop",{offset:"66%","stop-color":"var(--analysis-red)"}),o("stop",{offset:"100%","stop-color":"var(--analysis-orange)"})]),o("linearGradient",{id:"trendFill",x1:"0",y1:"0",x2:"0",y2:"1"},[o("stop",{offset:"0%","stop-color":"var(--analysis-blue)","stop-opacity":"0.3"}),o("stop",{offset:"45%","stop-color":"var(--analysis-green)","stop-opacity":"0.22"}),o("stop",{offset:"75%","stop-color":"var(--analysis-red)","stop-opacity":"0.16"}),o("stop",{offset:"92%","stop-color":"var(--analysis-orange)","stop-opacity":"0.1"}),o("stop",{offset:"100%","stop-color":"var(--analysis-orange)","stop-opacity":"0"})])],-1)),o("path",{d:h.value.line,fill:"none",stroke:"url(#trendLine)","stroke-width":"3","stroke-linecap":"round"},null,8,Up),o("path",{d:h.value.area,fill:"url(#trendFill)"},null,8,jp)])),o("div",Bp,[(w(!0),S(re,null,ve($e(d).trendHighlights,B=>(w(),S("div",{key:B.label,class:"trend-item"},[o("p",Hp,g(B.label),1),o("p",Gp,g(B.value),1),o("p",qp,g(B.note),1)]))),128))])]),o("div",Kp,[U[8]||(U[8]=o("div",{class:"panel-header"},[o("div",null,[o("p",{class:"panel-title"},"Parties recentes"),o("h3",{class:"panel-headline"},"Details des matchs")]),o("button",{class:"range-pill",type:"button"},"10 dernieres")],-1)),o("div",Jp,[o("table",null,[U[7]||(U[7]=o("thead",null,[o("tr",null,[o("th",null,"Partie"),o("th",null,"Adversaire"),o("th",null,"Resultat"),o("th",null,"Ouverture"),o("th",null,"Coups"),o("th",null,"Precision")])],-1)),o("tbody",null,[(w(!0),S(re,null,ve(l.value,B=>(w(),S("tr",{key:B.id},[o("td",null,g(B.id),1),o("td",null,g(B.opponent),1),o("td",null,[o("span",{class:pe(["result-pill",`result--${B.result}`])},g(k[B.result]),3)]),o("td",null,g(B.opening),1),o("td",null,g(B.moves),1),o("td",null,g(B.accuracy)+"%",1)]))),128))])])])])]),o("aside",Wp,[o("div",zp,[o("div",Yp,[U[9]||(U[9]=o("p",{class:"panel-title"},"Score Elo",-1)),o("p",Qp,g(n.value.location),1)]),o("div",Xp,[U[11]||(U[11]=o("svg",{viewBox:"0 0 120 120","aria-hidden":"true"},[o("defs",null,[o("linearGradient",{id:"ratingGradient",x1:"0",y1:"0",x2:"1",y2:"1"},[o("stop",{offset:"0%","stop-color":"#4ade80"}),o("stop",{offset:"100%","stop-color":"#22c55e"})])]),o("circle",{cx:"60",cy:"60",r:"46",pathLength:"100",class:"ring-track"}),o("circle",{cx:"60",cy:"60",r:"46",pathLength:"100",class:"ring-value",stroke:"url(#ratingGradient)"})],-1)),o("div",Zp,[o("p",eh,g(n.value.rating),1),U[10]||(U[10]=o("p",{class:"ring-label"},"Classement rapide",-1))])]),o("div",th,[U[13]||(U[13]=o("div",null,[o("p",{class:"metric-label"},"Titre"),o("p",{class:"metric-value"},"Objectif MI")],-1)),o("div",null,[U[12]||(U[12]=o("p",{class:"metric-label"},"Derniere activite",-1)),o("p",sh,g(n.value.lastSeen),1)])])]),o("div",nh,[U[14]||(U[14]=o("div",{class:"panel-header"},[o("div",null,[o("p",{class:"panel-title"},"Focus d'entrainement"),o("h3",{class:"panel-headline"},"Indicateurs de progression")]),o("button",{class:"range-pill",type:"button"},"Mensuel")],-1)),o("div",oh,[(w(!0),S(re,null,ve(a.value,B=>(w(),S("div",{key:B.label,class:"progress-item"},[o("div",lh,[o("span",null,g(B.label),1),o("span",null,g(B.progress)+"%",1)]),o("div",ah,[o("span",{class:"progress-fill",style:ks({width:`${B.progress}%`})},null,4)])]))),128))])]),o("div",ih,[U[15]||(U[15]=o("div",{class:"panel-header"},[o("div",null,[o("p",{class:"panel-title"},"Prochaines sessions"),o("h3",{class:"panel-headline"},"Plan du jour")]),o("button",{class:"range-pill",type:"button"},"Aujourd'hui")],-1)),o("div",rh,[(w(),S(re,null,ve(v,B=>o("div",{key:B.title,class:"session-item"},[o("div",null,[o("p",ch,g(B.title),1),o("p",uh,g(B.time),1)]),o("span",dh,g(B.length),1)])),64))])]),o("div",fh,[U[16]||(U[16]=o("div",{class:"panel-header"},[o("div",null,[o("p",{class:"panel-title"},"Meilleurs joueurs"),o("h3",{class:"panel-headline"},"Elite du classement")]),o("button",{class:"range-pill",type:"button"},"Region")],-1)),o("div",ph,[(w(),S(re,null,ve(_,B=>o("div",{key:B.name,class:"leaderboard-item"},[o("div",hh,[o("div",vh,g(B.name.slice(0,1)),1),o("div",null,[o("p",mh,g(B.name),1),o("p",gh,"Elo "+g(B.rating),1)])]),o("span",yh,g(B.delta),1)])),64))])])])])]),_:1},8,["title","subtitle"]))}}),wh={class:"match-layout"},$h={class:"panel match-create"},Sh={class:"panel-header"},kh={class:"badge-soft"},Ch={class:"match-preview"},Ah={class:"match-preview-row"},xh={class:"match-preview-player"},Eh={class:"match-id"},Rh={class:"match-preview-player"},Mh={class:"match-avatar"},Ph={class:"match-opponent"},Ih={class:"match-id"},Oh={class:"match-preview-meta"},Th={class:"preview-pill"},Nh={key:0,class:"preview-pill"},Lh={class:"form-field form-field--full"},Dh={class:"segmented"},Vh={key:0,class:"form-field form-field--full"},Fh={key:1,class:"form-field form-field--full"},Uh={class:"segmented"},jh=["onClick"],Bh={class:"form-field form-field--half"},Hh={class:"form-field form-field--half"},Gh={class:"panel match-list"},qh={class:"match-cards"},Kh={class:"match-row"},Jh={class:"match-ident"},Wh={class:"match-avatar"},zh={class:"match-id"},Yh={class:"match-opponent"},Qh={class:"match-meta"},Xh={key:0},Zh={class:"match-footer"},ev={class:"match-move"},tv={class:"match-actions"},sv={class:"button-primary",type:"button"},nv=Je({__name:"MatchListView",setup(e){const t=O([]),s=O(""),n=O(!1),l=Jt({mode:"IA",opponent:"",difficulty:"intermediaire",timeControl:"10+0",side:"Aleatoire"}),a={facile:"Facile",intermediaire:"Intermediaire",difficile:"Difficile",maitre:"Maitre"},i={IA:"IA",Local:"Local",JcJ:"Ami"},c={planifie:"Planifie",en_cours:"En cours",termine:"Termine"},r={facile:"IA Nova",intermediaire:"IA Atlas",difficile:"IA Helios",maitre:"IA Zenith"},f=()=>new Date().toISOString().slice(0,16).replace("T"," "),u=C=>{const b=C.trim();return b&&b.split(" ").filter(Boolean).slice(0,2).map($=>$[0]?.toUpperCase()??"").join("")||"?"},d=C=>C==="planifie"?"Lancer":C==="en_cours"?"Reprendre":"Revoir",h=J(()=>t.value.length),v=J(()=>l.mode==="IA"?r[l.difficulty]:l.opponent.trim()||"Joueur 2"),_=J(()=>i[l.mode]),k=J(()=>a[l.difficulty]),j=J(()=>l.side==="Aleatoire"?"Couleur aleatoire":`Couleur ${l.side.toLowerCase()}`);Tt(async()=>{t.value=await $s()});const E=async()=>{s.value="",n.value=!1;const C=`M-${Math.floor(1e3+Math.random()*9e3)}`,b=l.mode==="IA"?r[l.difficulty]:l.opponent.trim()||"Joueur 2",$={id:C,mode:l.mode,opponent:b,status:"planifie",createdAt:f(),lastMove:"-",timeControl:l.timeControl,side:l.side,difficulty:l.mode==="IA"?l.difficulty:void 0};t.value=await Jd($),l.opponent="",s.value="Match cree avec succes.",n.value=!1};return(C,b)=>(w(),dt(Qt,{eyebrow:"Matchs",title:"Centre des matchs",subtitle:"Creez, lancez et suivez vos parties en un seul endroit."},{default:Pe(()=>[o("section",wh,[o("div",$h,[o("div",Sh,[b[5]||(b[5]=o("div",null,[o("p",{class:"panel-title"},"Nouveau match"),o("h3",{class:"panel-headline"},"Configurer une partie")],-1)),o("span",kh,g(h.value)+" matchs",1)]),o("div",Ch,[o("div",Ah,[o("div",xh,[b[7]||(b[7]=o("div",{class:"match-avatar"},"J1",-1)),o("div",null,[b[6]||(b[6]=o("p",{class:"match-opponent"},"Joueur 1",-1)),o("p",Eh,g(j.value),1)])]),b[8]||(b[8]=o("span",{class:"vs-pill"},"VS",-1)),o("div",Rh,[o("div",Mh,g(u(v.value)),1),o("div",null,[o("p",Ph,g(v.value),1),o("p",Ih,g(_.value),1)])])]),o("div",Oh,[o("span",Th,"Cadence "+g(l.timeControl),1),l.mode==="IA"?(w(),S("span",Nh,"IA "+g(k.value),1)):le("",!0)])]),o("form",{class:"form-stack",onSubmit:zt(E,["prevent"])},[o("div",Lh,[b[9]||(b[9]=o("span",{class:"form-label"},"Mode",-1)),o("div",Dh,[o("button",{type:"button",class:pe(["segmented-button",l.mode==="Local"&&"segmented-button--active"]),onClick:b[0]||(b[0]=$=>l.mode="Local")}," Local ",2),o("button",{type:"button",class:pe(["segmented-button",l.mode==="IA"&&"segmented-button--active"]),onClick:b[1]||(b[1]=$=>l.mode="IA")}," IA ",2)])]),l.mode==="Local"?(w(),S("label",Vh,[b[10]||(b[10]=o("span",{class:"form-label"},"Joueur 2",-1)),Ce(o("input",{"onUpdate:modelValue":b[2]||(b[2]=$=>l.opponent=$),class:"form-input",type:"text",placeholder:"Nom du second joueur"},null,512),[[Ue,l.opponent]])])):(w(),S("div",Fh,[b[11]||(b[11]=o("span",{class:"form-label"},"Difficulte IA",-1)),o("div",Uh,[(w(!0),S(re,null,ve(Object.keys(a),$=>(w(),S("button",{key:$,type:"button",class:pe(["segmented-button",l.difficulty===$&&"segmented-button--active"]),onClick:M=>l.difficulty=$},g(a[$]),11,jh))),128))])])),o("label",Bh,[b[13]||(b[13]=o("span",{class:"form-label"},"Cadence",-1)),Ce(o("select",{"onUpdate:modelValue":b[3]||(b[3]=$=>l.timeControl=$),class:"form-input"},[...b[12]||(b[12]=[o("option",{value:"3+2"},"3+2 Blitz",-1),o("option",{value:"5+0"},"5+0 Blitz",-1),o("option",{value:"10+0"},"10+0 Rapide",-1),o("option",{value:"15+10"},"15+10 Classique",-1)])],512),[[os,l.timeControl]])]),o("label",Hh,[b[15]||(b[15]=o("span",{class:"form-label"},"Couleur",-1)),Ce(o("select",{"onUpdate:modelValue":b[4]||(b[4]=$=>l.side=$),class:"form-input"},[...b[14]||(b[14]=[o("option",{value:"Aleatoire"},"Aleatoire",-1),o("option",{value:"Blancs"},"Blancs",-1),o("option",{value:"Noirs"},"Noirs",-1)])],512),[[os,l.side]])]),b[16]||(b[16]=o("button",{class:"button-primary",type:"submit"},"Creer le match",-1))],32),s.value?(w(),S("p",{key:0,class:pe(["form-message",n.value?"form-message--error":"form-message--success"])},g(s.value),3)):le("",!0)]),o("div",Gh,[b[18]||(b[18]=o("div",{class:"panel-header"},[o("div",null,[o("p",{class:"panel-title"},"Liste des matchs"),o("h3",{class:"panel-headline"},"Historique et en cours")])],-1)),o("div",qh,[(w(!0),S(re,null,ve(t.value,$=>(w(),S("article",{key:$.id,class:"match-card"},[o("div",Kh,[o("div",Jh,[o("div",Wh,g(u($.opponent)),1),o("div",null,[o("p",zh,g($.id),1),o("p",Yh,g($.opponent),1)])]),o("span",{class:pe(["match-status",`match-status--${$.status}`])},g(c[$.status]),3)]),o("div",Qh,[o("span",null,g(i[$.mode]),1),o("span",null,"Cadence "+g($.timeControl),1),$.difficulty?(w(),S("span",Xh,"IA "+g(a[$.difficulty]),1)):le("",!0),o("span",null,g($.side),1)]),o("div",Zh,[o("span",ev,"Dernier coup: "+g($.lastMove),1),o("div",tv,[Se($e(Qe),{class:"button-ghost",to:`/jeu/${$.id}`},{default:Pe(()=>[...b[17]||(b[17]=[je("Ouvrir",-1)])]),_:1},8,["to"]),o("button",sv,g(d($.status)),1)])])]))),128))])])])]),_:1}))}}),ov="/api",lv=async e=>{const t=await Ee(`match-room-get?matchId=${encodeURIComponent(e)}`);if(!t.ok||!t.match)throw new Error("Match introuvable.");return t.match},av=async(e,t)=>{const s=await Ee("match-move-add",{method:"POST",body:JSON.stringify({matchId:e,from:t.from,to:t.to,notation:t.notation})});if(!s.ok||!s.match)throw new Error("Impossible de jouer le coup.");return s.match},iv=async(e,t)=>{const s=await Ee("match-message-add",{method:"POST",body:JSON.stringify({matchId:e,message:t})});if(!s.ok||!s.match)throw new Error("Impossible d'envoyer le message.");return s.match},rv=async(e,t)=>{const s=await Ee("match-finish",{method:"POST",body:JSON.stringify({matchId:e,result:t})});if(!s.ok||!s.match)throw new Error("Impossible de terminer le match.");return s.match},cv=(e,t,s)=>{const n=ut();if(!n)return null;const l=new EventSource(`${ov}/match-stream?matchId=${encodeURIComponent(e)}&token=${encodeURIComponent(n)}`);return l.addEventListener("match",a=>{try{const i=JSON.parse(a.data);t(i)}catch{}}),s&&l.addEventListener("error",s),l},Fi=["a","b","c","d","e","f","g","h"],Eo={p:1,n:3,b:3,r:5,q:9,k:0},io=()=>[["r","n","b","q","k","b","n","r"],["p","p","p","p","p","p","p","p"],["","","","","","","",""],["","","","","","","",""],["","","","","","","",""],["","","","","","","",""],["P","P","P","P","P","P","P","P"],["R","N","B","Q","K","B","N","R"]],Ui=e=>e!==""&&e===e.toUpperCase(),ms=e=>Ui(e)?"white":"black",Fs=(e,t)=>e>=0&&e<8&&t>=0&&t<8,la=(e,t)=>`${Fi[t]??""}${8-e}`,aa=e=>{const t=e[0]??"",s=Number(e[1]),n=Fi.indexOf(t);return{row:8-s,col:n===-1?0:n}},Ft=(e,t,s)=>e[t]?.[s]??"",ji=e=>{let t=0;for(const s of e)for(const n of s){if(!n)continue;const l=Eo[n.toLowerCase()]??0;t+=Ui(n)?l:-l}return t},uv=e=>ji(e),dv=(e,t)=>{const s=ji(e);return t==="white"?s:-s},ss=(e,t,s,n,l,a,i)=>{e.push({from:la(t,s),to:la(n,l),piece:a,capture:i})},fv=(e,t,s)=>{const n=Ft(e,t,s);if(!n)return[];const l=ms(n),a=[],i=n.toLowerCase();if(i==="p"){const r=l==="white"?-1:1,f=l==="white"?6:1,u=t+r;if(Fs(u,s)&&Ft(e,u,s)===""){ss(a,t,s,u,s,n);const d=t+r*2;t===f&&Ft(e,d,s)===""&&ss(a,t,s,d,s,n)}for(const d of[s-1,s+1]){if(!Fs(u,d))continue;const h=Ft(e,u,d);h&&ms(h)!==l&&ss(a,t,s,u,d,n,h)}return a}if(i==="n"){const r=[[-2,-1],[-2,1],[-1,-2],[-1,2],[1,-2],[1,2],[2,-1],[2,1]];for(const[f,u]of r){const d=t+f,h=s+u;if(!Fs(d,h))continue;const v=Ft(e,d,h);(!v||ms(v)!==l)&&ss(a,t,s,d,h,n,v||void 0)}return a}const c=r=>{for(const[f,u]of r){let d=t+f,h=s+u;for(;Fs(d,h);){const v=Ft(e,d,h);if(!v)ss(a,t,s,d,h,n);else{ms(v)!==l&&ss(a,t,s,d,h,n,v);break}d+=f,h+=u}}};if(i==="b")return c([[-1,-1],[-1,1],[1,-1],[1,1]]),a;if(i==="r")return c([[-1,0],[1,0],[0,-1],[0,1]]),a;if(i==="q")return c([[-1,-1],[-1,1],[1,-1],[1,1],[-1,0],[1,0],[0,-1],[0,1]]),a;if(i==="k"){const r=[[-1,-1],[-1,0],[-1,1],[0,-1],[0,1],[1,-1],[1,0],[1,1]];for(const[f,u]of r){const d=t+f,h=s+u;if(!Fs(d,h))continue;const v=Ft(e,d,h);(!v||ms(v)!==l)&&ss(a,t,s,d,h,n,v||void 0)}}return a},Bi=(e,t)=>{const s=[];for(let n=0;n<8;n+=1)for(let l=0;l<8;l+=1){const a=Ft(e,n,l);a&&ms(a)===t&&s.push(...fv(e,n,l))}return s},Ro=(e,t)=>{const s=e.map(r=>r.slice()),n=aa(t.from),l=aa(t.to),a=t.piece,i=s[n.row],c=s[l.row];return!i||!c||(i[n.col]="",c[l.col]=a,a.toLowerCase()==="p"&&(l.row===0||l.row===7)&&(c[l.col]=a===a.toUpperCase()?"Q":"q")),s},ro=e=>`${e.from}-${e.to}`,ia=(e,t,s)=>{const n=Bi(e,t);if(!n.length)return null;if(s==="facile")return n[Math.floor(Math.random()*n.length)]??null;if(s==="intermediaire"){const i=n.filter(r=>r.capture);return i.length?[...i].sort((r,f)=>{const u=Eo[r.capture?.toLowerCase()||"p"]??0;return(Eo[f.capture?.toLowerCase()||"p"]??0)-u})[0]??null:n[Math.floor(Math.random()*n.length)]??null}const l=n.map(i=>{const c=Ro(e,i),r=dv(c,t);return{move:i,score:r}});if(l.sort((i,c)=>c.score-i.score),s==="difficile")return l[0]?.move??null;const a=l.slice(0,3);return a[Math.floor(Math.random()*a.length)]?.move??null},pv={class:"game-layout"},hv={class:"game-stack"},vv={class:"panel game-board"},mv={class:"panel-header"},gv={class:"panel-headline"},yv={class:"badge-soft"},_v={key:0,class:"form-message form-message--success"},bv={key:1,class:"form-message form-message--error"},wv={class:"player-strip"},$v={class:"player-avatar"},Sv={class:"player-info"},kv={class:"player-name"},Cv={class:"player-avatar"},Av={class:"player-info"},xv={class:"player-name"},Ev={class:"board-wrap"},Rv={class:"board"},Mv=["onClick"],Pv={class:"panel game-actions"},Iv=["disabled"],Ov=["disabled"],Tv=["disabled"],Nv={key:1,class:"game-rematch"},Lv={class:"panel game-panel"},Dv={class:"game-info"},Vv={class:"metric-label"},Fv={class:"metric-value"},Uv={class:"metric-label"},jv={class:"metric-value"},Bv={class:"metric-value"},Hv={key:0,class:"game-ai"},Gv={class:"segmented segmented--stack"},qv=["disabled"],Kv={class:"panel-subsection game-analysis"},Jv={class:"analysis-grid"},Wv={class:"metric-card"},zv={class:"metric-value"},Yv={class:"metric-note"},Qv={class:"metric-card"},Xv={class:"metric-value"},Zv={class:"panel-subsection"},em={class:"move-list"},tm={key:0,class:"empty-state"},sm={class:"move-ply"},nm={class:"move-side"},om={class:"move-notation"},lm={key:1,class:"panel-subsection match-chat"},am={key:0,class:"empty-state"},im={class:"chat-row"},rm={class:"chat-name"},cm={class:"chat-time"},um={class:"chat-text"},dm={class:"chat-input-row"},fm=["disabled","onKeydown"],pm=["disabled"],hm={key:0,class:"form-message form-message--error"},vm=Je({__name:"GameView",setup(e){const t=Ii(),s=ds(),n=J(()=>t.params.id?String(t.params.id):""),l=O(null),a=O([]),i=O([]),c=O("white"),r=O("white"),f=O(null),u=O(null),d=O("active"),h=O(null),v=O(null),_=O(null),k=O(!1),j=O(""),E=O(!1);let C=null;const b=O(""),$=O(!1),M=O(""),ae=O(null),U=O(""),B=O(!1),ne=O(""),X=O(!1),W=O(0),K=O(0),ue=O(0),Fe=O(!1),Me=O(""),ye=O(!1);let F=null;const Z=O(!1),me=J(()=>l.value?.mode??h.value??"IA"),he=J(()=>me.value==="JcJ"),Le=J(()=>me.value==="JcJ"?"En ligne":me.value),Re=J(()=>{const I=l.value?.opponent??v.value;return I||(he.value?"Adversaire":"IA Sparring")}),et=J(()=>l.value?.timeControl??_.value??"10+0"),ft=J(()=>me.value==="Local"?"Camp joueur 1":"Votre couleur"),ot=J(()=>me.value==="Local"?"Joueur 2":"Adversaire"),De=J(()=>he.value?k.value?"Connexion au match en ligne...":E.value?"Envoi du coup...":d.value!=="active"?"Match termine. Vous pouvez proposer une revanche.":Q.value===te.value?"A vous de jouer.":"En attente du coup adverse.":""),A=O("intermediaire"),ee=I=>/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i.test(I);St(n,async()=>{if(Kn(),fs(),a.value=[],i.value=[],j.value="",E.value=!1,c.value="white",r.value="white",f.value=null,u.value=null,d.value="active",h.value=null,v.value=null,_.value=null,b.value="",$.value=!1,M.value="",U.value="",B.value=!1,ne.value="",X.value=!1,W.value=0,K.value=0,ue.value=0,Fe.value=!1,Me.value="",ye.value=!1,Z.value=!1,!n.value){l.value=null,A.value="intermediaire";return}l.value=await Wd(n.value),A.value=l.value?.difficulty??"intermediaire",l.value?.mode==="JcJ"?await sl():l.value?tl():ee(n.value)&&await sl()},{immediate:!0});const Y=J(()=>l.value?.side??"Aleatoire"),te=J(()=>he.value?c.value:Y.value==="Blancs"?"white":Y.value==="Noirs"?"black":Number.parseInt(n.value.slice(-1)||"0",10)%2===0?"white":"black"),fe=J(()=>me.value!=="IA"?null:te.value==="white"?"black":"white"),p=J(()=>he.value?d.value!=="active":Z.value),m=J(()=>he.value?te.value==="white"?u.value??"":f.value??"":""),y=I=>{const D=I.trim(),ie=/^(\d+)(?:\+(\d+))?$/.exec(D);if(!ie)return{initialMs:600*1e3,incrementMs:0};const Te=Math.max(1,Number.parseInt(ie[1]??"10",10)),Ie=Math.max(0,Number.parseInt(ie[2]??"0",10));return{initialMs:Te*60*1e3,incrementMs:Ie*1e3}},R=J(()=>y(et.value)),N=I=>{const D=Math.max(0,Math.ceil(I/1e3)),ie=Math.floor(D/60),Te=D%60;return`${ie}:${Te.toString().padStart(2,"0")}`},P=I=>I<=1e4?"player-clock--danger":I<=3e4?"player-clock--warning":"",z=J(()=>N(W.value)),q=J(()=>N(K.value)),H=J(()=>he.value?d.value==="active"&&!k.value&&!E.value:!Z.value),T=O(io()),Q=O("white"),G=O(null),se=O(null),oe=O([]),V=O(!1),x=O({score:0,bestMove:null});let L=null;const ge=["a","b","c","d","e","f","g","h"],Be=[8,7,6,5,4,3,2,1],lt=I=>{const D=I[0]??"",ie=Number(I[1]),Te=ge.indexOf(D);return{row:8-ie,col:Te===-1?0:Te}},at={p:"",r:"",n:"",b:"",q:"",k:"",P:"",R:"",N:"",B:"",Q:"",K:""},Xt=J(()=>Bi(T.value,Q.value)),Ps=J(()=>G.value?Xt.value.filter(I=>I.from===G.value):[]),We=J(()=>new Set(Ps.value.map(I=>I.to))),it=J(()=>he.value?d.value==="active"&&!k.value&&!E.value&&Q.value===te.value:Z.value?!1:me.value!=="IA"?!0:Q.value===te.value),Is=J(()=>me.value==="Local"?"Joueur 1":te.value==="white"?"Vous":Re.value),Os=J(()=>me.value==="Local"?"Joueur 2":te.value==="black"?"Vous":Re.value),Zo=I=>{const D=I.trim();return D&&D.split(" ").filter(Boolean).slice(0,2).map(ie=>ie[0]?.toUpperCase()??"").join("")||"?"},qi=I=>{let D=io();const ie=[];let Te=null;for(const Ie of I){const yt=lt(Ie.from),Dt=D[yt.row]?.[yt.col]??"";Dt&&(D=Ro(D,{from:Ie.from,to:Ie.to,piece:Dt}),ie.push({ply:Ie.ply,side:Ie.side==="white"?"white":"black",notation:Ie.notation}),Te={from:Ie.from,to:Ie.to})}T.value=D,oe.value=ie,se.value=Te,G.value=null},Ts=I=>{a.value=I.moves??[],i.value=I.messages??[],c.value=I.yourSide,r.value=I.sideToMove,f.value=I.whiteId??null,u.value=I.blackId??null,d.value=I.status??"active",h.value=I.mode??"JcJ",I.opponent&&(v.value=I.opponent),I.timeControl&&(_.value=I.timeControl),Q.value=I.sideToMove,E.value=!1,qi(a.value),Wi(I)},fs=()=>{F&&(clearInterval(F),F=null)},qn=()=>{Fe.value||(W.value===0||K.value===0)&&(Fe.value=!0,tr())},el=()=>{fs(),ue.value=Date.now(),F=setInterval(()=>{if(!H.value||p.value){ue.value=Date.now();return}const I=Date.now(),D=I-ue.value;ue.value=I,Q.value==="white"?W.value=Math.max(0,W.value-D):K.value=Math.max(0,K.value-D),qn()},250)},Ki=()=>{if(!H.value||p.value)return;const I=Date.now(),D=I-ue.value;ue.value=I,Q.value==="white"?W.value=Math.max(0,W.value-D):K.value=Math.max(0,K.value-D)},Ji=I=>{const{incrementMs:D}=R.value;D<=0||(I==="white"?W.value+=D:K.value+=D)},tl=()=>{const{initialMs:I}=R.value;W.value=I,K.value=I,Z.value=!1,Fe.value=!1,Me.value="",ye.value=!1,ue.value=Date.now(),el()},Wi=I=>{const{initialMs:D,incrementMs:ie}=R.value;let Te=D,Ie=D,Dt=I.createdAt?new Date(I.createdAt).getTime():Date.now();for(const Zt of I.moves??[]){const Ns=new Date(Zt.createdAt).getTime();if(!Number.isFinite(Ns))continue;const rn=Math.max(0,Ns-Dt);Zt.side==="white"?Te=Math.max(0,Te-rn+ie):Ie=Math.max(0,Ie-rn+ie),Dt=Ns}if(I.status==="active"){const Zt=Math.max(0,Date.now()-Dt);I.sideToMove==="white"?Te=Math.max(0,Te-Zt):Ie=Math.max(0,Ie-Zt)}W.value=Te,K.value=Ie,ue.value=Date.now(),Fe.value=I.status!=="active",qn(),I.status==="active"?el():fs()},Kn=()=>{C&&(C.close(),C=null)},sl=async()=>{if(n.value){k.value=!0,j.value="";try{const I=await lv(n.value);Ts(I),Kn(),C=cv(n.value,D=>{Ts(D),j.value&&(j.value="")},()=>{j.value||(j.value="Connexion temps reel interrompue.")})}catch(I){j.value=I.message}finally{k.value=!1}}},zi=J(()=>{const I=x.value.score,D=I.toFixed(1);return`${I>=0?"+":""}${D}`}),Yi=J(()=>{const I=x.value.score;return I>=1.5?"Avantage blancs":I<=-1.5?"Avantage noirs":I>=.3?"Leger avantage blancs":I<=-.3?"Leger avantage noirs":"Position equilibree"}),Qi=J(()=>{const I=x.value.bestMove;return I?ro(I):"Aucun coup disponible"}),nl=(I,D)=>I?D==="white"?I===I.toUpperCase():I===I.toLowerCase():!1,ol=I=>{he.value||(Ki(),Ji(Q.value),qn()),T.value=Ro(T.value,I),oe.value=[...oe.value,{ply:oe.value.length+1,side:Q.value,notation:ro(I)}],se.value={from:I.from,to:I.to},G.value=null,Q.value=Q.value==="white"?"black":"white",ue.value=Date.now()},ll=()=>{x.value={score:uv(T.value),bestMove:ia(T.value,Q.value,A.value)}},al=()=>{V.value||Z.value||!fe.value||Q.value!==fe.value||(V.value=!0,L&&clearTimeout(L),L=setTimeout(()=>{const I=ia(T.value,Q.value,A.value);I&&ol(I),V.value=!1,L=null},500))},Xi=async I=>{if(n.value&&d.value==="active"){E.value=!0,j.value="",fs();try{const D=await av(n.value,{from:I.from,to:I.to,notation:ro(I)});Ts(D)}catch(D){j.value=D.message}finally{E.value=!1}}},Zi=I=>{if(!I)return"";const D=new Date(I);return Number.isNaN(D.getTime())?"":D.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})},il=async()=>{if(!n.value||!he.value)return;const I=b.value.trim();if(I){$.value=!0,M.value="";try{const D=await iv(n.value,I);Ts(D),b.value="",await Qs(),ae.value&&(ae.value.scrollTop=ae.value.scrollHeight)}catch(D){M.value=D.message}finally{$.value=!1}}},er=async()=>{if(!m.value){U.value="Adversaire introuvable.",B.value=!0;return}U.value="",B.value=!1;try{const I=await Qo(m.value,et.value,"Aleatoire");U.value=I.message,B.value=!I.ok,I.ok&&I.status==="accepted"&&I.matchId&&(us(),await s.push(`/jeu/${I.matchId}`))}catch(I){U.value=I.message,B.value=!0}},Jn=async I=>{if(!(!n.value||!he.value)){ne.value="",X.value=!1;try{const D=await rv(n.value,I);Ts(D),I==="draw"?ne.value="Match nul enregistre.":I==="timeout"?ne.value="Temps ecoule.":ne.value="Match termine."}catch(D){ne.value=D.message,X.value=!0}}},tr=async()=>{if(!p.value){if(fs(),he.value){await Jn("timeout");return}L&&(clearTimeout(L),L=null),V.value=!1,Z.value=!0,Me.value="Temps ecoule. Match termine.",ye.value=!0}},sr=(I,D)=>{if(!it.value)return;if(!G.value){if(!D||!nl(D,Q.value))return;G.value=I;return}if(I===G.value){G.value=null;return}const ie=Ps.value.find(Te=>Te.to===I);if(!ie){D&&nl(D,Q.value)&&(G.value=I);return}if(he.value){Xi(ie);return}ol(ie),al()},nr=()=>{al()},or=()=>{L&&(clearTimeout(L),L=null),T.value=io(),Q.value="white",G.value=null,se.value=null,oe.value=[],V.value=!1,ll()},lr=async()=>{if(he.value){if(p.value)return;await Jn("resign");return}await s.push("/tableau-de-bord")},ar=async()=>{if(he.value){if(p.value)return;await Jn("draw");return}await s.push("/tableau-de-bord")},ir=()=>{if(he.value){j.value="Action indisponible en multijoueur.";return}Z.value=!1,or(),tl()},rr=async()=>{await s.push("/tableau-de-bord")};St([T,Q,A],ll,{immediate:!0}),St(()=>i.value.length,async()=>{await Qs(),ae.value&&(ae.value.scrollTop=ae.value.scrollHeight)}),Fn(()=>{Kn(),fs(),L&&(clearTimeout(L),L=null)});const cr=J(()=>Be.flatMap((I,D)=>ge.map((ie,Te)=>{const Ie=T.value[D]?.[Te]??"",yt=`${ie}${I}`,Dt=(D+Te)%2===1,Zt=Ie?Ie===Ie.toUpperCase()?"light":"dark":"",Ns=G.value===yt,rn=We.value.has(yt),ur=se.value?.from===yt||se.value?.to===yt,dr=se.value?.to===yt;return{id:yt,piece:Ie,symbol:at[Ie]??"",dark:Dt,tone:Zt,isSelected:Ns,isTarget:rn,isLast:ur,isArrival:dr}})));return(I,D)=>(w(),dt(Qt,{eyebrow:"Partie",title:`Match ${n.value||"Libre"}`,subtitle:`Mode ${Le.value} - ${Re.value} - Cadence ${et.value}`},{default:Pe(()=>[o("section",pv,[o("div",hv,[o("div",vv,[o("div",mv,[o("div",null,[D[5]||(D[5]=o("p",{class:"panel-title"},"Plateau",-1)),o("h3",gv,"Tour: "+g(Q.value==="white"?"Blancs":"Noirs"),1)]),o("span",yv,g(me.value==="IA"?"IA active":me.value==="JcJ"?"En ligne":"Local"),1)]),De.value?(w(),S("p",_v,g(De.value),1)):le("",!0),j.value?(w(),S("p",bv,g(j.value),1)):le("",!0),Me.value?(w(),S("p",{key:2,class:pe(["form-message",ye.value?"form-message--error":"form-message--success"])},g(Me.value),3)):le("",!0),o("div",wv,[o("div",{class:pe(["player-chip",Q.value==="white"&&"player-chip--active"])},[o("div",$v,g(Zo(Is.value)),1),o("div",Sv,[o("p",kv,g(Is.value),1),D[6]||(D[6]=o("p",{class:"player-meta"},"Blancs",-1))]),o("div",{class:pe(["player-clock",P(W.value)])},g(z.value),3)],2),D[8]||(D[8]=o("span",{class:"vs-pill"},"VS",-1)),o("div",{class:pe(["player-chip",Q.value==="black"&&"player-chip--active"])},[o("div",Cv,g(Zo(Os.value)),1),o("div",Av,[o("p",xv,g(Os.value),1),D[7]||(D[7]=o("p",{class:"player-meta"},"Noirs",-1))]),o("div",{class:pe(["player-clock",P(K.value)])},g(q.value),3)],2)]),o("div",Ev,[o("div",Rv,[(w(!0),S(re,null,ve(cr.value,ie=>(w(),S("button",{key:ie.id,type:"button",class:pe(["square",ie.dark?"square--dark":"square--light",ie.isLast?"square--last":"",ie.isArrival?"square--arrival":"",ie.isSelected?"square--selected":"",ie.isTarget?"square--target":""]),onClick:Te=>sr(ie.id,ie.piece)},[ie.piece?(w(),S("span",{key:0,class:pe(["piece",ie.tone==="light"?"piece--light":"piece--dark",ie.isArrival?"piece--impact":""])},g(ie.symbol),3)):le("",!0)],10,Mv))),128))])])]),o("div",Pv,[D[11]||(D[11]=o("div",null,[o("p",{class:"panel-title"},"Actions"),o("h3",{class:"panel-headline"},"Fin de match"),o("p",{class:"panel-sub"},"Gerez la partie en cours en un clic.")],-1)),o("button",{class:"button-ghost game-action",type:"button",disabled:p.value,onClick:lr}," Abandonner ",8,Iv),o("button",{class:"button-ghost game-action",type:"button",disabled:p.value,onClick:ar}," Match Nul ",8,Ov),o("button",{class:"button-primary game-action",type:"button",disabled:he.value,onClick:ir}," Reinitialiser ",8,Tv),ne.value?(w(),S("p",{key:0,class:pe(["form-message",X.value?"form-message--error":"form-message--success"])},g(ne.value),3)):le("",!0),he.value&&p.value?(w(),S("div",Nv,[D[9]||(D[9]=o("p",{class:"panel-title"},"Revanche",-1)),D[10]||(D[10]=o("p",{class:"panel-sub"},"Proposez une nouvelle partie a votre adversaire.",-1)),o("div",{class:"game-rematch-actions"},[o("button",{class:"button-primary",type:"button",onClick:er}," Proposer une revanche "),o("button",{class:"button-ghost",type:"button",onClick:rr}," Retour au tableau ")]),U.value?(w(),S("p",{key:0,class:pe(["form-message",B.value?"form-message--error":"form-message--success"])},g(U.value),3)):le("",!0)])):le("",!0)])]),o("div",Lv,[D[20]||(D[20]=o("div",{class:"panel-header"},[o("div",null,[o("p",{class:"panel-title"},"Commandes"),o("h3",{class:"panel-headline"},"Gestion du match")])],-1)),o("div",Dv,[o("div",null,[o("p",Vv,g(ft.value),1),o("p",Fv,g(te.value==="white"?"Blancs":"Noirs"),1)]),o("div",null,[o("p",Uv,g(ot.value),1),o("p",jv,g(Re.value),1)]),o("div",null,[D[12]||(D[12]=o("p",{class:"metric-label"},"Cadence",-1)),o("p",Bv,g(et.value),1)])]),me.value==="IA"?(w(),S("div",Hv,[D[13]||(D[13]=o("p",{class:"metric-label"},"Difficulte IA",-1)),o("div",Gv,[o("button",{type:"button",class:pe(["segmented-button",A.value==="facile"&&"segmented-button--active"]),onClick:D[0]||(D[0]=ie=>A.value="facile")}," Facile ",2),o("button",{type:"button",class:pe(["segmented-button",A.value==="intermediaire"&&"segmented-button--active"]),onClick:D[1]||(D[1]=ie=>A.value="intermediaire")}," Intermediaire ",2),o("button",{type:"button",class:pe(["segmented-button",A.value==="difficile"&&"segmented-button--active"]),onClick:D[2]||(D[2]=ie=>A.value="difficile")}," Difficile ",2),o("button",{type:"button",class:pe(["segmented-button",A.value==="maitre"&&"segmented-button--active"]),onClick:D[3]||(D[3]=ie=>A.value="maitre")}," Maitre ",2)]),o("button",{class:"button-primary",type:"button",disabled:V.value,onClick:nr},g(V.value?"IA en cours...":"Jouer le coup IA"),9,qv)])):le("",!0),o("div",Kv,[D[17]||(D[17]=o("p",{class:"panel-title"},"Analyse IA",-1)),o("div",Jv,[o("div",Wv,[D[14]||(D[14]=o("p",{class:"metric-label"},"Evaluation",-1)),o("p",zv,g(zi.value),1),o("p",Yv,g(Yi.value),1)]),o("div",Qv,[D[15]||(D[15]=o("p",{class:"metric-label"},"Ligne suggeree",-1)),o("p",Xv,g(Qi.value),1),D[16]||(D[16]=o("p",{class:"metric-note"},"Proposition issue du moteur local.",-1))])])]),o("div",Zv,[D[18]||(D[18]=o("p",{class:"panel-title"},"Historique",-1)),o("div",em,[oe.value.length?le("",!0):(w(),S("div",tm,"Aucun coup joue.")),(w(!0),S(re,null,ve(oe.value,ie=>(w(),S("div",{key:ie.ply,class:"move-item"},[o("span",sm,"#"+g(ie.ply),1),o("span",nm,g(ie.side==="white"?"Blancs":"Noirs"),1),o("span",om,g(ie.notation),1)]))),128))])]),he.value?(w(),S("div",lm,[D[19]||(D[19]=o("p",{class:"panel-title"},"Chat",-1)),o("div",{ref_key:"chatListRef",ref:ae,class:"chat-list"},[i.value.length?le("",!0):(w(),S("div",am,"Aucun message.")),(w(!0),S(re,null,ve(i.value,ie=>(w(),S("div",{key:ie.id,class:"chat-item"},[o("div",im,[o("span",rm,g(ie.userName),1),o("span",cm,g(Zi(ie.createdAt)),1)]),o("p",um,g(ie.message),1)]))),128))],512),o("div",dm,[Ce(o("input",{"onUpdate:modelValue":D[4]||(D[4]=ie=>b.value=ie),type:"text",placeholder:"Ecrire un message...",disabled:$.value||k.value,onKeydown:yi(zt(il,["prevent"]),["enter"])},null,40,fm),[[Ue,b.value]]),o("button",{class:"button-primary",type:"button",disabled:$.value||k.value||!b.value.trim(),onClick:il},g($.value?"Envoi...":"Envoyer"),9,pm)]),M.value?(w(),S("p",hm,g(M.value),1)):le("",!0)])):le("",!0)])])]),_:1},8,["title","subtitle"]))}}),mm={class:"profile-grid"},gm={class:"panel profile-card"},ym={class:"form-field"},_m={class:"form-field"},bm={class:"form-field"},wm={class:"form-field"},$m={class:"form-field"},Sm={class:"avatar-field"},km={class:"avatar-preview"},Cm=["src"],Am={key:1},xm={class:"avatar-controls"},Em={class:"form-field"},Rm=["value"],Mm={class:"panel profile-card"},Pm={class:"form-field"},Im={class:"form-field"},Om={class:"form-field"},Tm=Je({__name:"ProfileView",setup(e){const t=O(null),s=Jt({name:"",title:"",motto:"",location:"",avatarUrl:""}),n=O(""),l=O(!1),a=J(()=>t.value?.profile.email??""),i=J(()=>{const v=s.name.trim();return v&&v.split(" ").filter(Boolean).slice(0,2).map(k=>k[0]?.toUpperCase()??"").join("")||"?"}),c=Jt({current:"",next:"",confirm:""}),r=O(""),f=O(!1);Tt(async()=>{const v=await an();t.value=v,s.name=v.profile.name,s.title=v.profile.title,s.motto=v.profile.motto,s.location=v.profile.location,s.avatarUrl=v.profile.avatarUrl});const u=v=>{const k=v.target?.files?.[0];if(!k)return;const j=new FileReader;j.onload=()=>{typeof j.result=="string"&&(s.avatarUrl=j.result)},j.readAsDataURL(k)},d=async()=>{t.value&&(t.value.profile={...t.value.profile,...s},t.value=await Kd(t.value),n.value="Profil mis a jour.",l.value=!1)},h=async()=>{if(r.value="",f.value=!1,!c.current||!c.next){r.value="Veuillez remplir tous les champs.",f.value=!0;return}if(c.next!==c.confirm){r.value="Les mots de passe ne correspondent pas.",f.value=!0;return}if(!await Yd()){r.value="Veuillez vous connecter pour modifier le mot de passe.",f.value=!0;return}const _=await ef(c.current,c.next);r.value=_.message,f.value=!_.ok,_.ok&&(c.current="",c.next="",c.confirm="")};return(v,_)=>(w(),dt(Qt,{eyebrow:"Profil",title:"Parametres du compte",subtitle:"Gerez vos informations et la securite du compte."},{default:Pe(()=>[o("section",mm,[o("div",gm,[_[16]||(_[16]=o("div",{class:"panel-header"},[o("div",null,[o("p",{class:"panel-title"},"Profil public"),o("h3",{class:"panel-headline"},"Identite et preferences")])],-1)),o("form",{class:"form-stack",onSubmit:zt(d,["prevent"])},[o("label",ym,[_[9]||(_[9]=o("span",{class:"form-label"},"Nom",-1)),Ce(o("input",{"onUpdate:modelValue":_[0]||(_[0]=k=>s.name=k),class:"form-input",type:"text"},null,512),[[Ue,s.name]])]),o("label",_m,[_[10]||(_[10]=o("span",{class:"form-label"},"Titre",-1)),Ce(o("input",{"onUpdate:modelValue":_[1]||(_[1]=k=>s.title=k),class:"form-input",type:"text"},null,512),[[Ue,s.title]])]),o("label",bm,[_[11]||(_[11]=o("span",{class:"form-label"},"Devise",-1)),Ce(o("input",{"onUpdate:modelValue":_[2]||(_[2]=k=>s.motto=k),class:"form-input",type:"text"},null,512),[[Ue,s.motto]])]),o("label",wm,[_[12]||(_[12]=o("span",{class:"form-label"},"Localisation",-1)),Ce(o("input",{"onUpdate:modelValue":_[3]||(_[3]=k=>s.location=k),class:"form-input",type:"text"},null,512),[[Ue,s.location]])]),o("div",$m,[_[13]||(_[13]=o("span",{class:"form-label"},"Avatar",-1)),o("div",Sm,[o("div",km,[s.avatarUrl?(w(),S("img",{key:0,src:s.avatarUrl,alt:"Avatar profil"},null,8,Cm)):(w(),S("span",Am,g(i.value),1))]),o("div",xm,[Ce(o("input",{"onUpdate:modelValue":_[4]||(_[4]=k=>s.avatarUrl=k),class:"form-input",type:"url",placeholder:"https://"},null,512),[[Ue,s.avatarUrl]]),o("input",{class:"form-input avatar-file",type:"file",accept:"image/*",onChange:u},null,32),o("button",{class:"button-ghost",type:"button",onClick:_[5]||(_[5]=k=>s.avatarUrl="")}," Retirer l'avatar ")])])]),o("label",Em,[_[14]||(_[14]=o("span",{class:"form-label"},"Email",-1)),o("input",{class:"form-input",type:"email",value:a.value,disabled:""},null,8,Rm)]),_[15]||(_[15]=o("button",{class:"button-primary",type:"submit"},"Enregistrer",-1))],32),n.value?(w(),S("p",{key:0,class:pe(["form-message",l.value?"form-message--error":"form-message--success"])},g(n.value),3)):le("",!0)]),o("div",Mm,[_[21]||(_[21]=o("div",{class:"panel-header"},[o("div",null,[o("p",{class:"panel-title"},"Securite"),o("h3",{class:"panel-headline"},"Changer le mot de passe")])],-1)),o("form",{class:"form-stack",onSubmit:zt(h,["prevent"])},[o("label",Pm,[_[17]||(_[17]=o("span",{class:"form-label"},"Mot de passe actuel",-1)),Ce(o("input",{"onUpdate:modelValue":_[6]||(_[6]=k=>c.current=k),class:"form-input",type:"password"},null,512),[[Ue,c.current]])]),o("label",Im,[_[18]||(_[18]=o("span",{class:"form-label"},"Nouveau mot de passe",-1)),Ce(o("input",{"onUpdate:modelValue":_[7]||(_[7]=k=>c.next=k),class:"form-input",type:"password"},null,512),[[Ue,c.next]])]),o("label",Om,[_[19]||(_[19]=o("span",{class:"form-label"},"Confirmer",-1)),Ce(o("input",{"onUpdate:modelValue":_[8]||(_[8]=k=>c.confirm=k),class:"form-input",type:"password"},null,512),[[Ue,c.confirm]])]),_[20]||(_[20]=o("button",{class:"button-primary",type:"submit"},"Mettre a jour",-1))],32),r.value?(w(),S("p",{key:0,class:pe(["form-message",f.value?"form-message--error":"form-message--success"])},g(r.value),3)):le("",!0)])])]),_:1}))}}),Nm={class:"content-grid"},Lm={class:"left-column"},Dm={class:"panel hero-card"},Vm={class:"stats-grid"},Fm={class:"stat-label"},Um={class:"stat-value"},jm={class:"stat-meta"},Bm={class:"stat-change"},Hm={class:"panel elo-panel"},Gm={class:"panel-header"},qm={class:"segmented elo-periods"},Km=["onClick"],Jm={class:"elo-chart"},Wm=["viewBox"],zm=["d"],Ym=["d"],Qm=["cx","cy"],Xm={class:"elo-range"},Zm={class:"elo-metrics"},eg={class:"metric-card"},tg={class:"metric-value"},sg={class:"metric-card"},ng={class:"metric-value"},og={class:"metric-card"},lg={class:"metric-value"},ag={class:"period-metrics"},ig={class:"metric-label"},rg={class:"metric-value"},cg={class:"metric-note"},ug={class:"panel"},dg={class:"progress-list analysis-progress"},fg={class:"progress-labels"},pg={class:"progress-bar"},hg={class:"panel"},vg={class:"session-list"},mg={class:"session-title"},gg={class:"session-time"},yg={class:"badge-soft"},_g={class:"right-column"},bg={class:"panel"},wg={class:"session-list"},$g={class:"session-title"},Sg={class:"session-time"},kg={class:"badge-soft"},Cg={class:"panel"},Ag={class:"hero-metrics"},xg={class:"metric-label"},Eg={class:"metric-value"},Rg={class:"metric-note"},Mg={class:"panel leaderboard-card"},Pg={class:"leaderboard-list"},Ig={class:"leaderboard-user"},Og={class:"leaderboard-avatar"},Tg={class:"leaderboard-name"},Ng={class:"leaderboard-meta"},Lg={class:"leaderboard-delta"},Dg=Je({__name:"ProfileAnalysisView",setup(e){const t=Vi(),s=O([]),n=O(1800),l=O("30j"),a=[{key:"7j",label:"7 jours",games:5},{key:"30j",label:"30 jours",games:12},{key:"90j",label:"90 jours",games:24}],i=a[1]??a[0]??{key:"30j",label:"30 jours",games:12},c=J(()=>a.find(E=>E.key===l.value)??i),r=J(()=>{const E=c.value.games;return s.value.slice(0,E).reverse()}),f=E=>E==="win"?18:E==="draw"?6:-12,u=(E,C)=>{if(!E.length)return[C-6,C];const b=E.map(U=>f(U.result));let M=C-b.reduce((U,B)=>U+B,0);const ae=[M];for(const U of b)M+=U,ae.push(M);return ae},d=E=>{const M=E.length>1?E:[E[0]??0,E[0]??0],ae=Math.min(...M),U=Math.max(...M),B=Math.max(1,U-ae),ne=M.length>1?484/(M.length-1):0,X=124,W=M.map((Me,ye)=>{const F=18+ne*ye,Z=142-(Me-ae)/B*X;return{x:F,y:Z,value:Me}}),K=W.map((Me,ye)=>`${ye===0?"M":"L"}${Me.x} ${Me.y}`).join(" "),ue=W[W.length-1]??{x:18},Fe=`${K} L${ue.x} 142 L18 142 Z`;return{width:520,height:160,line:K,area:Fe,points:W,min:ae,max:U,start:M[0]??0,end:M[M.length-1]??0}},h=J(()=>u(r.value,n.value)),v=J(()=>d(h.value)),_=J(()=>{const E=v.value.points;return E[E.length-1]??{x:0,y:0}}),k=E=>Math.round(E).toString(),j=J(()=>{const E=r.value,C=E.length;if(!C)return[{label:"Matchs joues",value:"0",note:"Aucune partie"},{label:"Taux de victoire",value:"0%",note:"0 victoires"},{label:"Precision moyenne",value:"0%",note:"---"},{label:"Ouverture favorite",value:"---",note:"---"}];const b=E.filter(ne=>ne.result==="win").length,$=Math.round(b/C*100),M=Math.round(E.reduce((ne,X)=>ne+(X.accuracy??0),0)/C),ae=Math.round(E.reduce((ne,X)=>ne+(X.moves??0),0)/C),U=E.reduce((ne,X)=>{const W=X.opening||"Inconnue";return ne[W]=(ne[W]??0)+1,ne},{}),B=Object.entries(U).sort((ne,X)=>X[1]-ne[1])[0]?.[0]??"---";return[{label:"Matchs joues",value:`${C}`,note:`${b} victoires`},{label:"Taux de victoire",value:`${$}%`,note:`Moyenne ${ae} coups`},{label:"Precision moyenne",value:`${M}%`,note:"Sur ce segment"},{label:"Ouverture favorite",value:B,note:`${U[B]??0} parties`}]});return Tt(async()=>{const E=await an();s.value=E.games??[],n.value=E.profile.rating??1800}),(E,C)=>(w(),dt(Qt,{eyebrow:"Analyse",title:"Analyse du profil",subtitle:"Synthese de performance et tendances recentes."},{default:Pe(()=>[o("section",Nm,[o("div",Lm,[o("div",Dm,[C[0]||(C[0]=o("div",{class:"panel-header"},[o("div",null,[o("p",{class:"panel-title"},"Apercu general"),o("h2",{class:"panel-headline"},"Niveau et progression"),o("p",{class:"panel-sub"},"Suivi des stats cles sur vos 30 derniers matchs.")]),o("span",{class:"badge-soft"},"Semaine 02")],-1)),o("div",Vm,[(w(!0),S(re,null,ve($e(t).keyMetrics,b=>(w(),S("div",{key:b.label,class:"panel stat-card"},[o("p",Fm,g(b.label),1),o("p",Um,g(b.value),1),o("div",jm,[o("span",Bm,g(b.detail),1)])]))),128))])]),o("div",Hm,[o("div",Gm,[C[1]||(C[1]=o("div",null,[o("p",{class:"panel-title"},"Courbe Elo"),o("h3",{class:"panel-headline"},"Evolution recente"),o("p",{class:"panel-sub"},"Basee sur vos derniers matchs.")],-1)),o("div",qm,[(w(),S(re,null,ve(a,b=>o("button",{key:b.key,type:"button",class:pe(["segmented-button",l.value===b.key&&"segmented-button--active"]),onClick:$=>l.value=b.key},g(b.label),11,Km)),64))])]),o("div",Jm,[(w(),S("svg",{viewBox:`0 0 ${v.value.width} ${v.value.height}`,role:"img","aria-label":"Evolution de votre Elo"},[C[2]||(C[2]=o("defs",null,[o("linearGradient",{id:"eloGradient",x1:"0",y1:"0",x2:"0",y2:"1"},[o("stop",{offset:"0%","stop-color":"#7eb8ff","stop-opacity":"0.35"}),o("stop",{offset:"100%","stop-color":"#7eb8ff","stop-opacity":"0"})])],-1)),o("path",{class:"elo-area",d:v.value.area,fill:"url(#eloGradient)"},null,8,zm),o("path",{class:"elo-line",d:v.value.line},null,8,Ym),v.value.points.length?(w(),S("circle",{key:0,class:"elo-dot",cx:_.value.x,cy:_.value.y,r:"4"},null,8,Qm)):le("",!0)],8,Wm)),o("div",Xm,[o("span",null,g(k(v.value.min)),1),o("span",null,g(k(v.value.max)),1)])]),o("div",Zm,[o("div",eg,[C[3]||(C[3]=o("p",{class:"metric-label"},"Depart",-1)),o("p",tg,g(k(v.value.start)),1),C[4]||(C[4]=o("p",{class:"metric-note"},"Debut de periode",-1))]),o("div",sg,[C[5]||(C[5]=o("p",{class:"metric-label"},"Fin",-1)),o("p",ng,g(k(v.value.end)),1),C[6]||(C[6]=o("p",{class:"metric-note"},"Actuel",-1))]),o("div",og,[C[7]||(C[7]=o("p",{class:"metric-label"},"Variation",-1)),o("p",lg,g(Math.round(v.value.end-v.value.start)>=0?"+":"")+g(Math.round(v.value.end-v.value.start)),1),C[8]||(C[8]=o("p",{class:"metric-note"},"Sur la periode",-1))])]),o("div",ag,[(w(!0),S(re,null,ve(j.value,b=>(w(),S("div",{key:b.label,class:"metric-card"},[o("p",ig,g(b.label),1),o("p",rg,g(b.value),1),o("p",cg,g(b.note),1)]))),128))])]),o("div",ug,[C[9]||(C[9]=o("div",{class:"panel-header"},[o("div",null,[o("p",{class:"panel-title"},"Axes prioritaires"),o("h3",{class:"panel-headline"},"Progression ciblee")]),o("button",{class:"range-pill",type:"button"},"Mensuel")],-1)),o("div",dg,[(w(!0),S(re,null,ve($e(t).focusAreas,b=>(w(),S("div",{key:b.label,class:"progress-item"},[o("div",fg,[o("span",null,g(b.label),1),o("span",null,g(b.progress)+"%",1)]),o("div",pg,[o("span",{class:"progress-fill",style:ks({width:`${b.progress}%`})},null,4)])]))),128))])]),o("div",hg,[C[10]||(C[10]=o("div",{class:"panel-header"},[o("div",null,[o("p",{class:"panel-title"},"Moments forts"),o("h3",{class:"panel-headline"},"Ce qui fonctionne")])],-1)),o("div",vg,[(w(!0),S(re,null,ve($e(t).highlights,b=>(w(),S("div",{key:b.title,class:"session-item"},[o("div",null,[o("p",mg,g(b.title),1),o("p",gg,g(b.detail),1)]),o("span",yg,g(b.tag),1)]))),128))])])]),o("aside",_g,[o("div",bg,[C[11]||(C[11]=o("div",{class:"panel-header"},[o("div",null,[o("p",{class:"panel-title"},"Points d'alerte"),o("h3",{class:"panel-headline"},"A corriger")])],-1)),o("div",wg,[(w(!0),S(re,null,ve($e(t).alerts,b=>(w(),S("div",{key:b.title,class:"session-item"},[o("div",null,[o("p",$g,g(b.title),1),o("p",Sg,g(b.detail),1)]),o("span",kg,g(b.tag),1)]))),128))])]),o("div",Cg,[C[12]||(C[12]=o("div",{class:"panel-header"},[o("div",null,[o("p",{class:"panel-title"},"Analyse IA"),o("h3",{class:"panel-headline"},"Lecture automatique")])],-1)),o("div",Ag,[(w(!0),S(re,null,ve($e(t).aiSignals,b=>(w(),S("div",{key:b.label,class:"metric-card"},[o("p",xg,g(b.label),1),o("p",Eg,g(b.value),1),o("p",Rg,g(b.note),1)]))),128))])]),o("div",Mg,[C[13]||(C[13]=o("div",{class:"panel-header"},[o("div",null,[o("p",{class:"panel-title"},"Adversaires cle"),o("h3",{class:"panel-headline"},"Styles a preparer")])],-1)),o("div",Pg,[(w(!0),S(re,null,ve($e(t).rivals,b=>(w(),S("div",{key:b.name,class:"leaderboard-item"},[o("div",Ig,[o("div",Og,g(b.name.slice(0,1)),1),o("div",null,[o("p",Tg,g(b.name),1),o("p",Ng,g(b.note),1)])]),o("span",Lg,g(b.delta),1)]))),128))])])])])]),_:1}))}}),Vg={class:"profile-public-grid"},Fg={key:0,class:"panel profile-card"},Ug={key:1,class:"panel profile-card"},jg={class:"form-message form-message--error"},Bg={key:2,class:"panel profile-card profile-public"},Hg={class:"panel-header profile-public-header"},Gg={class:"panel-headline"},qg={class:"panel-sub"},Kg={class:"public-avatar"},Jg={class:"public-stats"},Wg={class:"stat-chip"},zg={class:"stat-chip-value"},Yg={class:"stat-chip-value"},Qg={class:"stat-chip"},Xg={class:"stat-chip-value"},Zg={class:"stat-chip"},e1={class:"stat-chip-value"},t1={class:"public-badges"},s1={key:0,class:"panel-sub"},n1={key:1,class:"form-message form-message--error"},o1={key:2,class:"badge-grid"},l1={class:"badge-icon"},a1={class:"badge-content"},i1={class:"badge-label"},r1={class:"badge-desc"},c1={class:"badge-value"},u1={key:3,class:"empty-state"},d1={key:0,class:"public-actions"},f1={key:2,class:"public-action-group"},p1=["disabled"],h1=Je({__name:"UserProfileView",setup(e){const t=Ii(),s=ds(),n=O(null),l=O([]),a=O(!1),i=O(""),c=O(!1),r=O(""),f=O(""),u=O(!1),d=O(""),h=O(!1),v=J(()=>String(t.params.id??"")),_=J(()=>n.value?.friendStatus??"none"),k=J(()=>_.value==="self"),j=J(()=>_.value==="friends"),E=J(()=>_.value==="outgoing"),C=J(()=>_.value==="incoming"),b=J(()=>n.value?.isOnline),$=J(()=>typeof b.value=="boolean"),M=J(()=>b.value===!0),ae=J(()=>{const F=n.value?.name?.trim()??"";return F&&F.split(" ").filter(Boolean).slice(0,2).map(Z=>Z[0]?.toUpperCase()??"").join("")||"?"}),U=F=>F==="streak"?"S":F==="tournament"?"T":F==="fairplay"?"F":"B",B=async F=>{a.value=!0,i.value="";try{l.value=await nf(F)}catch(Z){i.value=Z.message,l.value=[]}finally{a.value=!1}},ne=()=>{f.value="",u.value=!1,d.value="",h.value=!1},X=async()=>{ne(),r.value="",n.value=null;const F=v.value;if(!F){r.value="Profil introuvable.";return}c.value=!0;try{const Z=await sf(F);Z?(n.value=Z,await B(F)):r.value="Profil introuvable."}catch(Z){r.value=Z.message}finally{c.value=!1}},W=async()=>{if(n.value){ne();try{const F=await of(n.value.id);f.value=F.message,u.value=!F.ok,F.ok&&(n.value.friendStatus=F.friendStatus)}catch(F){f.value=F.message,u.value=!0}}},K=async()=>{if(n.value){ne();try{const F=await Pn(n.value.id,"accept");f.value=F.message,u.value=!F.ok,F.ok&&(n.value.friendStatus=F.friendStatus)}catch(F){f.value=F.message,u.value=!0}}},ue=async()=>{if(n.value){ne();try{const F=await Pn(n.value.id,"decline");f.value=F.message,u.value=!F.ok,F.ok&&(n.value.friendStatus=F.friendStatus)}catch(F){f.value=F.message,u.value=!0}}},Fe=async()=>{if(n.value){ne();try{const F=await Ti(n.value.id);f.value=F.message,u.value=!F.ok,F.ok&&(n.value.friendStatus=F.friendStatus)}catch(F){f.value=F.message,u.value=!0}}},Me=async()=>{if(n.value){ne();try{const F=await Ni(n.value.id);f.value=F.message,u.value=!F.ok,F.ok&&(n.value.friendStatus=F.friendStatus)}catch(F){f.value=F.message,u.value=!0}}},ye=async()=>{if(n.value){if(ne(),!j.value){d.value="Ajoutez ce joueur en ami pour lancer un match.",h.value=!0;return}if($.value&&!M.value){d.value="Ce joueur est hors ligne.",h.value=!0;return}try{const F=await Qo(n.value.id);d.value=F.message,h.value=!F.ok,F.ok&&F.status==="accepted"&&F.matchId&&(us(),await s.push(`/jeu/${F.matchId}`))}catch(F){d.value=F.message,h.value=!0}}};return St(v,X,{immediate:!0}),(F,Z)=>(w(),dt(Qt,{eyebrow:"Joueur",title:n.value?.name??"Profil joueur",subtitle:n.value?.title||"Profil public"},{default:Pe(()=>[o("section",Vg,[c.value?(w(),S("div",Fg,[...Z[0]||(Z[0]=[o("p",{class:"panel-title"},"Chargement",-1),o("p",{class:"panel-sub"},"Recuperation du profil en cours.",-1)])])):r.value?(w(),S("div",Ug,[o("p",jg,g(r.value),1)])):n.value?(w(),S("div",Bg,[o("div",Hg,[o("div",null,[Z[1]||(Z[1]=o("p",{class:"panel-title"},"Profil public",-1)),o("h2",Gg,g(n.value.name),1),o("p",qg,g(n.value.motto||"Aucune devise renseignee."),1)]),o("div",Kg,g(ae.value),1)]),o("div",Jg,[o("div",Wg,[Z[2]||(Z[2]=o("span",{class:"stat-chip-label"},"Elo",-1)),o("span",zg,g(n.value.rating),1)]),o("div",{class:pe(["stat-chip",$.value?M.value?"stat-chip--online":"stat-chip--offline":"stat-chip--unknown"])},[Z[3]||(Z[3]=o("span",{class:"stat-chip-label"},"Statut",-1)),o("span",Yg,g($.value?M.value?"En ligne":"Hors ligne":"Statut inconnu"),1)],2),o("div",Qg,[Z[4]||(Z[4]=o("span",{class:"stat-chip-label"},"Localisation",-1)),o("span",Xg,g(n.value.location||"Non renseignee"),1)]),o("div",Zg,[Z[5]||(Z[5]=o("span",{class:"stat-chip-label"},"Derniere activite",-1)),o("span",e1,g(n.value.lastSeen||"Non renseignee"),1)])]),o("div",t1,[Z[6]||(Z[6]=o("p",{class:"panel-title"},"Badges",-1)),Z[7]||(Z[7]=o("p",{class:"panel-sub"},"Series, tournois et fair-play.",-1)),a.value?(w(),S("p",s1,"Chargement des badges...")):i.value?(w(),S("p",n1,g(i.value),1)):(w(),S("div",o1,[(w(!0),S(re,null,ve(l.value,me=>(w(),S("article",{key:me.key,class:pe(["badge-card",!me.earned&&"badge-card--locked"])},[o("div",l1,g(U(me.key)),1),o("div",a1,[o("p",i1,g(me.label),1),o("p",r1,g(me.description),1),o("p",c1,g(me.value),1)])],2))),128))])),!a.value&&!i.value&&!l.value.length?(w(),S("p",u1," Aucun badge disponible. ")):le("",!0)]),k.value?le("",!0):(w(),S("div",d1,[_.value==="none"?(w(),S("button",{key:0,class:"button-primary",type:"button",onClick:W}," Demander en ami ")):E.value?(w(),S("button",{key:1,class:"button-ghost",type:"button",onClick:Fe}," Annuler la demande ")):C.value?(w(),S("div",f1,[o("button",{class:"button-primary",type:"button",onClick:K}," Accepter "),o("button",{class:"button-ghost",type:"button",onClick:ue}," Refuser ")])):j.value?(w(),S("button",{key:3,class:"button-ghost",type:"button",onClick:Me}," Retirer des amis ")):le("",!0),o("button",{class:"button-primary",type:"button",disabled:!j.value||$.value&&!M.value,onClick:ye},g($.value?M.value?"Lancer un match":"Indisponible":"Lancer un match"),9,p1)])),f.value?(w(),S("p",{key:1,class:pe(["form-message",u.value?"form-message--error":"form-message--success"])},g(f.value),3)):le("",!0),d.value?(w(),S("p",{key:2,class:pe(["form-message",h.value?"form-message--error":"form-message--success"])},g(d.value),3)):le("",!0)])):le("",!0)])]),_:1},8,["title","subtitle"]))}}),v1=async()=>{const e=await Ee("friends-list");return{friends:e.friends??[],incoming:e.incoming??[],outgoing:e.outgoing??[]}},m1={class:"content-grid"},g1={class:"left-column"},y1={class:"panel friends-card"},_1={class:"panel-header"},b1={class:"badge-soft"},w1={key:0,class:"panel-sub"},$1={key:1,class:"form-message form-message--error"},S1={key:2,class:"friends-list"},k1={class:"friend-ident"},C1={class:"friend-avatar"},A1={class:"friend-name"},x1={class:"friend-meta"},E1={class:"friend-chips"},R1={class:"friend-chip"},M1={class:"friend-chip"},P1={class:"friend-chip"},I1={class:"friend-actions"},O1=["disabled","onClick"],T1=["onClick"],N1={key:0,class:"empty-state"},L1={class:"right-column"},D1={class:"panel"},V1={class:"friends-request-list"},F1={class:"request-info"},U1={class:"friend-avatar"},j1={class:"friend-name"},B1={class:"friend-meta"},H1={class:"request-actions"},G1=["onClick"],q1=["onClick"],K1={class:"request-info"},J1={class:"friend-avatar"},W1={class:"friend-name"},z1=["onClick"],Y1={key:0,class:"empty-state"},Q1={class:"panel"},X1={class:"friends-request-list"},Z1={class:"request-info"},ey={class:"friend-avatar"},ty={class:"friend-name"},sy={class:"friend-meta"},ny={class:"request-actions"},oy=["onClick"],ly=["onClick"],ay={key:0,class:"empty-state"},iy=Je({__name:"FriendsView",setup(e){const t=ds(),s=O([]),n=O([]),l=O([]),a=O([]),i=O(!1),c=O(""),r=O(""),f=O(!1),u=O(""),d=O(!1),h=X=>{const W=X.trim();return W&&W.split(" ").filter(Boolean).slice(0,2).map(K=>K[0]?.toUpperCase()??"").join("")||"?"},v=X=>typeof X.isOnline=="boolean",_=X=>X.isOnline===!0,k=X=>v(X)?_(X)?"En ligne":"Hors ligne":"Statut inconnu",j=X=>!v(X)||_(X),E=()=>{r.value="",f.value=!1,u.value="",d.value=!1},C=async()=>{const X=await v1();s.value=X.friends,n.value=X.incoming,l.value=X.outgoing},b=async()=>{const X=await Li();a.value=X.matchInvites},$=async()=>{E(),c.value="",i.value=!0;try{await Promise.all([C(),b()])}catch(X){c.value=X.message}finally{i.value=!1}},M=async(X,W)=>{E();try{const K=await Pn(X.user.id,W);r.value=K.message,f.value=!K.ok,K.ok&&await C()}catch(K){r.value=K.message,f.value=!0}},ae=async X=>{E();try{const W=await Qo(X.id);u.value=W.message,d.value=!W.ok,W.ok&&W.status==="accepted"&&W.matchId&&(us(),await t.push(`/jeu/${W.matchId}`))}catch(W){u.value=W.message,d.value=!0}},U=async X=>{E();try{const W=await Ti(X.user.id);r.value=W.message,f.value=!W.ok,W.ok&&await C()}catch(W){r.value=W.message,f.value=!0}},B=async X=>{E();try{const W=await Ni(X.id);r.value=W.message,f.value=!W.ok,W.ok&&await C()}catch(W){r.value=W.message,f.value=!0}},ne=async(X,W)=>{E();try{const K=await Di(X.id,W);u.value=K.message,d.value=!K.ok,K.ok&&(await b(),W==="accept"&&K.matchId&&(us(),await t.push(`/jeu/${K.matchId}`)))}catch(K){u.value=K.message,d.value=!0}};return Tt(()=>{$(),$n("all").catch(()=>{})}),(X,W)=>(w(),dt(Qt,{eyebrow:"Social",title:"Mes amis",subtitle:"Gerez vos amis, vos demandes et les invitations de match."},{default:Pe(()=>[o("section",m1,[o("div",g1,[o("div",y1,[o("div",_1,[W[0]||(W[0]=o("div",null,[o("p",{class:"panel-title"},"Amis"),o("h3",{class:"panel-headline"},"Votre cercle de joueurs")],-1)),o("span",b1,g(s.value.length)+" amis",1)]),i.value?(w(),S("p",w1,"Chargement des amis...")):c.value?(w(),S("p",$1,g(c.value),1)):(w(),S("div",S1,[(w(!0),S(re,null,ve(s.value,K=>(w(),S("article",{key:K.id,class:"friend-row"},[o("div",k1,[o("div",C1,g(h(K.name)),1),o("div",null,[o("p",A1,g(K.name),1),o("p",x1,g(K.title||"Profil public"),1)])]),o("div",E1,[o("span",R1,"Elo "+g(K.rating),1),o("span",{class:pe(["friend-chip",v(K)?_(K)?"friend-chip--online":"friend-chip--offline":"friend-chip--unknown"])},g(k(K)),3),o("span",M1,g(K.location||"Localisation inconnue"),1),o("span",P1,g(K.lastSeen||"Derniere activite inconnue"),1)]),o("div",I1,[Se($e(Qe),{class:"button-ghost",to:`/joueur/${K.id}`},{default:Pe(()=>[...W[1]||(W[1]=[je("Voir",-1)])]),_:1},8,["to"]),o("button",{class:"button-primary",type:"button",disabled:!j(K),onClick:ue=>ae(K)},g(j(K)?"Inviter":"Indisponible"),9,O1),o("button",{class:"button-ghost",type:"button",onClick:ue=>B(K)}," Retirer ",8,T1)])]))),128)),!s.value.length&&!i.value?(w(),S("p",N1," Aucun ami pour le moment. ")):le("",!0)])),u.value?(w(),S("p",{key:3,class:pe(["form-message",d.value?"form-message--error":"form-message--success"])},g(u.value),3)):le("",!0)])]),o("aside",L1,[o("div",D1,[W[3]||(W[3]=o("div",{class:"panel-header"},[o("div",null,[o("p",{class:"panel-title"},"Demandes d'amis"),o("h3",{class:"panel-headline"},"En attente")])],-1)),o("div",V1,[(w(!0),S(re,null,ve(n.value,K=>(w(),S("div",{key:K.id,class:"request-row"},[o("div",F1,[o("div",U1,g(h(K.user.name)),1),o("div",null,[o("p",j1,g(K.user.name),1),o("p",B1,g(K.user.title||"Profil public"),1)])]),o("div",H1,[o("button",{class:"button-primary",type:"button",onClick:ue=>M(K,"accept")}," Accepter ",8,G1),o("button",{class:"button-ghost",type:"button",onClick:ue=>M(K,"decline")}," Refuser ",8,q1)])]))),128)),(w(!0),S(re,null,ve(l.value,K=>(w(),S("div",{key:K.id,class:"request-row request-row--outgoing"},[o("div",K1,[o("div",J1,g(h(K.user.name)),1),o("div",null,[o("p",W1,g(K.user.name),1),W[2]||(W[2]=o("p",{class:"friend-meta"},"Demande envoyee",-1))])]),o("button",{class:"button-ghost",type:"button",onClick:ue=>U(K)}," Annuler ",8,z1)]))),128))]),!n.value.length&&!l.value.length?(w(),S("p",Y1," Aucune demande en cours. ")):le("",!0),r.value?(w(),S("p",{key:1,class:pe(["form-message",f.value?"form-message--error":"form-message--success"])},g(r.value),3)):le("",!0)]),o("div",Q1,[W[4]||(W[4]=o("div",{class:"panel-header"},[o("div",null,[o("p",{class:"panel-title"},"Invitations de match"),o("h3",{class:"panel-headline"},"En cours")])],-1)),o("div",X1,[(w(!0),S(re,null,ve(a.value,K=>(w(),S("div",{key:K.id,class:"request-row"},[o("div",Z1,[o("div",ey,g(h(K.from.name)),1),o("div",null,[o("p",ty,g(K.from.name),1),o("p",sy,"Cadence "+g(K.timeControl),1)])]),o("div",ny,[o("button",{class:"button-primary",type:"button",onClick:ue=>ne(K,"accept")}," Accepter ",8,oy),o("button",{class:"button-ghost",type:"button",onClick:ue=>ne(K,"decline")}," Refuser ",8,ly)])]))),128))]),a.value.length?le("",!0):(w(),S("p",ay,"Aucune invitation."))])])])]),_:1}))}}),Hi="warchess.preferences",Ss={darkMode:!1,simplifiedUi:!1,language:"Francais",timezone:"Europe/Paris",cadence:"10+0 Rapide",boardTheme:"Theme botanique",notifications:{matchAlerts:!0,matchResults:!0,tacticalTips:!1},privacy:{publicProfile:!0,visibleHistory:!1,sharedStats:!0}},ry=()=>{if(typeof window>"u")return{};try{const e=window.localStorage.getItem(Hi);return e?JSON.parse(e):{}}catch{return{}}},Gi=()=>{const e=ry();return{...Ss,...e,notifications:{...Ss.notifications,...e.notifications??{}},privacy:{...Ss.privacy,...e.privacy??{}}}},co=e=>{typeof window>"u"||window.localStorage.setItem(Hi,JSON.stringify(e))},cy=()=>({...Ss,notifications:{...Ss.notifications},privacy:{...Ss.privacy}}),Sn=e=>{if(typeof document>"u")return;const t=document.documentElement;t.classList.toggle("theme-dark",e.darkMode),t.classList.toggle("ui-simple",e.simplifiedUi)},uy={class:"settings-grid"},dy={class:"panel settings-card"},fy={class:"form-stack"},py={class:"setting-list"},hy={class:"setting-item"},vy={class:"setting-item"},my={class:"form-field"},gy=["value"],yy={class:"form-field"},_y=["value"],by={class:"form-field"},wy=["value"],$y={class:"form-field"},Sy=["value"],ky={class:"panel settings-card"},Cy={class:"setting-list"},Ay={class:"setting-label"},xy={class:"setting-hint"},Ey=["onUpdate:modelValue"],Ry={class:"panel settings-card"},My={class:"setting-list"},Py={class:"setting-label"},Iy={class:"setting-hint"},Oy=["onUpdate:modelValue"],Ty={class:"panel settings-card"},Ny={key:0,class:"form-message form-message--success"},Ly=Je({__name:"SettingsView",setup(e){const t=Jt(Gi()),s=O("");St(t,d=>{co(d),Sn(d)},{deep:!0});const n=["Francais","English","Espanol"],l=["Europe/Paris","Europe/London","America/Montreal"],a=["10+0 Rapide","5+0 Blitz","15+10 Classique"],i=["Theme botanique","Theme sable","Theme contraste"],c=[{key:"matchAlerts",label:"Alertes de match",hint:"Rappels pour les parties planifiees."},{key:"matchResults",label:"Resultats de partie",hint:"Resume automatique apres chaque match."},{key:"tacticalTips",label:"Conseils tactiques",hint:"Suggestions basees sur vos parties."}],r=[{key:"publicProfile",label:"Profil public",hint:"Afficher votre nom et votre Elo."},{key:"visibleHistory",label:"Historique visible",hint:"Autoriser les autres a voir vos matchs."},{key:"sharedStats",label:"Statistiques partagees",hint:"Afficher les tendances globales."}],f=()=>{co(t),Sn(t),s.value="Parametres enregistres."},u=()=>{const d=cy();Object.assign(t,d),co(t),Sn(t),s.value="Parametres reinitialises."};return(d,h)=>(w(),dt(Qt,{eyebrow:"Parametres",title:"Parametres",subtitle:"Ajustez votre experience et vos preferences."},{default:Pe(()=>[o("section",uy,[o("div",dy,[h[12]||(h[12]=o("div",{class:"panel-header"},[o("div",null,[o("p",{class:"panel-title"},"Preferences generales"),o("h3",{class:"panel-headline"},"Interface & rythme")])],-1)),o("form",fy,[o("div",py,[o("label",hy,[h[6]||(h[6]=o("div",null,[o("p",{class:"setting-label"},"Mode sombre"),o("p",{class:"setting-hint"},"Palette adaptee pour un confort visuel nocturne.")],-1)),Ce(o("input",{"onUpdate:modelValue":h[0]||(h[0]=v=>t.darkMode=v),class:"setting-toggle",type:"checkbox"},null,512),[[js,t.darkMode]])]),o("label",vy,[h[7]||(h[7]=o("div",null,[o("p",{class:"setting-label"},"Interface simplifiee"),o("p",{class:"setting-hint"},"Masque les panneaux secondaires et epure l'ecran.")],-1)),Ce(o("input",{"onUpdate:modelValue":h[1]||(h[1]=v=>t.simplifiedUi=v),class:"setting-toggle",type:"checkbox"},null,512),[[js,t.simplifiedUi]])])]),o("label",my,[h[8]||(h[8]=o("span",{class:"form-label"},"Langue",-1)),Ce(o("select",{"onUpdate:modelValue":h[2]||(h[2]=v=>t.language=v),class:"form-input"},[(w(),S(re,null,ve(n,v=>o("option",{key:v,value:v},g(v),9,gy)),64))],512),[[os,t.language]])]),o("label",yy,[h[9]||(h[9]=o("span",{class:"form-label"},"Fuseau horaire",-1)),Ce(o("select",{"onUpdate:modelValue":h[3]||(h[3]=v=>t.timezone=v),class:"form-input"},[(w(),S(re,null,ve(l,v=>o("option",{key:v,value:v},g(v),9,_y)),64))],512),[[os,t.timezone]])]),o("label",by,[h[10]||(h[10]=o("span",{class:"form-label"},"Cadence favorite",-1)),Ce(o("select",{"onUpdate:modelValue":h[4]||(h[4]=v=>t.cadence=v),class:"form-input"},[(w(),S(re,null,ve(a,v=>o("option",{key:v,value:v},g(v),9,wy)),64))],512),[[os,t.cadence]])]),o("label",$y,[h[11]||(h[11]=o("span",{class:"form-label"},"Affichage plateau",-1)),Ce(o("select",{"onUpdate:modelValue":h[5]||(h[5]=v=>t.boardTheme=v),class:"form-input"},[(w(),S(re,null,ve(i,v=>o("option",{key:v,value:v},g(v),9,Sy)),64))],512),[[os,t.boardTheme]])])])]),o("div",ky,[h[13]||(h[13]=o("div",{class:"panel-header"},[o("div",null,[o("p",{class:"panel-title"},"Notifications"),o("h3",{class:"panel-headline"},"Ce que vous recevez")])],-1)),o("div",Cy,[(w(),S(re,null,ve(c,v=>o("label",{key:v.label,class:"setting-item"},[o("div",null,[o("p",Ay,g(v.label),1),o("p",xy,g(v.hint),1)]),Ce(o("input",{"onUpdate:modelValue":_=>t.notifications[v.key]=_,class:"setting-toggle",type:"checkbox"},null,8,Ey),[[js,t.notifications[v.key]]])])),64))])]),o("div",Ry,[h[14]||(h[14]=o("div",{class:"panel-header"},[o("div",null,[o("p",{class:"panel-title"},"Confidentialite"),o("h3",{class:"panel-headline"},"Visibilite du profil")])],-1)),o("div",My,[(w(),S(re,null,ve(r,v=>o("label",{key:v.label,class:"setting-item"},[o("div",null,[o("p",Py,g(v.label),1),o("p",Iy,g(v.hint),1)]),Ce(o("input",{"onUpdate:modelValue":_=>t.privacy[v.key]=_,class:"setting-toggle",type:"checkbox"},null,8,Oy),[[js,t.privacy[v.key]]])])),64))])]),o("div",Ty,[h[15]||(h[15]=o("div",{class:"panel-header"},[o("div",null,[o("p",{class:"panel-title"},"Sauvegarde"),o("h3",{class:"panel-headline"},"Synchronisation locale")])],-1)),h[16]||(h[16]=o("p",{class:"subhead"}," Vos parametres sont sauvegardes localement pour un deploiement statique. ",-1)),o("div",{class:"settings-actions"},[o("button",{class:"button-ghost",type:"button",onClick:u},"Reinitialiser"),o("button",{class:"button-primary",type:"button",onClick:f},"Enregistrer")]),s.value?(w(),S("p",Ny,g(s.value),1)):le("",!0)])])]),_:1}))}}),Dy=Je({__name:"IntroView",setup(e){const t=ds(),s=O(0),n=O(0),l=O(0),a=O(0),i=O(!1),c=O(!1),r=()=>{c.value||(c.value=!0,t.push("/connexion"))},f=_=>{const k=_.touches[0];k&&(s.value=k.clientY,n.value=k.clientX)},u=_=>{const k=_.changedTouches[0];if(!k)return;const j=s.value-k.clientY,E=Math.abs(n.value-k.clientX);j>80&&E<60&&r()},d=_=>{_.button===0&&(i.value=!0,l.value=_.clientY,a.value=_.clientX)},h=_=>{if(!i.value)return;i.value=!1;const k=l.value-_.clientY,j=Math.abs(a.value-_.clientX);k>80&&j<60&&r()},v=_=>{_.deltaY>60&&r()};return(_,k)=>(w(),S("section",{class:"intro-page",onTouchstart:f,onTouchend:u,onMousedown:d,onMouseup:h,onWheel:v},[...k[0]||(k[0]=[fi('<div class="intro-glow" aria-hidden="true"></div><div class="intro-center"><h1 class="intro-title">CloudChess</h1><p class="intro-subtitle">La partie commence dans les nuages.</p></div><div class="intro-hint" aria-hidden="true"><span>Glissez vers le haut</span><span class="intro-arrow"></span></div>',3)])],32))}}),Vy={class:"auth-orbit"},Fy={class:"panel auth-card auth-card--orbit"},Uy={class:"auth-stack"},jy={class:"auth-status"},By={class:"auth-status-count"},Hy={class:"form-field"},Gy={class:"form-field"},qy={class:"auth-input"},Ky=["type"],Jy=["aria-pressed","aria-label"],Wy=["disabled"],zy={key:0,class:"auth-progress","aria-hidden":"true"},Yy={class:"auth-stat"},Qy={class:"auth-stat-value"},Xy={class:"auth-links"},Zy=Je({__name:"LoginView",setup(e){const t=ds(),s=O(""),n=O(""),l=O(!1),a=O(""),i=O(!1),c=O(!1),r=O(null),f=["53% de victoires sur les parties rapides.","Ouverture la plus jouee : Italienne.","Moyenne de 32 coups par partie.","Taux de precision moyen : 87%.","Meilleure serie recente : 4 victoires."],u=J(()=>{const $=new Date,M=$.getFullYear()+$.getMonth()*31+$.getDate();return f[M%f.length]}),d=J(()=>{const M=Math.sin(new Date().getHours()/24*Math.PI*2);return Math.round(140+M*35)});let h=0,v=0,_=0,k=!1;const j=()=>{h=0,r.value&&(r.value.style.setProperty("--parallax-x",`${v}px`),r.value.style.setProperty("--parallax-y",`${_}px`))},E=$=>{if(!r.value)return;const M=r.value.getBoundingClientRect(),ae=($.clientX-M.left)/M.width-.5,U=($.clientY-M.top)/M.height-.5,B=24;v=ae*B*2,_=U*B*2,h||(h=window.requestAnimationFrame(j))},C=()=>{v=0,_=0,h||(h=window.requestAnimationFrame(j))},b=async()=>{a.value="",i.value=!1,c.value=!0;const $=await Xd(s.value,n.value);c.value=!1,a.value=$.message,i.value=!$.ok,$.ok&&await t.push("/tableau-de-bord")};return Tt(()=>{if(typeof window>"u")return;const $=window.matchMedia("(prefers-reduced-motion: reduce)").matches,M=window.matchMedia("(pointer: fine)").matches;$||!M||r.value&&(k=!0,r.value.addEventListener("pointermove",E),r.value.addEventListener("pointerleave",C))}),Fn(()=>{h&&window.cancelAnimationFrame(h),k&&r.value&&(r.value.removeEventListener("pointermove",E),r.value.removeEventListener("pointerleave",C))}),($,M)=>(w(),S("div",{ref_key:"authPageRef",ref:r,class:"auth-page auth-page--solo"},[M[18]||(M[18]=o("div",{class:"auth-wordmark","aria-hidden":"true"},null,-1)),M[19]||(M[19]=o("div",{class:"auth-silhouette auth-silhouette--pawn","aria-hidden":"true"},null,-1)),M[20]||(M[20]=o("div",{class:"auth-silhouette auth-silhouette--knight","aria-hidden":"true"},null,-1)),o("div",Vy,[M[17]||(M[17]=o("div",{class:"auth-halo","aria-hidden":"true"},null,-1)),o("div",Fy,[o("div",Uy,[M[12]||(M[12]=o("p",{class:"eyebrow"},"Connexion",-1)),M[13]||(M[13]=o("p",{class:"auth-kicker"},"Retour sur le plateau",-1)),M[14]||(M[14]=o("h1",{class:"auth-title"},"Reprendre votre partie",-1)),M[15]||(M[15]=o("p",{class:"subhead auth-subhead"}," Accedez a vos matchs en cours, vos invites d'amis et vos analyses. ",-1)),o("div",jy,[M[3]||(M[3]=o("span",{class:"status-dot","aria-hidden":"true"},null,-1)),M[4]||(M[4]=o("span",null,"Serveur en ligne",-1)),o("span",By,g(d.value)+" joueurs actifs",1)]),o("form",{class:"form-stack auth-form",onSubmit:zt(b,["prevent"])},[o("label",Hy,[M[5]||(M[5]=o("span",{class:"form-label"},"Email",-1)),Ce(o("input",{"onUpdate:modelValue":M[0]||(M[0]=ae=>s.value=ae),class:"form-input",type:"email",placeholder:"vous@exemple.com"},null,512),[[Ue,s.value]])]),o("label",Gy,[M[6]||(M[6]=o("span",{class:"form-label"},"Mot de passe",-1)),o("div",qy,[Ce(o("input",{"onUpdate:modelValue":M[1]||(M[1]=ae=>n.value=ae),class:"form-input",type:l.value?"text":"password",placeholder:"********"},null,8,Ky),[[ku,n.value]]),o("button",{class:"auth-toggle",type:"button","aria-pressed":l.value,"aria-label":l.value?"Masquer le mot de passe":"Afficher le mot de passe",onClick:M[2]||(M[2]=ae=>l.value=!l.value)},g(l.value?"Masquer":"Afficher"),9,Jy)])]),o("button",{class:"button-primary",type:"submit",disabled:c.value},g(c.value?"Connexion...":"Se connecter"),9,Wy),c.value?(w(),S("div",zy,[...M[7]||(M[7]=[o("span",{class:"auth-progress__bar"},null,-1)])])):le("",!0),M[8]||(M[8]=o("p",{class:"auth-note"},"Connexion securisee et synchronisee sur tous vos appareils.",-1))],32),a.value?(w(),S("p",{key:0,class:pe(["form-message",i.value?"form-message--error":"form-message--success"])},g(a.value),3)):le("",!0),o("div",Yy,[M[9]||(M[9]=o("span",{class:"auth-stat-label"},"Stat du jour",-1)),o("span",Qy,g(u.value),1)]),M[16]||(M[16]=fi('<div class="auth-chips"><div class="auth-chip"><span class="auth-chip-dot auth-chip-dot--match"></span> Matchs amis </div><div class="auth-chip"><span class="auth-chip-dot auth-chip-dot--analysis"></span> Analyse IA </div><div class="auth-chip"><span class="auth-chip-dot auth-chip-dot--rank"></span> Classements </div></div>',1)),o("div",Xy,[Se($e(Qe),{to:"/mot-de-passe-oublie"},{default:Pe(()=>[...M[10]||(M[10]=[je("Mot de passe oublie ?",-1)])]),_:1}),Se($e(Qe),{to:"/inscription"},{default:Pe(()=>[...M[11]||(M[11]=[je("Creer un compte",-1)])]),_:1})])])])])],512))}}),e_={class:"auth-page auth-page--solo"},t_={class:"auth-orbit"},s_={class:"panel auth-card auth-card--orbit"},n_={class:"form-field"},o_={class:"form-field"},l_={class:"form-field"},a_=["disabled"],i_={class:"auth-links"},r_=Je({__name:"RegisterView",setup(e){const t=ds(),s=O(""),n=O(""),l=O(""),a=O(""),i=O(!1),c=O(!1),r=async()=>{a.value="",i.value=!1,c.value=!0;const f=await Qd(n.value,l.value,s.value);c.value=!1,a.value=f.message,i.value=!f.ok,f.ok&&await t.push("/tableau-de-bord")};return(f,u)=>(w(),S("div",e_,[o("div",t_,[o("div",s_,[u[7]||(u[7]=o("p",{class:"eyebrow"},"Inscription",-1)),u[8]||(u[8]=o("h1",null,"Creer votre compte",-1)),u[9]||(u[9]=o("p",{class:"subhead"},"Rejoignez l'arene et configurez votre profil de jeu.",-1)),o("form",{class:"form-stack",onSubmit:zt(r,["prevent"])},[o("label",n_,[u[3]||(u[3]=o("span",{class:"form-label"},"Nom d'affichage",-1)),Ce(o("input",{"onUpdate:modelValue":u[0]||(u[0]=d=>s.value=d),class:"form-input",type:"text",placeholder:"Votre pseudo"},null,512),[[Ue,s.value]])]),o("label",o_,[u[4]||(u[4]=o("span",{class:"form-label"},"Email",-1)),Ce(o("input",{"onUpdate:modelValue":u[1]||(u[1]=d=>n.value=d),class:"form-input",type:"email",placeholder:"vous@exemple.com"},null,512),[[Ue,n.value]])]),o("label",l_,[u[5]||(u[5]=o("span",{class:"form-label"},"Mot de passe",-1)),Ce(o("input",{"onUpdate:modelValue":u[2]||(u[2]=d=>l.value=d),class:"form-input",type:"password",placeholder:"8 caracteres minimum"},null,512),[[Ue,l.value]])]),o("button",{class:"button-primary",type:"submit",disabled:c.value},g(c.value?"Creation...":"Creer le compte"),9,a_)],32),a.value?(w(),S("p",{key:0,class:pe(["form-message",i.value?"form-message--error":"form-message--success"])},g(a.value),3)):le("",!0),o("div",i_,[Se($e(Qe),{to:"/connexion"},{default:Pe(()=>[...u[6]||(u[6]=[je("Deja un compte ? Se connecter",-1)])]),_:1})])])])]))}}),c_={class:"auth-page"},u_={class:"panel auth-card"},d_={class:"form-field"},f_={class:"auth-links"},p_=Je({__name:"ForgotPasswordView",setup(e){const t=O(""),s=O(""),n=O(!1),l=()=>{const a=Zd(t.value);s.value=a.message,n.value=!a.ok};return(a,i)=>(w(),S("div",c_,[o("div",u_,[i[4]||(i[4]=o("p",{class:"eyebrow"},"Mot de passe oublie",-1)),i[5]||(i[5]=o("h1",null,"Reinitialiser votre acces",-1)),i[6]||(i[6]=o("p",{class:"subhead"},"Recevez un lien pour definir un nouveau mot de passe.",-1)),o("form",{class:"form-stack",onSubmit:zt(l,["prevent"])},[o("label",d_,[i[1]||(i[1]=o("span",{class:"form-label"},"Email",-1)),Ce(o("input",{"onUpdate:modelValue":i[0]||(i[0]=c=>t.value=c),class:"form-input",type:"email",placeholder:"vous@exemple.com"},null,512),[[Ue,t.value]])]),i[2]||(i[2]=o("button",{class:"button-primary",type:"submit"},"Envoyer le lien",-1))],32),s.value?(w(),S("p",{key:0,class:pe(["form-message",n.value?"form-message--error":"form-message--success"])},g(s.value),3)):le("",!0),o("div",f_,[Se($e(Qe),{to:"/connexion"},{default:Pe(()=>[...i[3]||(i[3]=[je("Retour a la connexion",-1)])]),_:1})])]),i[7]||(i[7]=o("div",{class:"panel auth-side"},[o("h2",null,"Securite du compte"),o("p",{class:"subhead"}," Les liens de reinitialisation expirent rapidement pour proteger votre compte. "),o("ul",{class:"auth-list"},[o("li",null,"Verifiez votre dossier spam si besoin."),o("li",null,"Choisissez un mot de passe unique."),o("li",null,"Activez les notifications de securite.")])],-1))]))}}),h_=Ud({history:bd("./"),routes:[{path:"/",name:"intro",component:Dy,alias:"/intro"},{path:"/connexion",name:"connexion",component:Zy},{path:"/tableau-de-bord",name:"dashboard",component:bh},{path:"/matchs",name:"matchs",component:nv},{path:"/jeu/:id?",name:"jeu",component:vm},{path:"/profil",name:"profil",component:Tm},{path:"/amis",name:"amis",component:iy},{path:"/joueur/:id",name:"joueur",component:h1},{path:"/profil/analyse",name:"profil-analyse",component:Dg},{path:"/parametres",name:"parametres",component:Ly},{path:"/inscription",name:"inscription",component:r_},{path:"/mot-de-passe-oublie",name:"mot-de-passe-oublie",component:p_}]}),v_=async()=>{ut()&&await Promise.allSettled([an(),$s()])};v_();Sn(Gi());const Xo=Pu(jd);Xo.use(Nu());Xo.use(h_);Xo.mount("#app");"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/sw.js").catch(()=>{})});
