const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./GameView-CF5IdQz7.js","./vendor-vue-DHDwDR0M.js","./index-VbADcaYQ.js","./index-DL7hFSrJ.css","./engine-CbTNbDBF.js","./pieceAssets-DL4XSxcU.js","./brand-icon-IDKxxvz3.js"])))=>i.map(i=>d[i]);
import{f as g,i as re,j as le,k as De,C as Le,e as G,g as it,_ as rt,m as Pe,D as lt}from"./index-VbADcaYQ.js";import{d as ze,p as b,c as i,F as T,a as W,s as Be,u as K,x as oe,n as ie,w as Q,A as ct,o,b as t,t as l,e as c,f as xe,h as ut,G as dt,i as se,g as u,I as vt,C as ht,D as ft,J as mt,B as pt,z as ne,y as yt}from"./vendor-vue-DHDwDR0M.js";import{l as _t,_ as bt}from"./brand-icon-IDKxxvz3.js";const gt={class:"bottom-nav","aria-label":"Navigation mobile"},wt={viewBox:"0 0 24 24","aria-hidden":"true"},kt=["d"],Rt=ze({__name:"BottomNav",setup(r){const n=ct(),v=[{label:"Dashboard",to:"/dashboard",matches:["/dashboard","/tableau-de-bord"],icon:"M4 11.5L12 5l8 6.5V20a1 1 0 0 1-1 1h-4v-6H9v6H5a1 1 0 0 1-1-1z"},{label:"Matchs",to:"/matchs",matches:["/matchs","/matches","/play","/jeu"],icon:"M7 5h10a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V7a2 2 0 0 1 2-2zm3 3h4v4h-4z"},{label:"Histoire",to:"/histoire",matches:["/histoire"],icon:"M5 4h7a2 2 0 0 1 2 2v14H7a2 2 0 0 0-2 2V4zm14 0h-7a2 2 0 0 0-2 2v14h7a2 2 0 0 1 2 2V4z"},{label:"Classement",to:"/leaderboard",matches:["/leaderboard","/classement"],icon:"M6 6h4v12H6zM14 3h4v15h-4zM10 10h4v8h-4z"},{label:"Profil",to:"/profile",matches:["/profile","/profil","/profil/analyse","/joueur"],icon:"M12 12a4 4 0 1 0-4-4 4 4 0 0 0 4 4zm-7 9a7 7 0 0 1 14 0"},{label:"Parametres",to:"/settings",matches:["/settings","/parametres"],icon:"M12 7a5 5 0 1 0 5 5 5 5 0 0 0-5-5zm9 5h-2.2a7.2 7.2 0 0 0-.7-1.8l1.6-1.6-1.4-1.4-1.6 1.6a7.2 7.2 0 0 0-1.8-.7V3h-2v2.2a7.2 7.2 0 0 0-1.8.7L8.5 4.3 7.1 5.7l1.6 1.6a7.2 7.2 0 0 0-.7 1.8H5v2h2.2a7.2 7.2 0 0 0 .7 1.8l-1.6 1.6 1.4 1.4 1.6-1.6a7.2 7.2 0 0 0 1.8.7V21h2v-2.2a7.2 7.2 0 0 0 1.8-.7l1.6 1.6 1.4-1.4-1.6-1.6a7.2 7.2 0 0 0 .7-1.8H21z"}],f=m=>m.matches.some(h=>n.path===h||n.path.startsWith(`${h}/`)),A=b(()=>v.map(m=>({...m,active:f(m)})));return(m,h)=>(o(),i("nav",gt,[(o(!0),i(T,null,W(A.value,R=>(o(),Be(K(oe),{key:R.label,to:R.to,class:ie(["bottom-nav__item",R.active?"bottom-nav__item--active":""]),"aria-current":R.active?"page":void 0},{default:Q(()=>[(o(),i("svg",wt,[t("path",{d:R.icon,fill:"none",stroke:"currentColor","stroke-width":"1.6","stroke-linecap":"round"},null,8,kt)])),t("span",null,l(R.label),1)]),_:2},1032,["to","class","aria-current"]))),128))]))}}),Ct=async r=>{const n=await g(`users-search?q=${encodeURIComponent(r)}`,{cacheTtlMs:1e4});return n.ok?n.users??[]:[]},Ha=async r=>{const n=await g(`users-profile?id=${encodeURIComponent(r)}`,{cacheTtlMs:6e4});return!n.ok||!n.profile?null:{...n.profile,friendStatus:n.friendStatus??"none"}},Ja=async r=>{const n=await g(`users-badges?id=${encodeURIComponent(r)}`,{cacheTtlMs:6e4});return n.ok?n.badges??[]:[]},Ga=async r=>{if(re())return await le("friend-request",{userId:r}),{ok:!0,message:"Demande d'ami en attente de connexion.",friendStatus:"outgoing"};try{return await g("friends-request",{method:"POST",body:JSON.stringify({userId:r})})}catch(n){if(De(n)||re())return await le("friend-request",{userId:r}),{ok:!0,message:"Demande d'ami en attente de connexion.",friendStatus:"outgoing"};throw n}},St=async(r,n)=>g("friends-respond",{method:"POST",body:JSON.stringify({userId:r,action:n})}),Wa=async r=>g("friends-cancel",{method:"POST",body:JSON.stringify({userId:r})}),Ka=async r=>g("friends-remove",{method:"POST",body:JSON.stringify({userId:r})}),Mt="/api",Nt=async()=>{const r=await g("notifications-get");return{friendRequests:(r.friendRequests??[]).map(n=>({...n,isNew:n.isNew??!1})),matchInvites:(r.matchInvites??[]).map(n=>({...n,isNew:n.isNew??!1})),matchReady:(r.matchReady??[]).map(n=>({...n,isNew:n.isNew??!1}))}},Qa=async(r,n="10+0",v="Aleatoire")=>{if(re())return await le("match-invite",{userId:r,timeControl:n,requesterSide:v}),{ok:!0,message:"Invitation en attente de connexion.",status:"pending"};try{return await g("match-invite-create",{method:"POST",body:JSON.stringify({userId:r,timeControl:n,requesterSide:v})})}catch(f){if(De(f)||re())return await le("match-invite",{userId:r,timeControl:n,requesterSide:v}),{ok:!0,message:"Invitation en attente de connexion.",status:"pending"};throw f}},It=async(r,n)=>g("match-invite-respond",{method:"POST",body:JSON.stringify({inviteId:r,action:n})}),fe=async(r="all")=>g("notifications-read",{method:"POST",body:JSON.stringify({type:r})}),Tt=(r,n,v)=>{const f=new EventSource(`${Mt}/notifications-stream?token=${encodeURIComponent(r)}`);return f.addEventListener("notifications",A=>{try{const m=JSON.parse(A.data);n({friendRequests:(m.friendRequests??[]).map(h=>({...h,isNew:h.isNew??!1})),matchInvites:(m.matchInvites??[]).map(h=>({...h,isNew:h.isNew??!1})),matchReady:(m.matchReady??[]).map(h=>({...h,isNew:h.isNew??!1}))})}catch{}}),v&&f.addEventListener("error",v),f},At={class:"app-shell"},Et={class:"dashboard-nav-actions"},Ot={class:"toast-stack","aria-live":"polite","aria-atomic":"true"},Lt={key:0,class:"toast-card",role:"status"},Pt={class:"toast-main"},xt={class:"toast-sub"},$t={class:"toast-timer"},Dt={id:"main-content",class:"main"},zt={class:"topbar"},Bt={class:"welcome"},Ft={key:0,class:"breadcrumbs","aria-label":"Fil d ariane"},Vt={key:1,class:"breadcrumbs__current"},jt={key:2,class:"breadcrumbs__sep"},Ut={class:"eyebrow"},qt={class:"headline"},Ht={key:1,class:"subhead"},Jt={class:"top-actions"},Gt={class:"search"},Wt={key:0,class:"search-panel"},Kt={key:0,class:"search-status"},Qt=["onMousedown"],Xt={class:"search-avatar"},Yt={class:"search-main"},Zt={class:"search-name"},ea={class:"search-sub"},ta={class:"search-meta"},aa={key:1,class:"search-status"},sa={class:"top-buttons"},na=["aria-expanded"],oa={key:0,class:"notify-badge"},ia={key:1,class:"notify-dot"},ra={key:0,id:"match-panel",class:"notify-panel",role:"region","aria-label":"Invitations de match"},la={key:0,class:"notify-status"},ca={key:1,class:"notify-status notify-status--error"},ua={class:"notify-avatar"},da={class:"notify-main"},va={class:"notify-name"},ha={class:"notify-sub"},fa={class:"notify-actions"},ma=["onClick"],pa=["onClick"],ya={key:2,class:"notify-status"},_a=["aria-expanded"],ba={key:0,class:"notify-badge"},ga={key:1,class:"notify-dot"},wa={key:0,id:"friend-panel",class:"notify-panel",role:"region","aria-label":"Demandes d'amis"},ka={key:0,class:"notify-status"},Ra={key:1,class:"notify-status notify-status--error"},Ca={class:"notify-avatar"},Sa={class:"notify-main"},Ma={class:"notify-name"},Na={class:"notify-actions"},Ia=["onClick"],Ta=["onClick"],Aa={key:2,class:"notify-status"},Ea={class:"user-pill"},Oa={class:"avatar"},La=["src"],Pa={key:1},xa={class:"user-name"},$a={class:"user-meta"},$e=2,Da=45e3,za=1200,Ba=4,Fa=2e4,Va=5,Xa=ze({__name:"DashboardLayout",props:{eyebrow:{default:"Bon retour"},title:{},subtitle:{default:""},breadcrumbs:{default:()=>[]}},setup(r){const n=r,v=yt(),f=c(null),A=b(()=>f.value?.profile.name??"Invite"),m=b(()=>Le()&&!G()?"Mode invite":f.value?.profile.title??"Compte local"),h=b(()=>Le()&&!G()?"Quitter":"Se deconnecter"),R=[{label:"Dashboard",to:"/dashboard"},{label:"Matchs",to:"/matchs"},{label:"Histoire",to:"/histoire"},{label:"Classement",to:"/leaderboard"},{label:"Profil",to:"/profile"},{label:"Parametres",to:"/settings"}],me=b(()=>f.value?.profile.avatarUrl??""),Fe=b(()=>{const s=A.value.trim();return s&&s.split(" ").filter(Boolean).slice(0,2).map(d=>d[0]?.toUpperCase()??"").join("")||"??"}),D=c(""),E=c([]),C=c(!1),k=c(""),z=c(!1),ce=c(null);let B=null,X=0;const p=c([]),y=c([]),ue=c([]),S=c(!1),_=c(""),F=c(""),Y=c(!1),V=c(""),Z=c(!1),M=c(!1),w=c(!1),de=c(null),ve=c(null);let O=null,ee=0,L=null,j=null,U=null,pe=0;const ye=b(()=>p.value.length),_e=b(()=>y.value.length),Ve=b(()=>p.value.some(s=>s.isNew)),je=b(()=>y.value.some(s=>s.isNew)),be=new Set;let q=!1;const N=c(null),P=c(0);let te=null;const ge=()=>{E.value=[],C.value=!1,k.value=""},we=()=>{F.value="",Y.value=!1},ke=()=>{V.value="",Z.value=!1},he=s=>{const e=s.trim();return e&&e.split(" ").filter(Boolean).slice(0,2).map(a=>a[0]?.toUpperCase()??"").join("")||"?"},Ue=s=>s.isOnline===!0?"En ligne":s.isOnline===!1?"Hors ligne":"Statut inconnu",qe=s=>s.isOnline===!0?"presence-dot--online":s.isOnline===!1?"presence-dot--offline":"presence-dot--unknown",He=async s=>{if(!G()){k.value="Connectez-vous pour rechercher.",E.value=[],C.value=!1;return}const e=X+=1;C.value=!0,k.value="";try{const a=await Ct(s);if(e!==X)return;E.value=a,a.length||(k.value="Aucun joueur trouve.")}catch(a){if(e!==X)return;k.value=a.message,E.value=[]}finally{e===X&&(C.value=!1)}},Je=async s=>{z.value=!1,D.value="",ge(),await v.push(`/joueur/${s.id}`)},I=async(s=!1)=>{if(s||(_.value=""),!G()){p.value=[],y.value=[],ue.value=[];return}s||(S.value=!0);try{const e=await Nt();p.value=e.friendRequests,y.value=e.matchInvites,ue.value=e.matchReady,Te(e.matchReady)}catch(e){s||(_.value=e.message)}finally{s||(S.value=!1)}},Re=()=>{pe=Date.now()},H=()=>{U&&(clearInterval(U),U=null)},Ge=()=>{typeof navigator<"u"&&!navigator.onLine||U||($(),x(),I(!0),U=setInterval(()=>{I(!0)},Fa))},We=()=>{L&&clearTimeout(L);const s=Math.min(3e4,za*Math.pow(2,ee));L=setTimeout(()=>{ae()},s)},Ke=()=>{j||(j=setInterval(()=>{O&&Date.now()-pe>Da&&Ce()},1e4))},x=()=>{L&&(clearTimeout(L),L=null),j&&(clearInterval(j),j=null)},Ce=()=>{if($(),x(),ee+=1,ee>=Ba){Ge();return}We()},ae=()=>{if(document.hidden)return;const s=G();!s||O||(O=Tt(s,e=>{Re(),p.value=e.friendRequests,y.value=e.matchInvites,ue.value=e.matchReady,Te(e.matchReady),_.value&&(_.value="")},()=>{(M.value||w.value)&&(_.value="Connexion temps reel interrompue."),Ce()}),ee=0,Re(),H(),Ke())},$=()=>{O&&(O.close(),O=null)},Se=()=>{if(document.hidden){$(),x(),H();return}ae(),I(!0)},Me=()=>{document.hidden||(ae(),I(!0))},Ne=()=>{$(),x(),H()},Qe=()=>{if(typeof navigator>"u")return!1;const s=navigator.connection;return!(s?.saveData||s?.effectiveType&&/2g/.test(s.effectiveType))},Xe=()=>{if(typeof window>"u"||!Qe())return;(window.requestIdleCallback??(e=>window.setTimeout(e,800)))(()=>{rt(()=>import("./GameView-CF5IdQz7.js"),__vite__mapDeps([0,1,2,3,4,5,6]),import.meta.url)})},Ye=async()=>{try{await fe("friends"),p.value=p.value.map(s=>({...s,isNew:!1}))}catch{}},Ze=async()=>{try{await fe("matches"),y.value=y.value.map(s=>({...s,isNew:!1}))}catch{}},J=()=>{te&&(clearInterval(te),te=null)},et=()=>{try{"vibrate"in navigator&&navigator.vibrate([120,60,120])}catch{}try{const s=window.AudioContext||window.webkitAudioContext;if(!s)return;const e=new s,a=e.createOscillator(),d=e.createGain();a.type="triangle",a.frequency.value=880,d.gain.value=.06,a.connect(d),d.connect(e.destination),a.start(),setTimeout(()=>{a.stop(),e.close().catch(()=>{})},200)}catch{}},tt=()=>{J(),N.value=null,P.value=0,q=!1},Ie=async()=>{if(!N.value||q)return;const s=N.value.matchId;J(),N.value=null,P.value=0,q=!0;const e=v.currentRoute.value,a=typeof e.params.id=="string"?e.params.id:"";e.name==="play"&&a===s||(Pe(),w.value=!1,await v.push(`/jeu/${s}`)),q=!1},Te=async s=>{if(!s.length||q)return;const e=s.find(a=>!be.has(a.matchId));if(e){be.add(e.matchId),N.value=e,P.value=Va,et();try{await fe("match-ready")}catch{}J(),te=setInterval(()=>{if(P.value<=1){Ie();return}P.value-=1},1e3)}},at=async()=>{M.value=!M.value,M.value&&(w.value=!1,we(),await I(),await Ye())},st=async()=>{w.value=!w.value,w.value&&(M.value=!1,ke(),await I(),await Ze())},Ae=async(s,e)=>{we();try{const a=await St(s.user.id,e);F.value=a.message,Y.value=!a.ok,a.ok&&(p.value=p.value.filter(d=>d.id!==s.id))}catch(a){F.value=a.message,Y.value=!0}},Ee=async(s,e)=>{ke();try{const a=await It(s.id,e);V.value=a.message,Z.value=!a.ok,a.ok&&(y.value=y.value.filter(d=>d.id!==s.id),e==="accept"&&a.matchId&&(Pe(),w.value=!1,await v.push(`/jeu/${a.matchId}`)))}catch(a){V.value=a.message,Z.value=!0}},Oe=s=>{const e=s.target;e&&(ce.value&&!ce.value.contains(e)&&(z.value=!1),de.value&&!de.value.contains(e)&&(M.value=!1),ve.value&&!ve.value.contains(e)&&(w.value=!1))},nt=b(()=>{const s=D.value.trim().length>=$e;return z.value&&(s||C.value||!!k.value)});xe(async()=>{f.value=await it(),await I(),ae(),Xe()}),xe(()=>{document.addEventListener("mousedown",Oe),document.addEventListener("visibilitychange",Se),window.addEventListener("online",Me),window.addEventListener("offline",Ne)}),ut(()=>{B&&clearTimeout(B),J(),$(),x(),H(),document.removeEventListener("mousedown",Oe),document.removeEventListener("visibilitychange",Se),window.removeEventListener("online",Me),window.removeEventListener("offline",Ne)}),dt(D,s=>{B&&clearTimeout(B);const e=s.trim();if(!e){ge();return}if(e.length<$e){E.value=[],C.value=!1,k.value="Entrez au moins 2 caracteres.";return}B=setTimeout(()=>{He(e)},300)});const ot=async()=>{$(),x(),H(),J(),await lt(),await v.push("/auth")};return(s,e)=>(o(),i(T,null,[e[13]||(e[13]=t("a",{class:"skip-link",href:"#main-content"},"Aller au contenu",-1)),t("div",At,[se(bt,{class:"app-navbar--dashboard",items:R,"brand-label":"WarChess","brand-logo":K(_t)},{actions:Q(()=>[t("div",Et,[se(K(oe),{class:"button-ghost nav-action",to:"/amis"},{default:Q(()=>[...e[3]||(e[3]=[ne("Amis",-1)])]),_:1}),se(K(oe),{class:"app-navbar__link nav-action",to:"/help"},{default:Q(()=>[...e[4]||(e[4]=[ne("Aide & regles",-1)])]),_:1}),t("button",{class:"button-outline nav-action",type:"button",onClick:ot},l(h.value),1)])]),_:1},8,["brand-logo"]),t("div",Ot,[N.value?(o(),i("div",Lt,[t("div",Pt,[e[5]||(e[5]=t("p",{class:"toast-title"},"Match accepte",-1)),t("p",xt,l(N.value.from.name)+" a accepte votre invitation - "+l(N.value.timeControl)+". ",1),t("p",$t,"Redirection dans "+l(P.value)+"s",1)]),t("div",{class:"toast-actions"},[t("button",{class:"button-primary",type:"button",onClick:Ie},"Rejoindre"),t("button",{class:"button-ghost",type:"button",onClick:tt},"Annuler")])])):u("",!0)]),t("main",Dt,[t("header",zt,[t("div",Bt,[n.breadcrumbs.length?(o(),i("nav",Ft,[(o(!0),i(T,null,W(n.breadcrumbs,(a,d)=>(o(),i(T,{key:`${a.label}-${d}`},[a.to?(o(),Be(K(oe),{key:0,class:"breadcrumbs__link",to:a.to},{default:Q(()=>[ne(l(a.label),1)]),_:2},1032,["to"])):(o(),i("span",Vt,l(a.label),1)),d<n.breadcrumbs.length-1?(o(),i("span",jt,"/")):u("",!0)],64))),128))])):u("",!0),t("p",Ut,l(n.eyebrow),1),t("h1",qt,l(n.title),1),n.subtitle?(o(),i("p",Ht,l(n.subtitle),1)):u("",!0)]),t("div",Jt,[t("div",{ref_key:"searchGroup",ref:ce,class:"search-group"},[t("label",Gt,[e[6]||(e[6]=t("svg",{viewBox:"0 0 24 24","aria-hidden":"true"},[t("circle",{cx:"11",cy:"11",r:"7",stroke:"currentColor","stroke-width":"1.6",fill:"none"}),t("path",{d:"M16.5 16.5L21 21",stroke:"currentColor","stroke-width":"1.6","stroke-linecap":"round"})],-1)),ht(t("input",{"onUpdate:modelValue":e[0]||(e[0]=a=>D.value=a),type:"search",placeholder:"Rechercher joueurs, parties, ouvertures","aria-label":"Rechercher",onFocus:e[1]||(e[1]=a=>z.value=!0),onKeydown:e[2]||(e[2]=mt(a=>z.value=!1,["escape"]))},null,544),[[ft,D.value]])]),nt.value?(o(),i("div",Wt,[e[7]||(e[7]=t("p",{class:"search-title"},"Joueurs",-1)),C.value?(o(),i("p",Kt,"Recherche en cours...")):u("",!0),(o(!0),i(T,null,W(E.value,a=>(o(),i("button",{key:a.id,class:"search-item",type:"button",onMousedown:pt(d=>Je(a),["prevent"])},[t("span",Xt,l(he(a.name)),1),t("span",Yt,[t("span",Zt,l(a.name),1),t("span",ea,l(a.title||"Profil public"),1)]),t("span",ta,[t("span",{class:ie(["presence-dot",qe(a)]),"aria-hidden":"true"},null,2),ne(" "+l(Ue(a))+" - Elo "+l(a.rating),1)])],40,Qt))),128)),!C.value&&k.value?(o(),i("p",aa,l(k.value),1)):u("",!0)])):u("",!0)],512),t("div",sa,[t("div",{ref_key:"matchGroup",ref:ve,class:"notify-group"},[t("button",{class:"icon-button notify-button",type:"button","aria-label":"Notifications de match","aria-expanded":w.value,"aria-controls":"match-panel",onClick:st},[e[8]||(e[8]=t("svg",{viewBox:"0 0 24 24","aria-hidden":"true"},[t("path",{d:"M12 4a5 5 0 0 0-5 5v2.8l-1.4 2.2h12.8L17 11.8V9a5 5 0 0 0-5-5z",stroke:"currentColor","stroke-width":"1.6",fill:"none"}),t("path",{d:"M9.5 18a2.5 2.5 0 0 0 5 0",stroke:"currentColor","stroke-width":"1.6",fill:"none"})],-1)),_e.value?(o(),i("span",oa,l(_e.value),1)):u("",!0),je.value?(o(),i("span",ia)):u("",!0)],8,na),w.value?(o(),i("div",ra,[e[9]||(e[9]=t("p",{class:"notify-title"},"Invitations de match",-1)),S.value?(o(),i("p",la,"Chargement...")):u("",!0),!S.value&&_.value?(o(),i("p",ca,l(_.value),1)):u("",!0),(o(!0),i(T,null,W(y.value,a=>(o(),i("div",{key:a.id,class:"notify-item"},[t("span",ua,l(he(a.from.name)),1),t("span",da,[t("span",va,l(a.from.name),1),t("span",ha,"Invitation de match - "+l(a.timeControl),1)]),t("span",fa,[t("button",{class:"notify-action button-primary",type:"button",onClick:d=>Ee(a,"accept")}," Accepter ",8,ma),t("button",{class:"notify-action button-ghost",type:"button",onClick:d=>Ee(a,"decline")}," Refuser ",8,pa)])]))),128)),!S.value&&!y.value.length&&!_.value?(o(),i("p",ya," Aucune invitation. ")):u("",!0),V.value?(o(),i("p",{key:3,class:ie(["notify-status",Z.value?"notify-status--error":"notify-status--success"])},l(V.value),3)):u("",!0)])):u("",!0)],512),t("div",{ref_key:"friendGroup",ref:de,class:"notify-group"},[t("button",{class:"icon-button notify-button",type:"button","aria-label":"Demandes d'amis","aria-expanded":M.value,"aria-controls":"friend-panel",onClick:at},[e[10]||(e[10]=t("svg",{viewBox:"0 0 24 24","aria-hidden":"true"},[t("path",{d:"M4 6h16v9H7l-3 3V6z",stroke:"currentColor","stroke-width":"1.6",fill:"none","stroke-linejoin":"round"})],-1)),ye.value?(o(),i("span",ba,l(ye.value),1)):u("",!0),Ve.value?(o(),i("span",ga)):u("",!0)],8,_a),M.value?(o(),i("div",wa,[e[12]||(e[12]=t("p",{class:"notify-title"},"Demandes d'amis",-1)),S.value?(o(),i("p",ka,"Chargement...")):u("",!0),!S.value&&_.value?(o(),i("p",Ra,l(_.value),1)):u("",!0),(o(!0),i(T,null,W(p.value,a=>(o(),i("div",{key:a.id,class:"notify-item"},[t("span",Ca,l(he(a.user.name)),1),t("span",Sa,[t("span",Ma,l(a.user.name),1),e[11]||(e[11]=t("span",{class:"notify-sub"},"Demande d'ami",-1))]),t("span",Na,[t("button",{class:"notify-action button-primary",type:"button",onClick:d=>Ae(a,"accept")}," Accepter ",8,Ia),t("button",{class:"notify-action button-ghost",type:"button",onClick:d=>Ae(a,"decline")}," Refuser ",8,Ta)])]))),128)),!S.value&&!p.value.length&&!_.value?(o(),i("p",Aa," Aucune demande. ")):u("",!0),F.value?(o(),i("p",{key:3,class:ie(["notify-status",Y.value?"notify-status--error":"notify-status--success"])},l(F.value),3)):u("",!0)])):u("",!0)],512)]),t("div",Ea,[t("div",Oa,[me.value?(o(),i("img",{key:0,src:me.value,alt:"Avatar",width:"36",height:"36",loading:"lazy",decoding:"async"},null,8,La)):(o(),i("span",Pa,l(Fe.value),1))]),t("div",null,[t("p",xa,l(A.value),1),t("p",$a,l(m.value),1)])])])]),vt(s.$slots,"default")]),se(Rt)])],64))}});export{Xa as _,St as a,Wa as b,Qa as c,Ka as d,Ja as e,Nt as f,Ha as g,It as h,fe as m,Ga as r};
